{"version":3,"sources":["components/Logo/styles.module.scss","i18n.js","components/Logo/index.jsx","components/LoginForm/index.jsx","contexts.js","helpers/NS.js","helpers/useFetch.js","helpers/safeget.js","helpers/sorter.js","helpers/includes.js","helpers/listsearch.js","helpers/useList.js","helpers/useListv2.js","hooks/useProduct.js","hooks/useProductList.js","hooks/useClientOptions.js","hooks/useOrder.js","hooks/useTaskList.js","hooks/useVehicleList.js","hooks/useOrders.js","hooks/useExpenses.js","hooks/usePermissions.js","hooks/useTask.js","hooks/useVehicle.js","hooks/useOrganization.js","hooks/useVehicleOptions","hooks/useStaffOptions.js","hooks/useCategories.js","hooks/useServiceStatusOptions.js","hooks/useDepartments.js","hooks/useBrands.js","hooks/useSubcategories.js","hooks/useBrand.js","hooks/useDepartmentOptions.js","helpers/currencyFormatterPrefix.js","helpers/round.js","helpers/roundw.js","helpers/formatters.js","helpers/listOptsFromQueryParams.js","helpers/translateRules.js","helpers/editDeleteRenderer.js","helpers/computeOrderTotal.jsx","helpers/getName.js","helpers/measurementValueDisplay.js","helpers/deleteConfirm.js","helpers/makeLabelGetter.js","helpers/index.js","hooks/useOrderOptions.js","hooks/useModels.js","hooks/useDepartment.js","hooks/useLogin.js","hooks/useClients.js","hooks/useClient.js","hooks/useRoles.js","hooks/useProductv2.js","hooks/useQuotationToOrder.js","hooks/useDepartmentProfits.jsx","hooks/useProductProfits.js","hooks/index.js","containers/LoginPage/index.jsx","components/Spinner/index.jsx","helpers/webApiHelper.js","services/productService.js","components/ProductComponents/DeleteProduct/index.jsx","components/DropdownConfirmation.jsx","components/ProductComponents/ProductList/index.jsx","components/NSHandler.jsx","components/InputNumberFmtd/index.jsx","components/OrgAwareButton/index.jsx","components/FormModal.jsx","components/FormList/index.jsx","components/OrganizationAddr/index.jsx","components/ProtectedRoute.jsx","components/CategorySelect/index.jsx","components/DimensionFields/constants.js","components/DimensionFields/index.jsx","components/ProductSelect/index.jsx","components/BrandSelect/index.jsx","components/SelectedProducts/index.jsx","components/Select.js","components/index.jsx","containers/TaskDetail/index.jsx","containers/OrdersPage/Editor.jsx","components/ProductComponents/ServiceFormModal/index.jsx","containers/ProductsPage/ProductKitFormModal.jsx","containers/ProductsPage/ProductFormModal.jsx","containers/ProductsPage/index.js","helpers/validations.js","components/SubcategoriesComponents/SubcategoryForm/index.jsx","helpers/pagination.jsx","services/subcategoriesService.js","components/SubcategoriesComponents/DeleteSubcategory/index.jsx","components/SubcategoriesComponents/SubcategoriesList/index.jsx","containers/SubcategoriesPage/index.jsx","components/CategoriesComponents/CategoryForm/index.jsx","services/categoriesService.js","components/CategoriesComponents/DeleteCategory/index.jsx","components/CategoriesComponents/CategoriesList/index.jsx","containers/CategoriesPage/index.jsx","containers/ChequeList/ChequeAddModal.jsx","containers/ChequeList/ChequeImageModal.jsx","helpers/currencyFormatter.js","containers/ChequeList/ChequeCalenderModal.jsx","containers/ChequeList/index.jsx","containers/ExpenseList/constants.js","containers/ExpenseList/ExpenseAddModal.jsx","containers/ExpenseList/index.jsx","containers/Dashboard/RevenueCost.jsx","containers/Dashboard/ExpenseStats.js","containers/Dashboard/index.jsx","services/organizationsService.js","components/Header/index.jsx","components/NotFound/index.jsx","services/modelsService.js","components/ModelsComponents/ModelForm/index.jsx","components/ModelsComponents/DeleteModel/index.jsx","components/ModelsComponents/ModelsList/index.jsx","containers/ModelsPage/index.jsx","components/ProductComponents/ProductImagesSlider/index.jsx","components/FileUpload/index.js","services/productImagesService.js","components/QRModal/index.jsx","components/ProductComponents/ProductView/MeasurementValueDisplay.jsx","components/icons/toorder.svg","components/ProductComponents/ProductView/index.jsx","services/orderService.js","components/OrderComponents/DeleteOrder/index.jsx","components/OrderComponents/UpdateQuotation/index.js","helpers/options.js","components/OrderComponents/AddOrderPaymentModal/index.js","components/OrderComponents/OrderList/index.jsx","containers/ClientsPage/ClientFormModal.jsx","containers/OrdersPage/OrderFormModal.jsx","containers/OrdersPage/index.js","containers/ClientsPage/index.jsx","containers/AdminsPage/UserFormModal.jsx","containers/AdminsPage/index.jsx","components/OrderComponents/OrderView/index.jsx","components/InputNumber/index.jsx","components/ImageUpload/index.jsx","components/OrganizationComponents/CreateOrganizationForm/index.js","components/OrganizationComponents/OrganizationList/index.js","components/confirmCallback/index.jsx","containers/OrganizationsPage/index.js","helpers/formatMoney.js","containers/ExpenseDetail/MakePaymentModal.js","containers/ExpenseDetail/index.js","containers/WoodCalculator/index.jsx","containers/TaskList/TaskFormModal.jsx","containers/TaskList/index.jsx","containers/VehicleList/VehicleFormModal.jsx","containers/VehicleList/index.jsx","containers/VehicleDetail/index.jsx","containers/PrintEverything/OrderTable.jsx","containers/PrintEverything/ProductTable.jsx","containers/PrintEverything/TaskTable.jsx","containers/PrintEverything/ExpenseTable.jsx","containers/PrintEverything/DepartmentEarnings.jsx","containers/PrintEverything/index.jsx","containers/InitialOnboarding/index.jsx","containers/BrandList/BrandFormModal.jsx","containers/BrandList/index.jsx","containers/DepartmentList/DepartmentFormModal.jsx","containers/DepartmentList/index.jsx","containers/RolesAndPermissions/RoleFormModal.jsx","containers/RolesAndPermissions/index.jsx","containers/Routing/index.jsx","App.js","index.js"],"names":["module","exports","resources","en","translation","pt","i18n","use","LanguageDetector","initReactI18next","init","fallbackLng","debug","interpolation","escapeValue","window","__","t","bind","Logo","Header","as","color","className","styles","logoWrapper","Image","circular","src","LoginForm","onSubmit","useState","email","setEmail","password","setPassword","isEmailValid","setIsEmailValid","isPasswordValid","setIsPasswordValid","handleLoginClick","a","Form","name","size","Segment","Input","fluid","icon","iconPosition","placeholder","type","error","onChange","ev","data","target","value","onBlur","validator","isEmail","Boolean","Button","primary","OrganizationContext","React","createContext","undefined","UserContext","NS","status","message","statusCode","responseTime","requestId","cached","hasData","token","errorCaught","this","code","cr","tab","uuidv4","replace","c","crypto","getRandomValues","Uint8Array","toString","defaultFetchOptions","headers","Accept","useFetch","url","opts","organizationId","useContext","rId","fresh","setParams","response","setResponse","refresh","useCallback","useEffect","abortctrl","AbortController","clone","startTime","performance","now","finalopts","Authorization","localStorage","getItem","OrganizationID","fetch","then","res","signal","aborted","get","json","body","console","log","s","cloned","dataType","Number","isNaN","Array","Object","length","catch","err","abort","useAPI","customOptions","useMemo","safeget","object","path","defaultVal","shift","defaultValues","string","number","date","includes","input","searchText","trimmed","trim","JSON","stringify","toLowerCase","listsearch","list","fields","filter","item","some","f","split","perPage","initialState","currentPage","sort","by","direction","predicate","values","getComparator","b","fn","field","compareType","getValue","o","localeCompare","moment","diff","sorter","defaultResponse","pageCount","total","useList","searchFields","transform","filterFields","filterPredicate","filterer","filters","setFilters","search","goto","pageNo","setPredicate","handlers","prototype","hasOwnProperty","call","filterConfig","transformed","map","filtered","searched","sorted","paginated","slice","pages","Math","ceil","all","useListv2","require","msgTemplate","SUCCESS","n","endsWith","ERROR","useProduct","id","payload","method","setState","action","add","edit","save","del","reset","changeStatus","useProductList","URLSearchParams","append","useClientOptions","users","clients","_id","firstName","lastName","label","options","useOrder","useTaskList","useVehicleList","orderProcesses","paymentStatuses","statuses","useOrders","useTranslation","_processStatus","processStatus","_status","useExpenses","usePermissions","useTask","getID","getStatus","useVehicle","useOrganization","useStaffOptions","organizationIds","roleNumber","useCategories","useServiceStatusOptions","text","useDepartments","useBrands","useSubcategories","useBrand","useDepartmentOptions","departments","title","Intl","NumberFormat","style","currency","round","toFixed","roundw","nw","formatNumber","toLocaleString","maximumFractionDigits","formatDate","timestamp","format","AlertWrapper","alert","children","backgroundColor","fontWeight","padding","stringifyOrderStatus","filtersFromQueryParams","searchParams","location","from","to","rules","translatedRules","prop","r","editDeleteRenderer","onEdit","onDelete","i","DeleteOutlined","onClick","ghost","EditOutlined","computeOrderTotal","selectedProducts","discount","p","space","measurementValue","reduce","v","acc","quantity","price","getName","measurementValueDisplay","measurements","nf","join","OK_BUTTON_PROPS","deleteConfirm","onOk","afterClose","Modal","confirm","okText","cancelText","okButtonProps","makeLabelGetter","enm","key","cfw","currencyFormatterw","cf","currencyFormatter","ruleRequired","required","getOrderOption","orderId","client","clientId","filterOpenAndPartialOrders","useOrderOptions","orders","useModels","useDepartment","useLogin","setPayload","login","useClients","useClient","insertedId","useRoles","useProductv2","useQuotationToOrder","setId","convert","useDepartmentProfits","departmentMap","fromEntries","profit","useProductProfits","products","productMap","noOrgHeader","useNewCheques","useCheques","cheques","useCategoryOptions","categories","departmentId","useSubCategoryOptions","subCategories","categoryId","useProviderOptions","u","LoginPage","onLogin","newToken","isSuccess","isError","navigate","height","maxWidth","margin","width","textAlign","Message","exact","backgroundImage","backgroundRepeat","backgroundSize","class","marginBottom","alt","display","justifyContent","href","Spinner","Dimmer","active","inverted","Loader","getFetchUrl","args","endpoint","query","queryString","getFetchArgs","attachment","skipAuthorization","Error","formData","FormData","request","ct","throwIfResponseFailed","ok","removeItem","parsedException","callWebApi","getProduct","deleteProduct","deleteProductImage","prodId","imageId","DeleteProduct","addToast","loadProducts","isModalOpen","setIsModalOpen","toggleModal","trigger","Icon","open","closeIcon","Content","resp","appearance","finally","DropdownConfirmation","defaultValue","basic","hasMounted","useRef","confirmValue","setConfirmValue","comment","setValue","current","Dropdown","event","opt","find","confirmWithComment","Group","Confirm","content","onCancel","onConfirm","cancelButton","confirmButton","onClose","e","elements","TextArea","maxLength","statusColors","Available","emptyPredicate","ProductsList","showKitModal","setProductToEdit","onPageChange","statusOptions","Table","celled","Row","HeaderCell","colspan","Body","product","Cell","kitProducts","description","isService","totalUnits","minStockThreshold","fontFamily","department","category","subcategory","brand","model","cost","_","Footer","colSpan","Pagination","activePage","totalPages","defaultProps","isLoading","StyleWrapper","alignItems","NSHandler","noDataMessage","every","overallStatus","combineStatuses","isInit","inline","InputNumberFmtd","valuePropName","props","customInput","thousandSeparator","decimalSeparator","onValueChange","OrgAwareButton","disabled","Wrapper","Fragment","FormModal","formID","submitButtonProps","globalOrganizationId","visible","form","htmlType","maskClosable","keyboard","bodyStyle","maxHeight","destroyOnClose","Provider","defaultAddBtnProps","PlusOutlined","FormList","addText","min","addBtnPropsFromProps","addBtnProps","paddingBottom","List","remove","gridTemplateColumns","columnGap","visibility","MinusCircleOutlined","OrganizationAddr","organization","logoUrl","phoneNumber","notification","placement","ProtectedRoute","Component","component","rest","noThrow","CategorySelect","departmentTreeOptions","subcategories","dep","cat","subcat","useDepartmentTree","changeOnSelect","UNIT","LINEAR_METER","SQUARE_METER","CUBIC_METER","MEASUREMENT_TYPES","MEASUREMENT_DEFAULT_VALUES","MetersPlaceholder","WidthPlaceholder","LengthPlaceholder","HeightPlaceholder","LINEAR_METER_INPUT_CONFIG","WIDTH_INPUT_CONFIG","HEIGHT_INPUT_CONFIG","LENGTH_INPUT_CONFIG","CONFIG_MAP","DimensionFields","measurementType","handleChange","newValue","config","componentSize","showKits","MeasurementValuePopover","onAdd","handleAdd","ProductAddButton","handleMeasurementValueChange","selectedMeasurementValue","shouldDisableAdd","ProductSelect","onAddAsNew","showServices","enableOutOfStock","productsStatus","handleProductAdd","handleProductAddAsNew","reading","handleScannerInput","scannedProduct","ISBN","setTimeout","document","addEventListener","removeEventListener","Search","preventDefault","allowClear","itemLayout","dataSource","loading","renderItem","Item","actions","Meta","avatar","images","link","BrandSelect","brandTreeOptions","brands","models","thisBrandModels","brandId","useBrandTreeOptions","CommentInputPopover","initialValue","setComment","commentInputEl","onVisibleChange","destroyTooltipOnHide","CommentOutlined","SelectedProductListItem","onCommentChange","onQuantityChange","hideComment","chargeDuration","marginRight","step","danger","SelectedProducts","Select","showSearch","optionFilterProp","Span","TaskPrintView","task","TaskDetail","gridStyle","PrinterOutlined","print","order","gutter","span","bordered","workAddress","mobileNumber","assignee","address","zipCode","unix","startDate","estConclusionDate","leader","helpers","host","lunch","vehicle","drivers","rute","items","rowKey","pagination","Column","dataIndex","render","obs","TextEditor","onEditorStateChange","editorState","rawMessage","draftToHtml","convertToRaw","getCurrentContent","state","EditorState","createEmpty","handleEditorStateToMessage","initialEditorState","toolbarClassName","wrapperClassName","editorClassName","validations","subcategoryId","ServiceFormModal","afterSave","departmentOptions","categoryOptions","useCategoryOptionsAntdv2","subCategoryOptions","useSubCategoryOptionsAntdv2","subcategoryOptions","layout","initialValues","onFinish","formValues","getValueFromEvent","vs","floatValue","dependencies","noStyle","getFieldValue","normFile","isArray","fileList","categoryInfo","brandInfo","ProductKitFormModal","saveStatus","useForm","handleQuantityChange","productId","selectedProduct","setFieldsValue","handleDelete","findIndex","success","temp","Set","denormInitValue","modelId","imageUrls","uid","has","Symbol","top","push","__id","preserve","selectedQuantity","wrapperCol","shouldUpdate","fontSize","labelCol","multiple","accept","listType","marginLeft","formRules","departmentTree","brandTree","costContributionValue","unitType","metricValue","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","costContribution","profitInPercentage","ProductFormModal","translateFormRules","imagePreviewUrl","setImagePreviewUrl","providerOptions","handleImagePreview","preview","originFileObj","imageUrl","metricType","unit","onValuesChange","revenue","providerId","fieldKey","costContributionName","Editor","EyeOutlined","onPreview","defaultFilterFields","ProductsPage","changeStatusStatus","shouldShowCreateKitModal","setShouldShowCreateKitModal","kitToEdit","setKitToEdit","shouldShowAddServiceModal","setShouldShowAddServiceModal","shouldShowAddModal","setShouldShowAddModal","productToEdit","lowStockAlerted","setLowStockAlerted","useBrandOptions","brandOptions","useModelOptions","modelOptions","closeAddModal","closeEditModal","autoDismissTimeout","handleCloseKitModal","closeServiceModal","ProductList","isTextValid","max","SubcategoryForm","submit","componentName","loadSubcategories","setTitle","isTitleValid","setIsTitleValid","setDescription","setCategoryId","isDescriptionValid","setIsDescriptionValid","setIsLoading","handleFormSubmit","handleCloseModal","toggleModalState","createSubcategory","updateSubcategory","deleteSubcategory","DeleteSubcategory","SubcategoriesList","createSubcategoryRow","req","handlePaginationClick","page","updatePageFilter","rowspan","SubcategoriesPage","CategoryForm","loadCategories","setDepartmentId","createCategory","updateCategory","deleteCategory","DeleteCategory","CategoriesList","createCategoryRow","CategoriesPage","ruleAllowOnlyDigits","pattern","normalizeAgencyNo","test","substr","normalizeAccountNo","agencyNo","no","accountNo","holder","destinationName","destinationBank","destinationDate","depositMode","amount","accountType","frontImage","backImage","imageUrlToImage","imageFromEvent","ChequeAddModal","onSave","translateRules","denormalizedInitialValues","frontImageUrl","backImageUrl","help","ChequeImageModal","urls","selected","setSelected","footer","borderRight","paddingRight","borderWidth","borderStyle","borderColor","objectFit","minHeight","minimumFractionDigits","colors","whiteSpace","textOverflow","ChequeCalenderModal","chequeMapByDate","cheque","dateOnes","destDateOnes","chequeMapByMonth","overflowY","fullscreen","dateCellRender","filteredCheques","monthCellRender","new","canceled","good","compensated","other","returned","ChequeList","chequesStatus","useCheque","actionStatus","shouldShowCalender","setShouldShowCalender","selectedChequeForEdit","setSelectedChequeForEdit","selectedChequeForDelete","setSelectedChequeForDelete","selectedImages","setSelectedImages","handleEdit","closeDeleteConfirmation","handlePageChange","d","handleStatusChange","translatedStatusOptions","sortable","negative","toUpperCase","currencyFormatterPrefix","EXPENSE_FREQUENCY","daily","weekly","biweekly","monthly","custom","GET_EXPENSE_FREQUENCY_LABEL","EXPENSE_FREQUENCY_OPTIONS","entries","EXPENSE_TYPE","utility","salary","rent","purchase","GET_EXPENSE_TYPE_LABEL","EXPENSE_TYPE_OPTIONS","frequency","issueDate","dueDate","moneySource","paymentMethod","lateFee","receiptUrl","invoiceUrl","numTimes","fixedAmount","variableAmount","receipt","invoice","fixed","chequeIds","ExpenseAddModal","useDepartmentsWithProfits","departmentsStatus","receipts","invoices","moneySourceId","suffix","rows","ExpenseList","expenses","expensesStatus","initialAddValues","shouldAdd","getInitialAddValues","useExpense","expense","RevenueCost","collected","notCollected","labelLink","labelMap","getTotalPayment","payments","getTotalAmount","ExpenseStats","expenseStats","expenseStatsStatus","textTransform","paid","partial","notpaid","nextMonthExpense","dues","Divider","RangePicker","DatePicker","OrgStatTitles","organizations","branches","reps","commissionNameMap","closed","quotations","RealProfit","dashboard","realProfit","totalexpenses","Dashboard","history","admin","user","range","daterange","setDaterange","rangeQueryParam","orderStatsStatus","dashboardStatus","productStats","productStatsStatus","countByProcessStatus","countByProcessStatusStatus","shouldShowPrintEverything","setShouldShowPrintEverything","totalRevenue","totalCost","totalQuantity","totalCollected","totalNeedsToCollect","totalProducts","worthPrice","worthCost","topDepartments","allearnings","allrepearnings","subtract","startOf","minWidth","topreps","earnings","k","allowedStatuses","count","isRep","centered","getOrganizations","createOrganization","updateOrganization","localeOptions","MenuExampleStackable","handleItemClick","activeItem","handleOrganizationChange","onOrganizationChange","logout","onLocaleChange","locale","theme","stackable","mode","role","Menu","activeClassName","context","contextType","withTranslation","NotFound","marginTop","createModel","updateModel","deleteModel","ModelForm","loadModels","isEdit","setBrandId","brandsOptions","DeleteModel","ModelsList","createModelRow","ModelsPage","CustomCardSlide","index","image","header","isDeleteModalOpen","setIsDeleteModalOpen","toggleDeleteModal","Card","position","float","reload","removeProductImage","verticalAlign","CustomDotGroup","slides","Container","keys","slide","Dot","CardCarousel","naturalSlideWidth","naturalSlideHeight","totalSlides","UploadFile","uploadHandler","setFile","files","createProductImage","QRModal","fileName","shouldShow","setShouldShow","includeMargin","pngUrl","getElementById","toDataURL","downloadLink","createElement","download","appendChild","click","removeChild","block","MeasurementValueDisplay","_g","ProductViewPage","prepareProdDescriptionTableBody","kitItems","provider","createdAt","prepareProductStats","stats","openOrders","units","modalOpen","fileChangedHandler","selectedFile","striped","getOrderStatuses","getOrder","deleteTransaction","transactionId","updateOrderProcessStatus","deleteOrder","parse","uploadProofPayment","addOrderPayment","updateOrderPayment","getOrderPayments","DeleteOrder","loadOrders","hasPayments","paddingTop","deleteTrxs","_extends","assign","arguments","source","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgToorder","_ref","svgRef","titleId","xmlns","xmlnsXlink","viewBox","fill","ref","ForwardRef","UpdateQuotation","staticFormOptions","unitOptions","volumeOptions","sizeOptions","sizev2Options","weightOptions","paymentOptions","AddOrderPaymentModal","paymentType","setPaymentType","paymentAmount","setPaymentAmount","fileLink","proofPaymentUrl","setProofPaymentUrl","isFileUploading","setIsFileUploading","isPaymentAmountValid","setIsPaymentAmountValid","setError","chequeId","setChequeId","letfToPay","totalPaid","latefees","chequeOptions","submitOrderPayment","widths","pointing","alignSelf","Label","_30Days","OrderProcess","paymentStatus","onUpdate","allowed","shouldShowReviewModal","setShouldShowReviewModal","setFiles","review","setReview","closeShouldShowReviewModal","documents","noPaymentSince30days","lastPaymentOn","transactions","Date","EstConclusionDate","bgColor","prefix","dateFormatted","diffFromToday","OrderList","showOrderUpdateModal","setSelectedOrders","selectedOrders","collectPaymentFor","setCollectPaymentFor","shouldShowChangeStatusModal","setShouldShowChangeStatusModal","allowedOrders","r1","r2","closeCollectPaymentModal","subtotal","sum","Paper","border","boxShadow","sumCalc","TableContainer","stickyHeader","sx","TableHead","TableRow","TableCell","align","TableBody","shouldDeleteQuote","scope","gridAutoFlow","TableFooter","paddingLeft","cpf","len","cnpj","identificationType","ClientFormModal","identificationNumber","validateTrigger","isCNPJ","landlineNumber","Password","paymentMethodOptions","ruleJustRequired","OrderFormModal","afterPlace","isQuotation","shouldShowClientAddModal","setShouldShowClientAddModal","clientOptions","clientOptionsStatus","refreshClientOpts","handleCommentChange","handleAddClientClick","productItems","dropdownRender","menu","filterOption","option","expiredQuotataionsPredicate","lastWeekOpenOrdersPredicate","OrdersPage","allOrders","ordersStatus","alerted","setAlerted","shouldShowQuotationForm","setShouldShowQuotationForm","paymentDueAlert","setPaymentDueAlert","conclusionNearAlert","setConclusionNearAlert","conclusionDueAlert","setConclusionDueAlert","showOrderCreateModal","setShowOrderCreateModal","editOrderId","setEditOrderId","defaultSelectedStatus","defaultSelectedPaymentStatus","selectedStatus","setSelectedStatus","selectedPaymentStatus","setSelectedPaymentStatus","closeOrderFormModal","shouldAlertForDue","shouldAlertForNear","isCreateDisabled","maxOrders","selectedOrder","Option","ClientsPage","roles","selectedForEdit","setSelectedForEdit","selectedForDelete","setSelectedForDelete","record","readOnly","departmentIds","nonAdminOneOrgValidator","rule","UserFormModal","orderStatuses","setOrderStatuses","useOrganizations","roleOptions","organizationOptions","branchIds","branchOptions","organization_id","concat","changed","salary13thDate","dateStr","commission","AdminsPage","useUser","OrderViewPage","fetchTransactions","trxs","fetchOrderAndTransactions","transaction","transactionToEdit","transactionToDelete","handleConfirmDelete","closeTransactionEditModal","handleAfterTransactionSave","showQR","shouldShowQR","hideQR","prepareTransactionsTable","trx","totalWithoutDiscount","HomeOutlined","UserOutlined","cellNumber","Description","isModifierKey","keyCode","shiftKey","ctrlKey","metaKey","enforceFormat","isNumericInput","formatEVToPhone","formatToPhone","substring","area","middle","last","InputNumber","onKeyDown","onKeyUp","ImageUpload","onUpload","inFileList","setFileList","OrganizationForm","org","loadOrgs","setLogoPath","setBranches","updateBranchItem","propValue","propName","newBranches","defaultFileList","branch","OrganizationList","orgs","bulleted","confirmCallback","cb","ExclamationCircleOutlined","OrganizationsPage","MakePaymentModal","chequeAmountValidator","chequeTotal","denormInitialValues","URLsWithDate","ChequeAnchor","ChequeAnchors","ExpenseDetail","useGetExpense","useExpensePayments","paymentsStatus","refreshPayments","expenseId","useExpensePayment","shouldShowMakePaymentModal","setShouldShowMakePaymentModal","showMakePaymentModal","closeMakePaymentModal","shouldDisablePayment","formatMoney","computeVolume","frontLeftHeight","frontRightHeight","midLeftHeight","midRightHeight","rearLeftHeight","rearRightHeight","leftLength","rightLength","tailLayout","pricePerVolume","CreateExpenseLink","expenseDescription","create","urlpath","Total","volume","WoodCalculator","offset","getFieldsValue","assigneeId","leaderId","TaskFormModal","userOptions","orderOptions","denormInitialValue","helperIds","timestampToDateStr","TaskList","tasks","tasksStatus","shouldShowCreateModal","setShouldShowCreateModal","VehicleFormModal","taskOptions","taskId","VehicleList","vehicles","vehiclesStatus","VehiclePrintView","VehicleDetail","kmNow","driver","registrationNumber","lastManutences","purchasePrice","purchaseDate","vinNumber","purchaseKm","actualPrice","ProductTable","showHeader","getOrderTotal","OrderTable","listOptsFromQueryParams","getTotalUnits","globalFilters","productProfitMap","productProfitsStatus","profitRenderer","TaskTable","hs","DepartmentEarnings","departmentProfitMap","departmentProfitsStatus","Stats","PrintEverything","ExpenseTable","bottom","right","InitialOnboarding","setOnboarded","onboarded","onboard","useOnboard","onboardedNew","onboardStatus","BrandFormModal","BrandList","delStatus","handleFormModalClose","categoryTitle","subCategoryTitle","DepartmentFormModal","categoryDescription","borderBottom","borderLeft","subfield","subCategoryDescription","DepartmentList","departmentsTree","isLeaf","FORM_ID","RoleFormModal","permissions","columns","RolesAndPermissions","setShouldShowModal","ResetCache","localeFileMap","enUS","ptBR","defaultGlobalFormConfig","validateMessages","getInitialState","getOnboardedFromLS","Routing","setOrganizationId","setToken","setLocale","onboardedFromAPI","onboardedStatus","handleLogin","setItem","atob","decodeJWT","authContext","changeLanguage","shouldShowNavigation","globalFormConfig","msg","default","App","fallback","ReactDOM"],"mappings":"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","file":"static/js/main.cdff6e9e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"logoWrapper\":\"styles_logoWrapper__2jbWB\"};","import i18n from \"i18next\";\n// import Backend from \"i18next-http-backend\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport { initReactI18next } from \"react-i18next\";\n\nimport translations_en from \"src/locales/en/translation.json\";\nimport translations_pt from \"src/locales/pt/translation.json\";\n\nconst resources = {\n  en: {\n    translation: translations_en,\n  },\n  pt: {\n    translation: translations_pt,\n  },\n};\n\ni18n\n  // load translation using http -> see /public/locales\n  // learn more: https://github.com/i18next/i18next-http-backend\n  // .use(Backend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    fallbackLng: \"en\",\n    debug: false,\n    resources,\n\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n  });\n\nwindow.__ = i18n.t.bind(i18n);\n","import React from 'react';\nimport { Image, Header } from 'semantic-ui-react';\n\nimport styles from './styles.module.scss';\n\nexport const Logo = () => (\n  <Header as=\"h2\" color=\"grey\" className={styles.logoWrapper}>\n    <Image circular src=\"http://s1.iconbird.com/ico/2013/9/440/w128h1281380212086box.png\" />\n    {' '}\n    Gerenciador\n  </Header>\n);\n\nexport default Logo;\n","import React, { useState } from \"react\";\nimport validator from \"validator\";\nimport { Button, Form, Segment } from \"semantic-ui-react\";\n\nconst LoginForm = ({ onSubmit }) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [isEmailValid, setIsEmailValid] = useState(true);\n  const [isPasswordValid, setIsPasswordValid] = useState(true);\n\n  const emailChanged = (data) => {\n    setEmail(data);\n    setIsEmailValid(true);\n  };\n\n  const passwordChanged = (data) => {\n    setPassword(data);\n    setIsPasswordValid(true);\n  };\n\n  const handleLoginClick = async () => {\n    const isValid = isEmailValid && isPasswordValid;\n    if (!isValid) {\n      return;\n    }\n\n    onSubmit({ email, password });\n  };\n\n  return (\n    <Form name=\"loginForm\" size=\"large\" onSubmit={handleLoginClick}>\n      <Segment>\n        <Form.Input\n          fluid\n          icon=\"at\"\n          iconPosition=\"left\"\n          placeholder=\"Email\"\n          type=\"email\"\n          error={!isEmailValid}\n          onChange={(ev) => emailChanged(ev.target.value)}\n          onBlur={() => setIsEmailValid(validator.isEmail(email))}\n        />\n        <Form.Input\n          fluid\n          icon=\"lock\"\n          iconPosition=\"left\"\n          placeholder=\"Password\"\n          type=\"password\"\n          error={!isPasswordValid}\n          onChange={(ev) => passwordChanged(ev.target.value)}\n          onBlur={() => setIsPasswordValid(Boolean(password))}\n        />\n\n        <Button type=\"submit\" color=\"teal\" fluid size=\"large\" primary>\n          Login\n        </Button>\n      </Segment>\n    </Form>\n  );\n};\n\nexport default LoginForm;\n","import React from \"react\";\n\nexport const OrganizationContext = React.createContext(undefined);\nexport const UserContext = React.createContext(undefined);\n","export default class NS {\n  /**\n   * Create a point.\n   * @param {'INIT'|'LOADING'|'SUCCESS'|'ERROR'} status\n   * @param {string|null} message\n   */\n  constructor(\n    status,\n    message,\n    statusCode = 0,\n    responseTime = 0,\n    requestId,\n    cached = false,\n    hasData = false,\n    token,\n    errorCaught = false\n  ) {\n    this.code = status;\n    this.message = message;\n    this.statusCode = statusCode;\n    this.hasData = hasData;\n    this.responseTime = responseTime;\n    this.requestId = requestId;\n    this.cached = cached;\n    this.token = token;\n    this.errorCaught = errorCaught;\n  }\n\n  get isInit() {\n    return this.code === \"INIT\";\n  }\n\n  get isLoading() {\n    return this.code === \"LOADING\";\n  }\n\n  get isError() {\n    this.errorCaught = true;\n    return this.code === \"ERROR\";\n  }\n\n  get isSuccess() {\n    return this.code === \"SUCCESS\";\n  }\n\n  clone(\n    status,\n    message,\n    statusCode,\n    responseTime,\n    requestId,\n    cached,\n    hasData,\n    token,\n    errorCaught\n  ) {\n    return new NS(\n      status === undefined ? this.code : status,\n      message === undefined ? this.message : message,\n      statusCode === undefined ? this.statusCode : statusCode,\n      hasData === undefined ? this.hasData : hasData,\n      responseTime === undefined ? this.responseTime : responseTime,\n      requestId === undefined ? this.requestId : requestId,\n      cached === undefined ? this.cached : cached,\n      token === undefined ? this.token : token,\n      errorCaught === undefined ? this.errorCaught : errorCaught\n    );\n  }\n\n  toString() {\n    return this.code;\n  }\n}\n","import React, { useEffect, useCallback, useState, useMemo } from \"react\";\nimport { useContext } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport NS from \"./NS\";\n\nexport const cr = \"\\n\";\nexport const tab = \"\\t\";\n\n// https://stackoverflow.com/a/2117523\nfunction uuidv4() {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c) =>\n    (c ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))).toString(16)\n  );\n}\n\nconst defaultFetchOptions = {\n  headers: {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\",\n  },\n};\n\nfunction getType(data) {\n  if (data === null) return \"Null\";\n  if (data === undefined) return \"Undefined\";\n  if (typeof data === \"string\") return \"String\";\n  if (typeof data === \"number\" && !Number.isNaN(data)) return \"Number\";\n  if (Number.isNaN(data)) return \"NaN\";\n  if (typeof data === \"boolean\") return \"Boolean\";\n  if (data instanceof Array) return \"Array\"; // always should be before `Object`\n  if (data instanceof Object) return \"Object\";\n\n  return \"\";\n}\n\nexport default function useFetch(url, opts) {\n  const organizationId = useContext(OrganizationContext);\n  const [[rId, fresh], setParams] = useState(() => [\"\", false]);\n  const [response, setResponse] = useState([undefined, new NS(\"INIT\")]);\n\n  const refresh = useCallback(() => setParams([uuidv4(), true]), []);\n\n  useEffect(() => {\n    if (url) {\n      setParams([uuidv4(), false]);\n    }\n  }, [url, opts]);\n\n  useEffect(() => {\n    if (!url || !rId) return;\n\n    const abortctrl = new AbortController();\n\n    setResponse(([, s]) => [undefined, s.clone(\"LOADING\")]);\n    const startTime = performance.now();\n\n    // recursive merge might be better solution\n    const finalopts = {\n      ...defaultFetchOptions,\n      ...opts,\n      headers: {\n        Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n        ...defaultFetchOptions.headers,\n        ...opts?.headers,\n        ...(fresh && { \"X-Clear-Cache\": true }),\n        \"X-Request-ID\": rId,\n        ...(organizationId && { OrganizationID: organizationId }),\n      },\n    };\n\n    if (finalopts.headers[\"Content-Type\"] === null) {\n      delete finalopts.headers[\"Content-Type\"];\n    }\n    fetch(url, finalopts)\n      .then(async (res) => {\n        if (abortctrl.signal.aborted) return;\n\n        const responseTime = performance.now() - startTime;\n        const cached = !!res.headers.get(\"X-Browser-Cache\");\n        const token = res.headers.get(\"X-Token\");\n        let body;\n\n        try {\n          body = await res.json();\n        } catch (e) {\n          const message = \"Invalid JSON response from API\";\n          console.error(`${cr}API Error:${cr}${tab}URL: ${url}${cr}${tab}Msg: ${message}${cr}${tab}Code: ${res.status}`);\n          setResponse(([, s]) => [undefined, s.clone(\"ERROR\", message, res.status, responseTime, rId, cached)]);\n          return;\n        }\n\n        if (res.status >= 400) {\n          const message = body.error || body.message || \"\";\n          console.log(\"message :>> \", message);\n          setResponse(([, s]) => {\n            console.log(\"s :>> \", s);\n            const cloned = s.clone(\"ERROR\", message, res.status, responseTime, rId, cached, false, token);\n            console.log(\"cloned :>> \", cloned);\n            return [undefined, s.clone(\"ERROR\", message, res.status, responseTime, rId, cached, false, token)];\n          });\n          return;\n        }\n        const dataType = getType(body);\n        const hasData = dataType !== \"Null\" && (dataType === \"Array\" ? body.length > 0 : true);\n\n        setResponse(([, s]) => [body, s.clone(\"SUCCESS\", \"\", res.status, responseTime, rId, cached, hasData, token)]);\n      })\n      .catch((err) => {\n        if (abortctrl.signal.aborted) return;\n        const responseTime = performance.now() - startTime;\n        console.error(`${cr}API Error:${cr}${tab}URL: ${url}${cr}${tab}Msg: ${err.message}${cr}${tab}Code: 0`);\n        setResponse(([, s]) => [undefined, s.clone(\"ERROR\", \"\", 0, responseTime, rId)]);\n      });\n\n    return () => abortctrl.abort();\n  }, [rId]);\n\n  return [response[0], response[1], refresh];\n}\n\nexport function useAPI(url, customOptions) {\n  const organizationId = useContext(OrganizationContext);\n  const options = useMemo(\n    () => ({\n      ...customOptions,\n      headers: {\n        OrganizationID: organizationId || \"\",\n        ...customOptions?.headers,\n      },\n    }),\n    [customOptions, organizationId]\n  );\n  return useFetch(url, options);\n}\n","export default function safeget(object, path, defaultVal) {\n  if (typeof object === \"undefined\" || object === null) {\n    return defaultVal;\n  }\n  if (path.length === 0) {\n    return object;\n  }\n\n  return safeget(object[path.shift()], path, defaultVal);\n}\n","import moment from \"moment\";\nimport safeget from \"./safeget\";\n\nconst defaultValues = {\n  string: \"\",\n  number: 0,\n  date: \"\",\n};\n\nexport default function sorter(field, compareType) {\n  const getValue =\n    typeof field === \"function\"\n      ? field\n      : (o) => safeget(o, field.split(\".\"), defaultValues[compareType]);\n  switch (compareType) {\n    case \"string\": {\n      return (a, b) => getValue(a).localeCompare(getValue(b));\n    }\n    case \"number\": {\n      return (a, b) => getValue(a) - getValue(b);\n    }\n    case \"date\": {\n      return (a, b) => moment(getValue(a)).diff(moment(getValue(b)));\n    }\n    default:\n      return (a, b) => 0;\n  }\n}\n","export default function includes(input, searchText) {\n  if (input === undefined || input === null) return false;\n\n  const trimmed = searchText.trim();\n  if (!trimmed) return true;\n\n  const stringified = typeof input === \"string\" ? input : JSON.stringify(input);\n\n  return stringified.toLowerCase().includes(trimmed.toLowerCase().toString());\n}\n","import includes from \"./includes\";\nimport safeget from \"./safeget\";\n\nexport default function listsearch(list, fields, searchText) {\n  if (!searchText) return list;\n  if (fields === \"*\") return list.filter((item) => includes(item, searchText));\n  return list.filter((item) =>\n    fields.some((f) => includes(safeget(item, f.split(\".\"), \"\"), searchText))\n  );\n}\n","import { useState, useMemo, useEffect } from \"react\";\nimport sorter from \"src/helpers/sorter\";\nimport listsearch from \"src/helpers/listsearch\";\nimport { useAPI } from \"src/helpers/useFetch\";\nconst perPage = 25;\n\nconst initialState = {\n  searchText: \"\",\n  currentPage: 1,\n  sort: { by: undefined, direction: undefined },\n  predicate: undefined,\n  values: {},\n};\n\n// function useDidUpdate(fn, deps) {\n//   const didMount = useRef(false);\n\n//   useEffect(() => {\n//     if (!didMount.current) {\n//       didMount.current = true;\n//       return;\n//     }\n\n//     fn();\n//   }, deps);\n// }\n\nconst getComparator = (by, direction) => (a, b) => {\n  const fn = sorter(by, typeof a[by]);\n  return direction === \"descending\" ? fn(b, a) : fn(a, b);\n};\nconst defaultResponse = { data: [], pageCount: 0, total: 0 };\nfunction useList(url, searchFields, transform, filterFields = {}, filterPredicate) {\n  const [filters, setFilters] = useState(\n    filterPredicate ? { ...initialState, values: filterFields, filterer: filterPredicate } : initialState\n  );\n\n  const [{ data, total } = defaultResponse, status, refresh] = useAPI(url);\n  const search = (searchText) =>\n    setFilters((filters) => ({\n      ...filters,\n      searchText,\n      currentPage: 1,\n      sort: { by: undefined, direction: undefined },\n    }));\n  const goto = (pageNo) => setFilters((f) => ({ ...f, currentPage: pageNo }));\n  const sort = (by, direction) => setFilters((f) => ({ ...f, currentPage: 1, sort: { by, direction } }));\n  const setPredicate = (fn) => setFilters((f) => ({ ...f, predicate: fn }));\n\n  const handlers = useMemo(() => {\n    const handlers = {};\n\n    for (const field in filters.values) {\n      if (Object.prototype.hasOwnProperty.call(filters.values, field)) {\n        handlers[field] = (value) =>\n          setFilters((filterConfig) => ({ ...filterConfig, values: { ...filterConfig.values, [field]: value } }));\n      }\n    }\n    return handlers;\n  }, [filters.values]);\n\n  const transformed = useMemo(() => (transform ? data.map(transform) : data), [transform, data]);\n\n  const filtered = useMemo(() => {\n    if (!filters.filterer) return filters.predicate ? transformed.filter(filters.predicate) : transformed;\n\n    return transformed.filter(filters.filterer(filters.values));\n  }, [transformed, filters]);\n\n  const searched = useMemo(\n    () => listsearch(filtered, searchFields, filters.searchText),\n    [filtered, searchFields, filters.searchText]\n  );\n\n  const sorted = useMemo(\n    () => (filters.sort.by ? [...searched.sort(getComparator(filters.sort.by, filters.sort.direction))] : searched),\n    [searched, filters.sort.by, filters.sort.direction]\n  );\n\n  const paginated = useMemo(\n    () => sorted.slice((filters.currentPage - 1) * perPage, filters.currentPage * perPage),\n    [sorted, filters.currentPage]\n  );\n\n  useEffect(() => {\n    if (data.length > 0) {\n      setFilters(filterPredicate ? { ...initialState, filterer: filterPredicate, values: filterFields } : initialState);\n    }\n  }, [data, filterPredicate]);\n\n  return [\n    paginated,\n    { total: total || data.length, pages: Math.ceil(searched.length / perPage), all: sorted },\n    search,\n    goto,\n    sort,\n    { ...filters, setPredicate, handlers },\n    status,\n    refresh,\n  ];\n}\n\nexport default useList;\n","import useList from \"./useList\";\n\nfunction useListv2(url, searchFields, transform, filterFields, filterPredicate) {\n  const [data, { total, pages, all }, search, goto, sort, filters, status, refresh] = useList(\n    url,\n    searchFields,\n    transform,\n    filterFields,\n    filterPredicate\n  );\n  return { data, total, pages, all, search, goto, sort, filters, status, refresh };\n}\n\nexport default useListv2;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nconst { useMemo, useState } = require(\"react\");\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useProduct() {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"add\" && payload) return [\"/api/products\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/products/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/products/${id}`, { method: \"DELETE\" }];\n    if (method === \"status change\" && payload && id)\n      return [`/api/v2/products/${id}/status`, { method: \"POST\", body: JSON.stringify(payload) }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"add\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (payload, id) => setState([id, payload, id ? \"update\" : \"add\"]);\n  const changeStatus = (id, payload) => setState([id, payload, \"status change\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](\"product\", method) + `: ${status.message}` : \"\";\n  }\n\n  return { add, edit, save, del, reset, changeStatus, status };\n}\n\nexport default useProduct;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useProductList(opts, filterFields, filterPredicate) {\n  const s = new URLSearchParams(opts);\n  s.append(\"showAll\", \"true\");\n\n  return useListv2(`/api/v2/products?${s.toString()}`, searchFields, undefined, filterFields, filterPredicate);\n}\n\nexport default useProductList;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nfunction useClientOptions() {\n  const [{ data: users } = { data: [] }, status, refresh] = useAPI(`/api/clients?showAll=true`);\n  const clients = users.map(({ _id, firstName, lastName}) => ({ value: _id, label: `${firstName} ${lastName}` }));\n  return { options: clients, data: clients, status, refresh };\n}\n\nexport default useClientOptions;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nconst { useMemo, useState } = require(\"react\");\n\nconst entityName = \"order\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useOrder() {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"create\" && payload) return [\"/api/v2/orders\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/v2/orders/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/orders/${id}`, { method: \"DELETE\" }];\n    if (method === \"status change\" && payload && id)\n      return [`/api/orders/${id}/status`, { method: \"POST\", body: JSON.stringify(payload) }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"create\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (id, payload) => setState([id, payload, id ? \"update\" : \"create\"]);\n  const changeStatus = (id, payload) => setState([id, payload, \"status change\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](entityName, method) + `: ${status.message}` : \"\";\n  }\n\n  return { add, edit, save, del, reset, changeStatus, status };\n}\n\nexport default useOrder;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useTaskList(opts) {\n  const s = new URLSearchParams(opts);\n  s.append(\"showAll\", \"true\");\n  return useListv2(`/api/v2/tasks?${s.toString()}`, searchFields);\n}\n\nexport default useTaskList;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useVehicleList(opts) {\n  const s = new URLSearchParams(opts);\n  s.append(\"showAll\", \"true\");\n  return useListv2(`/api/v2/vehicles?${s.toString()}`, searchFields);\n}\n\nexport default useVehicleList;\n","import useListv2 from \"src/helpers/useListv2\";\nimport { useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nconst searchFields = [\"orderId\", \"client.firstName\", \"client.lastName\"];\n\nexport const orderProcesses = [\n  \"None\",\n  \"New\",\n  \"Preparation\",\n  \"Production\",\n  \"Quality\",\n  \"Finishing\",\n  \"Completed\",\n  \"Delivered | Returned\",\n  \"Concluded\",\n  \"Canceled\",\n];\n\nexport const paymentStatuses = [\"None\", \"Open\", \"Partial\", \"Closed\", \"Quotation\"];\n\nexport const statuses = {\n  1: \"Open\",\n  2: \"Partial\",\n  3: \"Closed\",\n  4: \"Quotation\",\n};\n\nfunction useOrders(opts) {\n  const { t } = useTranslation([\"translation\"]);\n  // allows searching by processStatus and status\n  const transform = useCallback(\n    (o) => ({ ...o, _processStatus: t(orderProcesses[o.processStatus]), _status: t(statuses[o.status]) }),\n    [t]\n  );\n\n  const s = new URLSearchParams(opts);\n  s.append(\"showAll\", \"true\");\n  return useListv2(`/api/orders?${s.toString()}`, searchFields, transform);\n}\n\nexport default useOrders;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useExpenses(opts) {\n  const s = new URLSearchParams(opts);\n  s.append(\"showAll\", \"true\");\n  return useListv2(`/api/expenses?${s.toString()}`, searchFields);\n}\n\nexport default useExpenses;\n","import { useList } from \"src/hooks\";\n\nconst searchFields = \"*\";\n\nfunction usePermissions() {\n  return useList(`/api/v2/permissions`, searchFields);\n}\n\nexport default usePermissions;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nconst { useMemo, useState } = require(\"react\");\n\nconst entityName = \"task\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useTask(getID) {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"create\" && payload) return [\"/api/v2/tasks\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/v2/tasks/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/v2/tasks/${id}`, { method: \"DELETE\" }];\n    if (method === \"status change\" && payload && id)\n      return [`/api/v2/tasks/${id}/status`, { method: \"POST\", body: JSON.stringify(payload) }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [{ data } = {}, getStatus] = useAPI(getID ? `/api/v2/tasks/${getID}` : undefined);\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"create\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (id, payload) => setState([id, payload, id ? \"update\" : \"create\"]);\n  const changeStatus = (id, payload) => setState([id, payload, \"status change\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](entityName, method) + `: ${status.message}` : \"\";\n  }\n\n  return { data, add, edit, save, del, reset, changeStatus, status, getStatus };\n}\n\nexport default useTask;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nconst { useMemo, useState } = require(\"react\");\n\nconst entityName = \"vehicle\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useVehicle(getID) {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"create\" && payload) return [\"/api/v2/vehicles\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/v2/vehicles/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/v2/vehicles/${id}`, { method: \"DELETE\" }];\n    if (method === \"status change\" && payload && id)\n      return [`/api/v2/vehicles/${id}/status`, { method: \"POST\", body: JSON.stringify(payload) }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [{ data } = {}, getStatus] = useAPI(getID ? `/api/v2/vehicles/${getID}` : undefined);\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"create\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (id, payload) => setState([id, payload, id ? \"update\" : \"create\"]);\n  const changeStatus = (id, payload) => setState([id, payload, \"status change\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](entityName, method) + `: ${status.message}` : \"\";\n  }\n\n  return { data, add, edit, save, del, reset, changeStatus, status, getStatus };\n}\n\nexport default useVehicle;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nconst { useMemo, useState } = require(\"react\");\n\nconst entityName = \"task\";\n//const entityName = \"vehicle\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useOrganization() {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"create\" && payload) return [\"/api/orgs\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/orgs/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/orgs/${id}`, { method: \"DELETE\" }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"create\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (id, payload) => setState([id, payload, id ? \"update\" : \"create\"]);\n\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](entityName, method) + `: ${status.message}` : \"\";\n  }\n\n  return { add, edit, save, del, reset, status };\n}\n\nexport default useOrganization;\n","export default __webpack_public_path__ + \"static/media/useVehicleOptions.43905a32.bin\";","import { useAPI } from \"src/helpers/useFetch\";\n\nfunction useStaffOptions(organizationId) {\n  const [{ data } = { data: [] }, status] = useAPI(\"/api/admins\");\n\n  return {\n    data: data\n      .filter(\n        ({ organizationIds, roleNumber }) =>\n          (organizationId ? organizationIds.includes(organizationId) : true) && roleNumber === 3\n      )\n      .map(({ _id, firstName, lastName }) => ({ value: _id, label: `${firstName} ${lastName}` })),\n    status,\n  };\n}\n\nexport default useStaffOptions;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useCategories() {\n  return useListv2(`/api/categories?showAll=true`, searchFields);\n}\n\nexport default useCategories;\n","import { useTranslation } from \"react-i18next\";\nimport { useAPI } from \"src/helpers/useFetch\";\n\nfunction useServiceStatusOptions() {\n  const { t } = useTranslation([\"translation\"]);\n  const [data, status] = useAPI(\"/api/v2/products/statuses\");\n\n  return { data: (data || []).map((s) => ({ value: s, text: t(s) })), status };\n}\n\nexport default useServiceStatusOptions;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useDepartments() {\n  return useListv2(`/api/departments?showAll=true`, searchFields);\n}\n\nexport default useDepartments;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useBrands() {\n  return useListv2(`/api/brands?showAll=true`, searchFields);\n}\n\nexport default useBrands;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useSubcategories() {\n  return useListv2(`/api/subcategories?showAll=true`, searchFields);\n}\n\nexport default useSubcategories;\n","import { useMemo, useState } from \"react\";\nimport { useAPI } from \"src/helpers/useFetch\";\n\nconst entityName = \"brand\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useBrand(getID) {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"create\" && payload) return [\"/api/v2/brands\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/brands/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/brands/${id}`, { method: \"DELETE\" }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [{ data } = {}, getStatus] = useAPI(getID ? `/api/brands/${getID}` : undefined);\n  console.log(\"opts :>> \", opts);\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"create\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (id, payload) => setState([id, payload, id ? \"update\" : \"create\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](entityName, method) + `: ${status.message}` : \"\";\n  }\n\n  return { data, add, edit, save, del, reset, status, getStatus };\n}\n\nexport default useBrand;\n","import useDepartments from \"./useDepartments\";\n\nfunction useDepartmentOptions() {\n  const { all: departments, status } = useDepartments();\n  const departmentOptions = departments.map(({ _id, title, organizationId }) => ({\n    value: _id,\n    text: title,\n    label: title,\n    organizationId,\n  }));\n\n  return { options: departmentOptions, status };\n}\n\nexport default useDepartmentOptions;\n","export default new Intl.NumberFormat(\"pt-BR\", {\n  style: \"currency\",\n  currency: \"BRL\",\n});\n","//const round = (n) => Number(n.toFixed(2));\nconst round = (n) => Number((n / 100).toFixed(2) * 100);\nexport default round;\n","//const roundw = (nw) => Number((nw / 100).toFixed(2) * 100);\nconst roundw = (nw) => Number(nw.toFixed(2));\nexport default roundw;\n","import React from \"react\";\nimport moment from \"moment\";\n\nexport const formatNumber = (number) => {\n  const f = Number(number);\n  return f.toLocaleString(\"pt-BR\", { maximumFractionDigits: 2 });\n};\n\nexport const formatDate = (timestamp) => {\n  return timestamp ? moment(timestamp * 1000).format(\"DD/MM/YYYY\") : \"-\";\n};\n\nfunction AlertWrapper({ style, alert, children }) {\n  return (\n    <span\n      style={{\n        ...(alert && {\n          backgroundColor: alert ? \"yellow\" : \"none\",\n          fontWeight: \"bold\",\n          padding: 4,\n        }),\n        ...style,\n      }}\n    >\n      {alert ? \"⚠️  \" : \"\"}\n      {children}\n    </span>\n  );\n}\n\nexport const stringifyOrderStatus = (t, status, alert = false) => {\n  switch (status) {\n    case 1:\n      return (\n        <AlertWrapper alert={alert} style={{ color: \"green\" }}>\n          {t(\"Open\")}\n        </AlertWrapper>\n      );\n    case 2:\n      return (\n        <AlertWrapper alert={alert} style={{ color: \"orange\" }}>\n          {t(\"Partial\")}\n        </AlertWrapper>\n      );\n    case 3:\n      return (\n        <AlertWrapper alert={alert} style={{ color: \"blue\" }}>\n          {t(\"Closed\")}\n        </AlertWrapper>\n      );\n    case 4:\n      return (\n        <AlertWrapper alert={alert} style={{ color: \"violet\" }}>\n          {t(\"Quotation\")}\n        </AlertWrapper>\n      );\n    default:\n      return <p>{t(\"Unknown\")}</p>;\n  }\n};\n","const filtersFromQueryParams = () => {\n  const searchParams = new URLSearchParams(window.location.search);\n  return {\n    from: searchParams.get(\"from\"),\n    to: searchParams.get(\"to\"),\n  };\n};\n\nexport default filtersFromQueryParams;\n","export default (t, rules) => {\n  const translatedRules = {};\n  for (let prop in rules) {\n    if (rules.hasOwnProperty(prop)) {\n      translatedRules[prop] = rules[prop].map((r) => ({ ...r, message: r.message ? t(r.message) : undefined }));\n    }\n  }\n  return translatedRules;\n};\n","import React from \"react\";\nimport { Button } from \"antd\";\nimport { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\n\nconst editDeleteRenderer = (onEdit, onDelete) => (i) => {\n  return (\n    <>\n      <Button\n        className=\"margin-right\"\n        icon={<DeleteOutlined />}\n        type=\"danger\"\n        onClick={() => onDelete(i._id)}\n        size=\"small\"\n        ghost\n      />\n      <Button className=\"margin-right\" icon={<EditOutlined />} onClick={() => onEdit(i)} size=\"small\" />\n    </>\n  );\n};\n\nexport default editDeleteRenderer;\n","import round from \"./round\";\n\nconst computeOrderTotal = (selectedProducts, discount = 0) => {\n  let total = 0;\n  for (const id in selectedProducts) {\n    const p = selectedProducts[id];\n    let space = (p.measurementValue || []).reduce((v, acc, i) => acc * v, 1);\n    total += (p.quantity || 0) * p.price * space;\n  }\n\n  if (discount === 0) return total;\n\n  return total - Number(((total * discount) / 100).toFixed(2));\n};\n\nexport default computeOrderTotal;\n","const getName = (p) => (p ? `${p.firstName} ${p.lastName}` : \"\");\n\nexport default getName;\n","import { nf } from \"src/helpers\";\n\nconst measurementValueDisplay = (measurements = []) => measurements.map(nf).join(\" x \");\n\nexport default measurementValueDisplay;\n","import { Modal } from \"antd\";\n\nconst OK_BUTTON_PROPS = { type: \"danger\" };\n\nconst deleteConfirm = ({ onOk, afterClose }) =>\n  Modal.confirm({\n    title: __(\"Are you sure you want to delete\") + \" ?\",\n    onOk,\n    afterClose,\n    okText: __(\"Yes, Delete\"),\n    cancelText: __(\"No\"),\n    okButtonProps: OK_BUTTON_PROPS,\n  });\n\nexport default deleteConfirm;\n","const makeLabelGetter = (enm) => (key) => enm[key];\n\nexport default makeLabelGetter;\n","import { default as currencyFormatter } from \"./currencyFormatterPrefix\";\nimport { default as currencyFormatterw } from \"./currencyFormatterPrefix\";\n\nimport round from \"./round\";\nimport roundw from \"./roundw\";\n\nexport { formatNumber as nf } from \"./formatters\";\n\nexport { default as listOptsFromQueryParams } from \"./listOptsFromQueryParams\";\nexport { default as filtersFromQueryParams } from \"./listOptsFromQueryParams\";\nexport { default as translateRules } from \"./translateRules\";\nexport { default as translateFormRules } from \"./translateRules\";\nexport { default as editDeleteRenderer } from \"./editDeleteRenderer\";\nexport { default as computeOrderTotal } from \"./computeOrderTotal\";\nexport { default as getName } from \"./getName\";\nexport { default as measurementValueDisplay } from \"./measurementValueDisplay\";\nexport { default as deleteConfirm } from \"./deleteConfirm\";\nexport { default as makeLabelGetter } from \"./makeLabelGetter\";\nexport { round };\nexport { roundw };\n\nconst cfw = (nw) => currencyFormatterw.format(roundw(nw));\nconst cf = (n) => currencyFormatter.format(round(n));\nexport { cf };\nexport { cfw };\n\nexport const ruleRequired = { required: true };\nexport const makeRuleRequired = (msg) => ({ required: true, message: msg });\nexport const braillePatternBlank = \"⠀\";\n","import { useOrders } from \"src/hooks\";\nimport { getName } from \"src/helpers\";\n\nconst getOrderOption = ({ _id, orderId, client, clientId }) => ({\n  value: _id,\n  label: `${orderId} (${getName(client)})`,\n  clientId: clientId || undefined, // in testing vps , there are orders with no clientId\n});\n\nconst filterOpenAndPartialOrders = (o) => o.status === 1 || o.status === 2;\n\nfunction useOrderOptions() {\n  const { all: orders, status } = useOrders();\n  const options = orders.filter(filterOpenAndPartialOrders).map(getOrderOption);\n  return { options, data: options, status };\n}\n\nexport default useOrderOptions;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useModels() {\n  return useListv2(`/api/models?showAll=true`, searchFields);\n}\n\nexport default useModels;\n","import { useMemo, useState } from \"react\";\nimport { useAPI } from \"src/helpers/useFetch\";\n\nconst entityName = \"department\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useDepartment(getID) {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"create\" && payload) return [\"/api/v2/departments\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload)\n      return [`/api/v2/departments/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/departments/${id}`, { method: \"DELETE\" }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [{ data } = {}, getStatus] = useAPI(getID ? `/api/tasks/${getID}` : undefined);\n \n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"create\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (payload, id) => setState([id, payload, id ? \"update\" : \"create\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](entityName, method) + `: ${status.message}` : \"\";\n  }\n\n  return { data, add, edit, save, del, reset, status, getStatus };\n}\n\nexport default useDepartment;\n","import { useMemo } from \"react\";\nimport { useState } from \"react\";\nimport { useAPI } from \"src/hooks\";\n\nfunction useLogin() {\n  const [payload, setPayload] = useState();\n\n  const opts = useMemo(\n    () => [payload ? \"/api/v2/auth/login\" : undefined, payload ? { method: \"POST\", body: JSON.stringify(payload) } : undefined],\n    [payload]\n  );\n\n  const [data, status] = useAPI(...opts);\n\n  return { data, login: setPayload, status };\n}\n\nexport default useLogin;\n","import useListv2 from \"src/helpers/useListv2\";\n\nconst searchFields = \"*\";\n\nfunction useClients() {\n  return useListv2(`/api/clients?showAll=true`, searchFields);\n}\n\nexport default useClients;\n","import { useMemo, useState } from \"react\";\nimport { useAPI } from \"src/helpers/useFetch\";\n\nconst entityName = \"client\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useClient(getID) {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"create\" && payload) return [\"/api/v2/clients\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/clients/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/clients/${id}`, { method: \"DELETE\" }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [{ data } = {}, getStatus] = useAPI(getID ? `/api/clients/${getID}` : undefined);\n\n  const [{ _id: insertedId } = {}, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"create\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (payload, id) => setState([id, payload, id ? \"update\" : \"create\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](entityName, method) + `: ${status.message}` : \"\";\n  }\n\n  return { insertedId, data, add, edit, save, del, reset, status, getStatus };\n}\n\nexport default useClient;\n","import { useAPI } from \"src/hooks\";\n\nfunction useRoles() {\n  return useAPI(\"/api/v2/roles\");\n}\n\nexport default useRoles;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nconst { useMemo, useState } = require(\"react\");\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => `failed to ${a} ${n}`,\n};\n\nfunction useProductv2() {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"add\" && payload) return [\"/api/v2/products\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload)\n      return [`/api/v2/products/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/products/${id}`, { method: \"DELETE\" }];\n    if (method === \"status change\" && payload && id)\n      return [`/api/v2/products/${id}/status`, { method: \"POST\", body: JSON.stringify(payload) }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"add\"]);\n  const edit = (id, payload) => setState([id, payload, \"update\"]);\n  const save = (payload, id) => setState([id, payload, id ? \"update\" : \"add\"]);\n  const changeStatus = (id, payload) => setState([id, payload, \"status change\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](\"product\", method) + `: ${status.message}` : \"\";\n  }\n\n  return { add, edit, save, del, reset, changeStatus, status };\n}\n\nexport default useProductv2;\n","import { useAPI } from \"src/helpers/useFetch\";\n\nconst { useMemo, useState } = require(\"react\");\n\nfunction useQuotationToOrder() {\n  const [id, setId] = useState();\n  const opts = useMemo(() => {\n    if (id) return [`/api/v2/orders/${id}/to-order`, { method: \"POST\" }];\n\n    return [undefined, undefined];\n  }, [id]);\n\n  const [, status] = useAPI(...opts);\n\n  return { status, convert: setId };\n}\n\nexport default useQuotationToOrder;\n","import { useMemo } from \"react\";\nimport { useAPI } from \"src/hooks\";\n\nfunction useDepartmentProfits(filters = {}) {\n  const searchParams = new URLSearchParams(filters).toString();\n  const [{ data: departments = [] } = {}, status] = useAPI(`/api/v2/analytics/department/profits?${searchParams}`);\n\n  const departmentMap = useMemo(() => Object.fromEntries(departments.map(({ _id, profit }) => [_id, profit])), [departments]);\n\n  return { data: departmentMap, status };\n}\n\nexport default useDepartmentProfits;\n","import { useMemo } from \"react\";\nimport { useAPI } from \"src/hooks\";\n\nfunction useProductProfits(filters = {}) {\n  const searchParams = new URLSearchParams(filters).toString();\n  const [{ data: products = [] } = {}, status] = useAPI(`/api/v2/analytics/product/profits?${searchParams}`);\n\n  const productMap = useMemo(() => Object.fromEntries(products.map(({ _id, profit }) => [_id, profit])), [products]);\n\n  return { data: productMap, status };\n}\n\nexport default useProductProfits;\n","import { useAPI } from \"src/helpers/useFetch\";\nexport { useAPI } from \"src/helpers/useFetch\";\nexport { default as useList } from \"src/helpers/useListv2\";\nexport { default as useFetch } from \"src/helpers/useFetch\";\nexport { default as useProduct } from \"./useProduct\";\nexport { default as useServiceList } from \"./useServiceList\";\nexport { default as useProductList } from \"./useProductList\";\nexport { default as useClientOptions } from \"./useClientOptions\";\nexport { default as useOrder } from \"./useOrder\";\nexport { default as useTaskList } from \"./useTaskList\";\nexport { default as useVehicleList } from \"./useVehicleList\";\nexport { default as useOrders } from \"./useOrders\";\nexport { default as useExpenses } from \"./useExpenses\";\nexport { default as usePermissions } from \"./usePermissions\";\nexport { statuses as orderStatuses } from \"./useOrders\";\nexport { orderProcesses } from \"./useOrders\";\nexport { default as useTask } from \"./useTask\";\nexport { default as useVehicle } from \"./useVehicle\";\nexport { default as useVehicleOptions } from \"./useVehicleOptions\";\nexport { default as useOrganization } from \"./useOrganization\";\nexport { default as useStaffOptions } from \"./useStaffOptions\";\nexport { default as useCategories } from \"./useCategories\";\nexport { default as useServiceStatusOptions } from \"./useServiceStatusOptions\";\nexport { default as useDepartments } from \"./useDepartments\";\nexport { default as useBrands } from \"./useBrands\";\nexport { default as useSubcategories } from \"./useSubcategories\";\nexport { default as useBrand } from \"./useBrand\";\nexport { default as useDepartmentOptions } from \"./useDepartmentOptions\";\nexport { default as useOrderOptions } from \"./useOrderOptions\";\nexport { default as useModels } from \"./useModels\";\nexport { default as useDepartment } from \"./useDepartment\";\nexport { default as useLogin } from \"./useLogin\";\nexport { default as useClients } from \"./useClients\";\nexport { default as useClient } from \"./useClient\";\nexport { default as useRoles } from \"./useRoles\";\nexport { default as useProductv2 } from \"./useProductv2\";\nexport { default as useQuotationToOrder } from \"./useQuotationToOrder\";\nexport { default as useDepartmentProfits } from \"./useDepartmentProfits\";\nexport { default as useProductProfits } from \"./useProductProfits\";\n\nexport function useDepartmentsWithProfits(organizationId) {\n  const [departments = [], status, refresh] = useAPI(\"/api/departments-with-profits\");\n  const filteredDepartments = departments.filter((o) => (organizationId ? o.organizationId === organizationId : true));\n  return [filteredDepartments, status, refresh];\n}\n\nconst noOrgHeader = { headers: { OrganizationID: \"\" } };\nexport function useOrganizations() {\n  const [{ data: organizations } = { data: [] }, status, refresh] = useAPI(\"/api/v2/organizations\", noOrgHeader);\n\n  return [organizations, status, refresh];\n}\n\nexport function useCheques() {\n  const [{ data: cheques } = { data: [] }, status, refresh] = useAPI(\"/api/cheques\");\n\n  return [cheques, status, refresh];\n}\n\nexport function useNewCheques(organizationId) {\n  const [cheques, status, refresh] = useCheques();\n  const newCheques = cheques.filter((c) => c.status === \"new\" && (organizationId ? c.organizationId === organizationId : true));\n  return [newCheques, status, refresh];\n}\n\nexport function useBrandOptions(organizationId) {\n  // const options = useMemo(\n  //   () =>\n  //     organizationId\n  //       ? { headers: { OrganizationID: organizationId } }\n  //       : undefined,\n  //   [organizationId]\n  // );\n  const [{ data: brands } = { data: [] }, status, refresh] = useAPI(\"/api/brands\");\n  const brandOptions = brands\n    .filter((o) => (organizationId ? o.organizationId === organizationId : true))\n    .map(({ _id, title, departmentId }) => ({\n      value: _id,\n      text: title,\n      label: title,\n      departmentId,\n    }));\n\n  return [brandOptions, status, refresh];\n}\nexport function useModelOptions(organizationId) {\n  const [{ data: models } = { data: [] }, status, refresh] = useAPI(\"/api/models\");\n  const modelOptions = models\n    .filter((o) => (organizationId ? o.organizationId === organizationId : true))\n    .map(({ _id, title, brandId }) => ({\n      value: _id,\n      text: title,\n      brandId,\n    }));\n\n  return [modelOptions, status, refresh];\n}\nexport function useCategoryOptions(organizationId) {\n  const [{ data: categories } = { data: [] }, status, refresh] = useAPI(\"/api/categories\");\n  const categoryOptions = categories\n    .filter((o) => (organizationId ? o.organizationId === organizationId : true))\n    .map(({ _id, title, departmentId }) => ({\n      value: _id,\n      text: title,\n      departmentId,\n    }));\n\n  return [categoryOptions, status, refresh];\n}\n\nexport function useCategoryOptionsAntdv2(organizationId) {\n  const [categoryOptions, status, refresh] = useCategoryOptions(organizationId);\n\n  return { options: categoryOptions.map((o) => ({ ...o, label: o.text })), status, refresh };\n}\n\nexport function useSubCategoryOptions(organizationId) {\n  const [{ data: subCategories } = { data: [] }, status, refresh] = useAPI(\"/api/subcategories\");\n  const subCategoryOptions = subCategories\n    .filter((o) => (organizationId ? o.organizationId === organizationId : true))\n    .map(({ _id, title, categoryId }) => ({\n      value: _id,\n      text: title,\n      categoryId,\n    }));\n\n  return [subCategoryOptions, status, refresh];\n}\n\nexport function useProviderOptions() {\n  const [{ data: users } = { data: [] }, status, refresh] = useAPI(\"/api/admins\");\n  const providerOptions = users\n    .filter((u) => u.roleNumber === 5)\n    .map(({ _id, name }) => ({\n      value: _id,\n      text: name,\n      label: name,\n    }));\n  return { options: providerOptions, status, refresh };\n}\n\nexport function useSubCategoryOptionsAntdv2(organizationId) {\n  const [subCategoryOptions, status, refresh] = useSubCategoryOptions(organizationId);\n\n  return { options: subCategoryOptions.map((o) => ({ ...o, label: o.text })), status, refresh };\n}\n","import React, { useContext, useEffect } from \"react\";\nimport Logo from \"src/components/Logo\";\nimport { Header, Message } from \"semantic-ui-react\";\nimport { Link, navigate } from \"@reach/router\";\nimport LoginForm from \"src/components/LoginForm/\";\nimport { useLogin } from \"src/hooks\";\nimport { UserContext } from \"src/contexts\";\nimport \"./styles.scss\";\nimport { message } from \"antd\";\n\nconst LoginPage = ({ onLogin }) => {\n  const { token } = useContext(UserContext);\n  const { data: { token: newToken } = {}, login, status } = useLogin();\n\n  useEffect(() => {\n    if (status.isSuccess) {\n      onLogin(newToken);\n    } else if (status.isError) {\n      message.error(status.message || \"failed to login\");\n    }\n  }, [status, newToken, onLogin]);\n\n  useEffect(() => {\n    if (token) navigate(\"/\");\n  }, [token]);\n\n  return (\n    <div style={{ height: \"100%\" }}>\n      <div className=\"login-container\">\n        <div style={{ maxWidth: \"90%\", margin: \"10% auto auto auto\", width: 400 }}>\n          <Logo />\n          <Header as=\"h2\" color=\"teal\" textAlign=\"center\">\n            Acessar Sua Conta\n          </Header>\n          <LoginForm onSubmit={login} />\n          <Message>\n            Encontrou algum problema?{\" \"}\n            <Link exact to=\"/registration\">\n              Fale com o suporte\n            </Link>\n          </Message>\n        </div>\n        <div className=\"aside\">\n          <div\n            style={{\n              backgroundImage: 'url(\"/login-cover-bg.jpg\")',\n              backgroundRepeat: \"no-repeat\",\n              backgroundSize: \"cover\",\n              height: \"100%\",\n            }}\n          >\n            <div class=\"text-right\" style={{ padding: 16 }}>\n              <h2>GR</h2>\n            </div>\n            <div class=\"ant-row ant-row-center\">\n              <div class=\"ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-0 ant-col-lg-20\">\n                <img class=\"img-fluid mb-5\" style={{ maxWidth: \"100%\", marginBottom: 32 }} src=\"/login-cover.png\" alt=\"\" />\n                <h1 class=\"text-white\" style={{ fontWeight: \"bold\" }}>\n                  Bem vindo ao GR\n                </h1>\n                {/* <p class=\"text-white\">\n                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus\n                ullamcorper nisl erat, vel convallis elit fermentum\n                pellentesque.\n              </p> */}\n              </div>\n            </div>\n            <div style={{ display: \"flex\", justifyContent: \"flex-end\", padding: 32 }}>\n              <a class=\"text-white\" href=\"/#\">\n                Termo &amp; Condições\n              </a>\n              <span class=\"text-white\" style={{ margin: \"0 8px\" }}>\n                {\" \"}\n                |{\" \"}\n              </span>\n              <a class=\"text-white\" href=\"/#\">\n                Privacidade &amp; Política\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n","import React from 'react';\nimport { Dimmer, Loader } from 'semantic-ui-react';\n\nconst Spinner = () => (\n  <Dimmer active inverted>\n    <Loader size=\"massive\" inverted />\n  </Dimmer>\n);\n\nexport default Spinner;\n","import * as queryString from \"query-string\";\n\nfunction getFetchUrl(args) {\n  return args.endpoint + (args.query ? `?${queryString.stringify(args.query)}` : \"\");\n}\n\nfunction getFetchArgs(args) {\n  const headers = {};\n  if (!args.attachment) {\n    headers[\"Content-Type\"] = \"application/json\";\n    headers.Accept = \"application/json\";\n  }\n  if (args?.organizationId) {\n    headers[\"OrganizationID\"] = args.organizationId || \"\";\n  }\n  const token = localStorage.getItem(\"token\");\n  if (token && !args.skipAuthorization) {\n    headers.Authorization = `Bearer ${token}`;\n  }\n  let body;\n  if (args.attachment) {\n    if (args.type === \"GET\") {\n      throw new Error(\"GET request does not support attachments.\");\n    }\n    const formData = new FormData();\n    formData.append(\"file\", args.attachment);\n    body = formData;\n  } else if (args.request) {\n    if (args.type === \"GET\") {\n      throw new Error(\"GET request does not support request body.\");\n    }\n    body = JSON.stringify(args.request);\n  }\n  return {\n    method: args.type,\n    headers,\n    signal: args.ct,\n    ...(args.request === \"GET\" ? {} : { body }),\n  };\n}\n\nexport async function throwIfResponseFailed(res) {\n  if (!res.ok) {\n    if (res.status === 401) {\n      localStorage.removeItem(\"token\");\n\n      // localStorage.clear()\n    }\n    let parsedException = \"Something went wrong with request!\";\n    try {\n      parsedException = await res.json();\n    } catch (err) {\n      //\n    }\n    throw parsedException;\n  }\n}\n\nexport default async function callWebApi(args) {\n  const res = await fetch(getFetchUrl(args), getFetchArgs(args));\n  await throwIfResponseFailed(res);\n  return res;\n}\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getProducts = async (args) => {\n  const response = await callWebApi({\n    endpoint: \"/api/products\",\n    type: \"GET\",\n  });\n  return response.json();\n};\nexport const getProductStats = async () => {\n  const response = await callWebApi({\n    endpoint: \"/api/products-stats\",\n    type: \"GET\",\n  });\n  return response.json();\n};\nexport const getProduct = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/products/${id}`,\n    type: \"GET\",\n  });\n  return response.json();\n};\nexport const getProductImages = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/products/${id}/images`,\n    type: \"GET\",\n  });\n  return response.json();\n};\nexport const createProduct = async (request, organizationId) => {\n  const response = await callWebApi({\n    endpoint: \"/api/products\",\n    type: \"POST\",\n    request,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const updateProduct = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/products/${id}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteProduct = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/products/${id}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n\nexport const deleteProductImage = async (prodId, imageId) => {\n  const response = await callWebApi({\n    endpoint: `/api/products/${prodId}/images/${imageId}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n\nexport const updateProductImage = async (prodId, imageId, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/products/${prodId}/images/${imageId}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n","import React, { useState } from \"react\";\nimport { Button, Icon, Modal } from \"semantic-ui-react\";\nimport { deleteProduct } from \"../../../services/productService\";\n\nconst DeleteProduct = ({ title, id, addToast, loadProducts }) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const removeProduct = () => {\n    deleteProduct(id)\n      .then((resp) => {\n        addToast(`Produto deleted successfully`, { appearance: \"success\" });\n      })\n      .catch((err) => {\n        if (err.message !== \"\") {\n          addToast(\"Could not delete product: \" + err.message, {\n            appearance: \"error\",\n          });\n        } else {\n          addToast(\"Something went wrong\", { appearance: \"error\" });\n        }\n      })\n      .finally(() => {\n        toggleModal();\n        loadProducts();\n      });\n  };\n\n  const toggleModal = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n  return (\n    <Modal\n      trigger={\n        <Button className=\"table-action-btn\" onClick={toggleModal}>\n          <Icon name=\"trash\" />\n        </Button>\n      }\n      open={isModalOpen}\n      closeIcon\n    >\n      <Modal.Header>Delete a product</Modal.Header>\n      <Modal.Content>\n        <h4>Are you sure you want to delete product {`\"${title}\"`}?</h4>\n        <Button color=\"red\" inverted onClick={removeProduct}>\n          <Icon name=\"remove\" /> Delete\n        </Button>\n        <Button color=\"blue\" inverted onClick={toggleModal}>\n          <Icon name=\"checkmark\" /> Cancel\n        </Button>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nexport default DeleteProduct;\n","import React from \"react\";\nimport { useRef } from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Button, Confirm, Dropdown, Form, Modal } from \"semantic-ui-react\";\n\nfunction DropdownConfirmation({ onChange, options, defaultValue, children, color, size, basic }) {\n  const { t } = useTranslation([\"translation\"]);\n  const hasMounted = useRef();\n  const [confirmValue, setConfirmValue] = useState(undefined);\n  const [{ value, comment }, setValue] = useState({ value: defaultValue });\n  const handleChange = (event, data) => {\n    const opt = data.options.find(({ value }) => value === data.value);\n    if (opt.confirm || opt.confirmWithComment) {\n      setConfirmValue(opt);\n    } else {\n      setValue({ value: data.value });\n    }\n  };\n  const handleSubmit = (e, data) => {\n    setValue({\n      value: confirmValue.value,\n      comment: e.target.elements.comment.value,\n    });\n  };\n  const confirm = () => {\n    onChange(undefined, { value: confirmValue.value, comment });\n    setConfirmValue(undefined);\n  };\n\n  useEffect(() => {\n    if (!hasMounted.current) {\n      hasMounted.current = true;\n      return;\n    }\n    onChange(undefined, { value, comment });\n  }, [value]);\n\n  return (\n    <>\n      <Dropdown\n        options={options}\n        onChange={handleChange}\n        value={value}\n        icon=\"\"\n        trigger={\n          <Button.Group color={color} size={size} basic={basic}>\n            <Button style={{ width: 80 }}>{children}</Button>\n            <Button icon=\"dropdown\" />\n          </Button.Group>\n        }\n      />\n      {confirmValue?.confirm && (\n        <Confirm\n          open\n          content={`${t(\"Are you sure you want to\")} ${confirmValue.text} ?`}\n          onCancel={() => setConfirmValue(undefined)}\n          onConfirm={confirm}\n          cancelButton={t(\"No\")}\n          confirmButton={t(\"Yes\")}\n        />\n      )}\n\n      {confirmValue?.confirmWithComment && (\n        <Modal closeIcon open onClose={() => setConfirmValue(undefined)}>\n          <Modal.Header>{t(\"Comment\")}</Modal.Header>\n          <Modal.Content>\n            <Form onSubmit={handleSubmit}>\n              <Form.TextArea name=\"comment\" label={t(\"Comment\")} maxLength={50} required />\n              <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n                <Button type=\"submit\" primary>\n                  {t(\"Submit\")}\n                </Button>\n              </div>\n            </Form>\n          </Modal.Content>\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport default DropdownConfirmation;\n","import React from \"react\";\n\nimport { Button, Icon, Pagination, Table } from \"semantic-ui-react\";\nimport DeleteProduct from \"../DeleteProduct\";\n\nimport currencyFormatter from \"../../../helpers/currencyFormatterPrefix\";\nimport { useServiceStatusOptions } from \"src/hooks\";\nimport DropdownConfirmation from \"src/components/DropdownConfirmation\";\nimport { useTranslation } from \"react-i18next\";\nimport { nf } from \"src/helpers\";\n\nconst statusColors = {\n  Available: \"teal\",\n  \"Not Available\": undefined,\n  \"On Hold\": \"blue\",\n};\n\nconst emptyPredicate = (o) => !!o;\n\nconst ProductsList = ({\n  products,\n  addToast,\n  showKitModal,\n  loadProducts,\n  setProductToEdit,\n  onPageChange,\n  pages,\n  changeStatus,\n  filters,\n}) => {\n  const { t } = useTranslation([\"translation\"]);\n  const { data: statusOptions } = useServiceStatusOptions();\n\n  const handleStatusChange = (id) => (_, data) => {\n    changeStatus(id, { status: data.value });\n  };\n\n  return (\n    <Table celled style={{ marginBottom: 30 }}>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell colspan={3}>{t(\"Actions\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Title\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Description\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Total Units\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Department\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Brand\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Cost\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Price\")}</Table.HeaderCell>\n          <Table.HeaderCell>{t(\"Status\")}</Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n\n      <Table.Body>\n        {products.map((product) => (\n          <Table.Row key={product._id}>\n            <Table.Cell>\n              {product.kitProducts.length > 0 ? (\n                <Button className=\"table-action-btn\" onClick={() => showKitModal(product)}>\n                  <Icon name=\"pencil alternate\" />\n                </Button>\n              ) : (\n                <Button className=\"table-action-btn\" onClick={() => setProductToEdit(product)}>\n                  <Icon name=\"pencil alternate\" />\n                </Button>\n              )}\n            </Table.Cell>\n            <Table.Cell>\n              <a href={`/products/view/${product._id}`}>\n                <Icon name=\"eye \"></Icon>\n              </a>\n            </Table.Cell>\n            <Table.Cell>\n              <DeleteProduct title={product.title} id={product._id} addToast={addToast} loadProducts={loadProducts} />\n            </Table.Cell>\n            <Table.Cell>{product.title}</Table.Cell>\n            <Table.Cell>{product.description}</Table.Cell>\n            {product.isService ? (\n              <Table.Cell></Table.Cell>\n            ) : (\n              <Table.Cell>\n                {product.totalUnits <= (product.minStockThreshold || 0) && (\n                  <span style={{ fontFamily: \"Segoe UI Emoji\" }}>⚠️ </span>\n                )}\n                {nf(product.totalUnits)}\n              </Table.Cell>\n            )}\n            <Table.Cell>\n              {[product.department.title, product.category?.title, product.subcategory?.title].filter(emptyPredicate).join(\"/\")}\n            </Table.Cell>\n            <Table.Cell>{[product.brand.title, product.model?.title].filter(emptyPredicate).join(\"/\")}</Table.Cell>\n            <Table.Cell>{currencyFormatter.format(product.cost)}</Table.Cell>\n            <Table.Cell>{currencyFormatter.format(product.price)}</Table.Cell>\n\n            <Table.Cell>\n              {\n                <DropdownConfirmation\n                  options={statusOptions}\n                  onChange={handleStatusChange(product._id)}\n                  defaultValue={product.status}\n                  color={statusColors[product.status]}\n                  size=\"mini\"\n                  basic\n                >\n                  {t(product.status)}\n                </DropdownConfirmation>\n              }\n            </Table.Cell>\n          </Table.Row>\n        ))}\n      </Table.Body>\n\n      <Table.Footer>\n        <Table.Row>\n          <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n            <Pagination\n              activePage={filters.currentPage}\n              totalPages={pages}\n              onPageChange={(_, { activePage }) => onPageChange(activePage)}\n            />\n          </Table.HeaderCell>\n        </Table.Row>\n      </Table.Footer>\n    </Table>\n  );\n};\n\nProductsList.defaultProps = {\n  products: [],\n  isLoading: true,\n};\n\nexport default ProductsList;\n","import React from \"react\";\nimport { Loader } from \"semantic-ui-react\";\nimport NS from \"src/helpers/NS\";\n\nconst combineStatuses = (statuses) => {\n  let hasData = false,\n    errorCaught = false;\n  for (let i = 0; i < statuses.length; i++) {\n    const status = statuses[i];\n    hasData &= status.hasData;\n    errorCaught &= status.errorCaught;\n  }\n\n  const code = statuses.every((s) => s.isSuccess)\n    ? \"SUCCESS\" // [SUCCESS, SUCCESS, SUCCESS]\n    : statuses.find((s) => s.isError)\n    ? \"ERROR\" // [SUCCESS, ERROR] or [LOADING, ERROR]\n    : statuses.find((s) => s.isLoading)\n    ? \"LOADING\" // [SUCCESS, LOADING] or [LOADING, INIT] or [LOADING, LOADING]\n    : statuses.find((s) => s.isSuccess)\n    ? \"LOADING\" // [SUCCESS, INIT]\n    : \"INIT\"; // [INIT, INIT]\n  console.log(\"code :>> \", code);\n  const overallStatus = new NS(code, undefined);\n  overallStatus.hasData = hasData;\n  overallStatus.errorCaught = errorCaught;\n  return overallStatus;\n};\n\nfunction StyleWrapper({ children, style }) {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        height: \"100%\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        color: \"inherit\",\n        padding: 16,\n        ...style,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default function NSHandler({ status: statuses, children, style, noDataMessage }) {\n  const status = statuses instanceof Array ? combineStatuses(statuses) : statuses;\n\n  if (status.isInit) return null;\n\n  if (status.isSuccess) {\n    if (!status.hasData && noDataMessage) return <StyleWrapper style={style}>{noDataMessage}</StyleWrapper>;\n    return children();\n  }\n\n  if (status.isLoading || status.isError) {\n    return (\n      <StyleWrapper style={style}>\n        {status.isLoading && <Loader active inline />}\n        {status.isError && \"Oops! Something went wrong.\"}\n        {status.isSuccess && !status.hasData && noDataMessage}\n      </StyleWrapper>\n    );\n  }\n\n  return null;\n}\n","import React from \"react\";\nimport NumberFormat from \"react-number-format\";\nimport { Input } from \"antd\";\n\nconst InputNumberFmtd = ({ onChange, valuePropName, ...props }) => {\n  const handleChange = (values) => {\n    onChange(values[valuePropName || \"floatValue\"]);\n  };\n\n  return (\n    <NumberFormat\n      customInput={Input}\n      thousandSeparator=\".\"\n      decimalSeparator=\",\"\n      {...props}\n      onValueChange={onChange ? handleChange : undefined}\n    />\n  );\n};\n\nexport default InputNumberFmtd;\n","import React, { useContext } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport { Button, Tooltip } from \"antd\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction OrgAwareButton({ disabled, ...props }) {\n  const organizationId = useContext(OrganizationContext);\n  const { t } = useTranslation(\"translation\");\n  const Wrapper = !organizationId\n    ? ({ children }) => <Tooltip title={t(\"Org not selected\")}>{children}</Tooltip>\n    : React.Fragment;\n  return (\n    <Wrapper>\n      <Button disabled={!organizationId || disabled} {...props} />\n    </Wrapper>\n  );\n}\n\nexport default OrgAwareButton;\n","import React, { useContext } from \"react\";\nimport { Modal } from \"antd\";\nimport { OrganizationContext } from \"src/contexts\";\n\nfunction FormModal({ okText, onClose, formID, submitButtonProps, width, style, children, organizationId }) {\n  const globalOrganizationId = useContext(OrganizationContext);\n  return (\n    <Modal\n      title={okText}\n      onClose={onClose}\n      visible\n      okText={okText}\n      okButtonProps={{\n        form: formID,\n        htmlType: \"submit\",\n        ...submitButtonProps,\n      }}\n      onCancel={onClose}\n      width={width || 800}\n      maskClosable={false}\n      keyboard={false}\n      style={style}\n      bodyStyle={{ maxHeight: \"calc(100vh - 144px)\" }}\n      destroyOnClose\n    >\n      <OrganizationContext.Provider value={organizationId || globalOrganizationId}>{children}</OrganizationContext.Provider>\n    </Modal>\n  );\n}\n\nexport default FormModal;\n","import React from \"react\";\nimport { Form, Button } from \"antd\";\nimport { MinusCircleOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport { useMemo } from \"react\";\n\nconst defaultAddBtnProps = {\n  type: \"link\",\n  icon: <PlusOutlined />,\n};\n\nfunction FormList({ name, label, children, addText, min = 0, addBtnProps: addBtnPropsFromProps }) {\n  const addBtnProps = useMemo(() => ({ ...defaultAddBtnProps, addBtnPropsFromProps }), [addBtnPropsFromProps]);\n\n  return (\n    <>\n      {label && <div style={{ paddingBottom: 8 }}>{label}</div>}\n      <Form.List name={name}>\n        {(fields, { add, remove }) => (\n          <>\n            {fields.map((field, i) => (\n              <div\n                key={field.key}\n                style={{\n                  width: \"100%\",\n                  display: \"grid\",\n                  gridTemplateColumns: \"minmax(min-content,max-content) minmax(min-content,max-content) min-content\",\n                  columnGap: 8,\n                  alignItems: \"baseline\",\n                }}\n              >\n                {children(field)}\n                <Button\n                  style={{ visibility: i > min - 1 ? \"visible\" : \"hidden\" }}\n                  type=\"danger\"\n                  ghost\n                  icon={<MinusCircleOutlined />}\n                  onClick={() => remove(field.name)}\n                ></Button>\n              </div>\n            ))}\n            <Button {...addBtnProps} onClick={() => add()}>\n              {addText}\n            </Button>\n          </>\n        )}\n      </Form.List>\n    </>\n  );\n}\n\nexport default FormList;\n","import React from \"react\";\n\nconst OrganizationAddr = ({ organization }) => {\n  if (!organization) return null;\n\n  return (\n    <div>\n      <div style={{ width: 60 }}>\n        <img style={{ maxWidth: \"100%\", maxHeight: \"100%\" }} src={organization.logoUrl}></img>\n      </div>\n      <div>\n        <strong>{organization.title}</strong>\n      </div>\n      <div>{organization.description}</div>\n      <div>{organization.phoneNumber}</div>\n    </div>\n  );\n};\n\nexport default OrganizationAddr;\n","import React from \"react\";\nimport { Redirect } from \"@reach/router\";\nimport { useContext } from \"react\";\nimport { OrganizationContext, UserContext } from \"src/contexts\";\nimport { notification } from \"antd\";\n\nconst addToast = (text, options) => {\n  notification[options.appearance || \"info\"]({ message: text, placement: \"bottomRight\" });\n};\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n  const organizationId = useContext(OrganizationContext);\n  const { token } = useContext(UserContext);\n\n  if (!token) return <Redirect from=\"\" to=\"login\" noThrow />;\n\n  return <Component {...rest} addToast={addToast} organizationId={organizationId} />;\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\nimport { Cascader } from \"antd\";\nimport { useDepartments, useCategories, useSubcategories } from \"src/hooks\";\n\nfunction useDepartmentTree() {\n  const { all: departments } = useDepartments();\n  const { all: categories } = useCategories();\n  const { all: subcategories } = useSubcategories();\n\n  const depTree = departments.map((dep) => {\n    return {\n      value: dep._id,\n      label: dep.title,\n      children: categories\n        .filter((cat) => cat.departmentId === dep._id)\n        .map((cat) => {\n          return {\n            value: cat._id,\n            label: cat.title,\n            children: subcategories\n              .filter((subcat) => subcat.categoryId === cat._id)\n              .map((subcat) => {\n                return {\n                  value: subcat._id,\n                  label: subcat.title,\n                };\n              }),\n          };\n        }),\n    };\n  });\n\n  return { options: depTree };\n}\n\nfunction CategorySelect({ onChange, value }) {\n  const { options: departmentTreeOptions } = useDepartmentTree();\n  return <Cascader options={departmentTreeOptions} onChange={onChange} changeOnSelect value={value} />;\n}\n\nexport default CategorySelect;\n","export const UNIT = \"unit\";\nexport const LINEAR_METER = \"linearMeter\";\nexport const SQUARE_METER = \"squareMeter\";\nexport const CUBIC_METER = \"cubicMeter\";\n\nexport const MEASUREMENT_TYPES = [\n  { label: __(\"Unit\"), value: UNIT },\n  { label: __(\"Linear Meter\"), value: LINEAR_METER },\n  { label: __(\"Square Meter\"), value: SQUARE_METER },\n  { label: __(\"Cubic Meter\"), value: CUBIC_METER },\n];\n\n// using `undefined` doesn't change value inside input\nexport const MEASUREMENT_DEFAULT_VALUES = {\n  [LINEAR_METER]: [null],\n  [SQUARE_METER]: [null, null],\n  [CUBIC_METER]: [null, null, null],\n};\n","import { ConfigProvider } from \"antd\";\nimport React from \"react\";\nimport { InputNumberFmtd } from \"src/components\";\nimport { SQUARE_METER, LINEAR_METER, CUBIC_METER } from \"./constants\";\nimport \"./styles.scss\";\nimport { useMemo } from \"react\";\nimport { useCallback } from \"react\";\n\nconst MetersPlaceholder = __(\"Meters\");\nconst WidthPlaceholder = __(\"Width\");\nconst LengthPlaceholder = __(\"Length\");\nconst HeightPlaceholder = __(\"Height\");\n\nconst LINEAR_METER_INPUT_CONFIG = {\n  label: __(\"M\"),\n  placeholder: MetersPlaceholder,\n};\n\nconst WIDTH_INPUT_CONFIG = {\n  label: __(\"W\"),\n  placeholder: WidthPlaceholder,\n};\n\nconst HEIGHT_INPUT_CONFIG = {\n  label: __(\"H\"),\n  placeholder: HeightPlaceholder,\n};\n\nconst LENGTH_INPUT_CONFIG = {\n  label: __(\"L\"),\n  placeholder: LengthPlaceholder,\n};\n\nconst CONFIG_MAP = {\n  [LINEAR_METER]: [LINEAR_METER_INPUT_CONFIG],\n  [SQUARE_METER]: [WIDTH_INPUT_CONFIG, HEIGHT_INPUT_CONFIG],\n  [CUBIC_METER]: [WIDTH_INPUT_CONFIG, HEIGHT_INPUT_CONFIG, LENGTH_INPUT_CONFIG],\n};\n\nfunction DimensionFields({ measurementType, onChange, value }) {\n  const handleChange = useCallback(\n    (i) => (v) => {\n      const newValue = [...value];\n      newValue[i] = v;\n      if (onChange) onChange(newValue);\n    },\n    [value, onChange]\n  );\n\n  const children = useMemo(() => {\n    const config = CONFIG_MAP[measurementType];\n    if (!config) return null;\n    return config.map(({ label, placeholder }, i) => (\n      <React.Fragment key={measurementType + label}>\n        {label}: <InputNumberFmtd placeholder={placeholder} onChange={handleChange(i)} value={value[i]} />\n      </React.Fragment>\n    ));\n  }, [measurementType, handleChange, value]);\n\n  return (\n    <ConfigProvider componentSize=\"small\">\n      <div className=\"dimension-fields-container\">{children}</div>\n    </ConfigProvider>\n  );\n}\n\nexport default DimensionFields;\n","import { Button, Input, List, Popover } from \"antd\";\nimport React, { useMemo, useState, useCallback } from \"react\";\nimport { useProductList } from \"src/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport DimensionFields from \"src/components/DimensionFields\";\nimport \"./styles.scss\";\nimport { MEASUREMENT_DEFAULT_VALUES, UNIT } from \"../DimensionFields/constants\";\nimport { useEffect } from \"react\";\nimport { cf, nf } from \"src/helpers\";\n\nconst filterer =\n  ({ showKits }) =>\n  (p) =>\n    showKits ? true : (p.kitProducts || []).length === 0;\n\nconst MeasurementValuePopover = ({ measurementType, children, onAdd }) => {\n  const [value, setValue] = useState(MEASUREMENT_DEFAULT_VALUES[measurementType]);\n\n  const handleAdd = useCallback(() => {\n    onAdd(value);\n  }, [value, onAdd]);\n\n  const form = useMemo(() => {\n    return (\n      <div className=\"measurement-value-popover-form\">\n        <DimensionFields value={value} onChange={setValue} measurementType={measurementType} />\n        <Button type=\"primary\" onClick={handleAdd}>\n          {__(\"Add\")}\n        </Button>\n      </div>\n    );\n  }, [measurementType, value, handleAdd]);\n  return <Popover content={form}>{children}</Popover>;\n};\n\nconst ProductAddButton = ({ product, onAdd, addText }) => {\n  const handleMeasurementValueChange = (selectedMeasurementValue) => {\n    const p = {\n      ...product,\n      measurementValue: selectedMeasurementValue,\n    };\n    onAdd(p);\n  };\n\n  const handleAdd = () => {\n    // for unit measurement type\n    handleMeasurementValueChange([]);\n  };\n\n  const shouldDisableAdd = product.totalUnits === 0 && !product.isService;\n  if (product.measurementType === UNIT) {\n    return (\n      <Button onClick={handleAdd} size=\"small\" disabled={shouldDisableAdd}>\n        + {addText}\n      </Button>\n    );\n  }\n\n  return (\n    <MeasurementValuePopover measurementType={product.measurementType} onAdd={handleMeasurementValueChange}>\n      <Button size=\"small\" disabled={shouldDisableAdd}>\n        + {addText}\n      </Button>\n    </MeasurementValuePopover>\n  );\n};\n\nfunction ProductSelect({ className, onAdd, onAddAsNew, showServices = true, showKits = true, enableOutOfStock = false }) {\n  const { t } = useTranslation(\"translation\");\n\n  const filterFields = useMemo(() => {\n    return { showServices, showKits };\n  }, [showServices, showKits]);\n\n  const { all: products, status: productsStatus, search } = useProductList(undefined, filterFields, filterer);\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n\n    search(e.target.value);\n  };\n\n  const handleProductAdd = (product) => onAdd(product);\n  const handleProductAddAsNew = (product) => onAddAsNew(product);\n\n  useEffect(() => {\n    let code = \"\";\n    let reading = false;\n\n    const handleScannerInput = (e) => {\n      //usually scanners throw an 'Enter' key at the end of read\n\n      if (e.key === \"Enter\") {\n        if (code.length >= 13) {\n          /// code ready to use\n          const scannedProduct = products.find(({ ISBN }) => code === ISBN);\n\n          code = \"\";\n          if (scannedProduct) onAdd(scannedProduct);\n        }\n      } else {\n        code += e.key; //while this is not an 'enter' it stores the every key\n      }\n      //run a timeout of 200ms at the first read and clear everything\n      if (!reading) {\n        reading = true;\n        setTimeout(() => {\n          code = \"\";\n          reading = false;\n        }, 200);\n      } //200 works fine for me but you can adjust it\n    };\n    document.addEventListener(\"keydown\", handleScannerInput);\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleScannerInput);\n    };\n  }, [products, onAdd]);\n\n  return (\n    <div className={`product-select ${className}`}>\n      <Input.Search onChange={handleSearch} allowClear />\n      <List\n        itemLayout=\"horizontal\"\n        dataSource={products}\n        loading={productsStatus.isLoading}\n        renderItem={(product) => (\n          <List.Item\n            key={product._id}\n            className={product.totalUnits === 0 && !product.isService && !enableOutOfStock ? \"disabled\" : undefined}\n            actions={[\n              <ProductAddButton product={product} onAdd={handleProductAddAsNew} addText={__(\"Add as Another\")} />,\n              <ProductAddButton product={product} onAdd={handleProductAdd} addText={__(\"Add\")} />,\n            ]}\n          >\n            <List.Item.Meta\n              avatar={<img src={`/assets/${(product.images || [])[0]?.link}`} />}\n              title={\n                <>\n                  <div>{product.title}</div>\n                  {!product.isService && (\n                    <span style={{ color: product.totalUnits === 0 ? \"red\" : \"inherit\" }}>\n                      {t(\"In Stock\")}: {nf(product.totalUnits)}{\" \"}\n                    </span>\n                  )}\n                  <span>\n                    {__(\"Price\")}: {cf(product.price)}\n                  </span>\n                </>\n              }\n            ></List.Item.Meta>\n          </List.Item>\n        )}\n      ></List>\n    </div>\n  );\n}\n\nexport default ProductSelect;\n","import React from \"react\";\nimport { Cascader } from \"antd\";\nimport { useBrands, useModels } from \"src/hooks\";\n\nfunction useBrandTreeOptions() {\n  const { all: brands } = useBrands();\n  const { all: models } = useModels();\n\n  const brandTree = brands.map((brand) => {\n    const thisBrandModels = models\n      .filter((model) => model.brandId === brand._id)\n      .map((model) => {\n        return {\n          value: model._id,\n          label: model.title,\n        };\n      });\n    return {\n      value: brand._id,\n      label: brand.title,\n      children: thisBrandModels,\n      disabled: thisBrandModels.length === 0,\n    };\n  });\n\n  return { options: brandTree };\n}\n\nfunction BrandSelect({ onChange, value }) {\n  const { options: brandTreeOptions } = useBrandTreeOptions();\n  return <Cascader options={brandTreeOptions} onChange={onChange} changeOnSelect value={value} />;\n}\n\nexport default BrandSelect;\n","import React, { useState } from \"react\";\nimport { Button, ConfigProvider, Input, List, Popover } from \"antd\";\nimport { CommentOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport currencyFormatter from \"src/helpers/currencyFormatterPrefix\";\nimport DimensionFields from \"src/components/DimensionFields\";\nimport { InputNumberFmtd } from \"src/components\";\nimport { computeOrderTotal } from \"src/helpers\";\nimport \"./styles.scss\";\nimport { useMemo } from \"react\";\n\nconst CommentInput = ({ onChange, initialValue }) => {\n  const [state, setState] = useState(initialValue);\n  const handleAdd = (e) => {\n    onChange(state);\n  };\n  return (\n    <form id=\"comment-form\" onSubmit={handleAdd}>\n      <Input.TextArea name=\"comment\" onChange={(e) => setState(e.target.value)} defaultValue={state}></Input.TextArea>\n      <Button form=\"comment-form\" type=\"primary\" onClick={handleAdd}>\n        {__(\"Add\")}\n      </Button>\n    </form>\n  );\n};\n\nconst CommentInputPopover = ({ initialValue, onChange }) => {\n  const [comment, setComment] = useState(initialValue);\n\n  const handleVisibleChange = (visible) => {\n    console.log(\"comment,visible :>> \", comment, visible);\n    if (!visible) {\n      onChange(comment);\n    }\n  };\n\n  const commentInputEl = useMemo(() => {\n    return <Input.TextArea onChange={(e) => setComment(e.target.value)} defaultValue={initialValue}></Input.TextArea>;\n  }, [initialValue]);\n\n  return (\n    <Popover content={commentInputEl} onVisibleChange={handleVisibleChange} destroyTooltipOnHide>\n      <Button icon={<CommentOutlined />} />\n    </Popover>\n  );\n};\n\nfunction SelectedProductListItem({ product, onCommentChange, onQuantityChange, onDelete, hideComment }) {\n  const { _id, images = [], quantity, chargeDuration = \"\", comment } = product;\n  const handleDelete = () => onDelete(_id);\n  const handleQuantityChange = (quantity) => onQuantityChange(_id, quantity, product.measurementValue);\n  const handleMeasurementValueChange = (value) => {\n    onQuantityChange(_id, quantity, value);\n  };\n\n  const handleCommentChange = (value) => onCommentChange(_id, value);\n\n  return (\n    <List.Item style={{ display: \"block\" }}>\n      <List.Item.Meta\n        className=\"selected-product-meta\"\n        avatar={<img src={`/assets/${images[0]?.link}`} />}\n        title={\n          <div className=\"space-between\">\n            <div>{product.title + (chargeDuration ? ` (per ${chargeDuration})` : \"\")}</div>\n            <div className=\"price\">{currencyFormatter.format(computeOrderTotal([product]))}</div>\n          </div>\n        }\n        description={\n          <ConfigProvider componentSize=\"small\">\n            <div className=\"fields\">\n              {__(\"Q\")}:{\" \"}\n              <InputNumberFmtd\n                style={{ width: 80, marginRight: 8 }}\n                value={quantity}\n                onChange={handleQuantityChange}\n                step={0.01}\n              />\n              <DimensionFields\n                onChange={handleMeasurementValueChange}\n                measurementType={product.measurementType}\n                value={product.measurementValue}\n              />\n              <div className=\"actions\">\n                {!hideComment && <CommentInputPopover onChange={handleCommentChange} initialValue={comment} />}\n                <Button icon={<DeleteOutlined />} onClick={handleDelete} danger />\n              </div>\n            </div>\n          </ConfigProvider>\n        }\n      ></List.Item.Meta>\n    </List.Item>\n  );\n}\n\nfunction SelectedProducts({ products, onQuantityChange, onCommentChange, onDelete, hideComment }) {\n  return (\n    <List\n      className=\"selected-product-list\"\n      itemLayout=\"horizontal\"\n      dataSource={products}\n      renderItem={(product) => (\n        <SelectedProductListItem\n          product={product}\n          onQuantityChange={onQuantityChange}\n          onCommentChange={onCommentChange}\n          onDelete={onDelete}\n          hideComment={hideComment}\n        />\n      )}\n    />\n  );\n}\n\nexport default SelectedProducts;\n","import React from \"react\";\nimport { Select as AntdSelect } from \"antd\";\n\nconst Select = (props) => <AntdSelect allowClear showSearch optionFilterProp=\"label\" {...props} />;\n\nexport default Select;\n","import React from \"react\";\n\nexport { default as InputNumberFmtd } from \"./InputNumberFmtd\";\nexport { default as OrgAwareButton } from \"./OrgAwareButton\";\nexport { default as FormModal } from \"./FormModal\";\nexport { default as NSHandler } from \"./NSHandler\";\nexport { default as FormList } from \"./FormList\";\nexport { default as OrganizationAddr } from \"./OrganizationAddr\";\nexport { default as ProtectedRoute } from \"./ProtectedRoute\";\nexport { default as CategorySelect } from \"./CategorySelect\";\nexport { default as ProductSelect } from \"./ProductSelect\";\nexport { default as BrandSelect } from \"./BrandSelect\";\nexport { default as SelectedProducts } from \"./SelectedProducts\";\nexport { default as OrderIDLink } from \"./OrderIDLink\";\nexport { default as Select } from \"./Select\";\n\nexport const Span = ({ value }) => <span>{value}</span>;\n","import { Descriptions, Button, Table, Card, Col, Row } from \"antd\";\nimport React, { useState } from \"react\";\nimport { PrinterOutlined } from \"@ant-design/icons\";\nimport { useTranslation } from \"react-i18next\";\nimport NSHandler from \"src/components/NSHandler\";\nimport moment from \"moment\";\nimport { useTask } from \"src/hooks\";\nimport QRCode from \"qrcode.react\";\nimport { OrganizationAddr } from \"src/components\";\nimport { getName, measurementValueDisplay, nf } from \"src/helpers\";\n\nfunction TaskPrintView({ task }) {\n  return (\n    <div className=\"printonly printonly-flex space-between\">\n      <OrganizationAddr organization={task.organization} />\n      <QRCode id=\"qr-canvas\" value={window.location.href} size={100} />\n    </div>\n  );\n}\n\nfunction TaskDetail({ id }) {\n // var inputText = editorState.blocks;\n // var text = inputText[0].text;\n // console.log(text);\n  const { t } = useTranslation([\"translation\"]);\n  const { data: task, getStatus: status } = useTask(id);\n\n  const gridStyle = {\n    width: \"100%\",\n    textAlign: \"center\",\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"text-right margin-bottom noprint\">\n        <Button icon={<PrinterOutlined />} onClick={() => window.print()}>\n          {t(\"Print\")}\n        </Button>\n      </div>\n      <NSHandler status={status}>\n        {() => (\n          <>\n            <TaskPrintView task={task} />\n            <div className=\"site-card-wrapper\">\n              <Card style={gridStyle} title={t(\"Service order\") + task.order.orderId}>\n                <Row gutter={16}>\n                  <Col span={8}>\n                    <Card title={t(\"Delivery or Job Site\")} bordered={false}>\n                      <h3>{getName(task.client)}</h3>\n                      {task.workAddress}\n                      <br></br>\n                      <b>#: {task.client.mobileNumber}</b>\n                    </Card>\n                  </Col>\n                  <Col span={8}>\n                    <Card title={t(\"Seller\")} bordered={false}>\n                      {getName(task.assignee)}\n                    </Card>\n                  </Col>\n                  <Col span={8}>\n                    <Card title={t(\"Client\")} bordered={false}>\n                      <h3>{getName(task.client)}</h3>\n                      {task.client.address} - {task.client.zipCode}\n                      <br></br>\n                      <b>#: {task.client.mobileNumber}</b>\n                    </Card>\n                  </Col>\n                </Row>\n              </Card>\n            </div>\n            <Descriptions size=\"small\" bordered style={{ marginBottom: 32 }}>\n              <Descriptions.Item label={t(\"Start Date\")} span={1.5}>\n                {moment.unix(task.startDate).format(\"DD/MM/YYYY\")}\n              </Descriptions.Item>\n              <Descriptions.Item label={t(\"Conlusion Date\")} span={1.5}>\n                {moment.unix(task.estConclusionDate).format(\"DD/MM/YYYY\")}\n              </Descriptions.Item>\n              <Descriptions.Item label={t(\"Leader\")}>{getName(task.leader)}</Descriptions.Item>\n              <Descriptions.Item label={t(\"Helpers\")} span={2}>\n                {task.helpers.map(getName).join(\",\")}\n              </Descriptions.Item>\n            </Descriptions>\n\n            <Row gutter={16}>\n              <Col span={8}>\n                <Card title={t(\"host\")}>{task.host}</Card>\n              </Col>\n              <Col span={8}>\n                <Card title={t(\"lunch\")}>{task.lunch}</Card>\n              </Col>\n              <Col span={8}>\n                <Card title={t(\"Vehicle\")}>\n                  {task.vehicle}\n                  <b>{getName(task.drivers)}</b>\n                </Card>\n              </Col>\n            </Row>\n\n            <Descriptions size=\"small\" bordered style={{ marginBottom: 32 }}></Descriptions>\n            <Card title={t(\"Rota\")}>{task.rute}</Card>\n            <Card title={t(\"Description\")}>{task.description}</Card>\n\n            {task.order && (\n              <Descriptions size=\"small\" bordered title={__(\"Order\")}>\n                <div>\n                  <Table size=\"small\" dataSource={task.order?.items} rowKey=\"productId\" pagination={false} bordered={false}>\n                    <Table.Column title={__(\"Title\")} dataIndex=\"title\"></Table.Column>\n                    <Table.Column title={__(\"Quantity\")} dataIndex=\"amount\" width=\"95px\" render={nf}></Table.Column>\n                    <Table.Column\n                      title={__(\"Dimensions\")}\n                      dataIndex=\"measurementValue\"\n                      render={measurementValueDisplay}\n                      width=\"180px\"\n                    ></Table.Column>\n                    <Table.Column title={__(\"Comment\")} dataIndex=\"comment\"></Table.Column>\n                  </Table>\n                </div>\n                <br></br>\n                <Card title={t(\"Comment\")}>{task.order.comment}</Card>\n                <Card title={t(\"Obs\")}>{task.obs}</Card>\n              </Descriptions>\n            )}\n          </>\n        )}\n      </NSHandler>\n    </div>\n  );\n}\n\nexport default TaskDetail;\n","import React, { Component } from \"react\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport { EditorState, convertToRaw } from \"draft-js\";\nimport draftToHtml from \"draftjs-to-html\";\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\nimport TaskDetail from \"../TaskDetail\";\n// import styles from \"./styles.css\";\n\nclass TextEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editorState: EditorState.createEmpty(),\n      rawMessage: \"\",\n    };\n    this.onEditorStateChange = this.onEditorStateChange.bind(this);\n    this.handleEditorStateToMessage = this.handleEditorStateToMessage.bind(this);\n  }\n\n  onEditorStateChange = (editorState) => {\n    this.setState({\n      editorState,\n      rawMessage: draftToHtml(convertToRaw(editorState.getCurrentContent())),\n    });\n  };\n\n  handleEditorStateToMessage() {\n    this.setState({\n      message: this.state.rawMessage,\n    });\n  }\n  render() {\n    const { editorState } = this.state;\n\n    return (\n      <>\n        <div className=\"editor\">\n          <TaskDetail editorState={convertToRaw(editorState.getCurrentContent())} />\n          <Editor\n            initialEditorState={editorState}\n            toolbarClassName=\"toolbarClassName\"\n            wrapperClassName=\"wrapperClassName\"\n            editorClassName=\"editorClassName\"\n            onEditorStateChange={this.onEditorStateChange}\n          />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default TextEditor;\n","import React, { useContext } from \"react\";\nimport { Alert, Col, Form, Input, Modal, Row, Select, Radio } from \"antd\";\nimport NumberFormat from \"react-number-format\";\nimport { useProduct, useDepartmentOptions, useCategoryOptionsAntdv2, useSubCategoryOptionsAntdv2 } from \"src/hooks\";\nimport { useEffect } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport { useTranslation } from \"react-i18next\";\nimport TextEditor from \"src/containers/OrdersPage/Editor\";\n\nconst ruleRequired = { required: true };\n\nconst braillePatternBlank = \"⠀\";\n\nconst validations = {\n  name: [ruleRequired],\n  status: [ruleRequired],\n  price: [ruleRequired],\n  departmentId: [ruleRequired],\n  categoryId: [ruleRequired],\n  subcategoryId: [ruleRequired],\n  chargeDuration: [ruleRequired],\n};\n\nfunction ServiceFormModal({ onClose, okText, okButtonProps, afterSave, initialValue }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { save, status } = useProduct(initialValue?._id);\n  const organizationId = useContext(OrganizationContext);\n  const { options: departmentOptions } = useDepartmentOptions(organizationId);\n  const { options: categoryOptions } = useCategoryOptionsAntdv2(organizationId);\n  const { options: subcategoryOptions } = useSubCategoryOptionsAntdv2(organizationId);\n  const handleSubmit = (formValues) => {\n    const payload = {\n      isService: true,\n      ...formValues,\n    };\n\n    save(payload, initialValue?._id);\n  };\n\n  useEffect(() => {\n    if (status.isSuccess) {\n      onClose();\n      afterSave();\n    }\n  }, [status, afterSave]);\n\n  return (\n    <Modal\n      visible\n      onCancel={onClose}\n      title={okText}\n      onClose={onClose}\n      okText={okText}\n      okButtonProps={{\n        form: \"service-add-modal\",\n        htmlType: \"submit\",\n        ...okButtonProps,\n      }}\n      width={800}\n    >\n      <Form layout=\"vertical\" id=\"service-add-modal\" initialValues={initialValue} onFinish={handleSubmit}>\n        <Form.Item label={t(\"Name\")} name=\"title\" rules={validations.name}>\n          <Input />\n        </Form.Item>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Form.Item\n              label={t(\"Price\")}\n              name=\"price\"\n              trigger=\"onValueChange\"\n              getValueFromEvent={(vs) => vs.floatValue}\n              rules={validations.price}\n            >\n              <NumberFormat customInput={Input} thousandSeparator=\".\" decimalSeparator=\",\" />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item\n              label={t(\"Cost\")}\n              name=\"cost\"\n              trigger=\"onValueChange\"\n              getValueFromEvent={(vs) => vs.floatValue}\n              rules={validations.cost}\n            >\n              <NumberFormat customInput={Input} thousandSeparator=\".\" decimalSeparator=\",\" />\n            </Form.Item>\n          </Col>\n          <Col>\n            <Form.Item name=\"chargeDuration\" label={braillePatternBlank} rules={validations.chargeDuration}>\n              <Radio.Group>\n                <Radio.Button value=\"day\">{t(\"Per day\")}</Radio.Button>\n                <Radio.Button value=\"hour\">{t(\"Per hour\")}</Radio.Button>\n                <Radio.Button value=\"fixed\">{t(\"Fixed\")}</Radio.Button>\n              </Radio.Group>\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Form.Item label={t(\"Department\")} name=\"departmentId\" rules={validations.departmentId}>\n              <Select options={departmentOptions} />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item dependencies={[\"departmentId\"]} noStyle>\n              {({ getFieldValue }) => (\n                <Form.Item label={t(\"Category\")} name=\"categoryId\">\n                  <Select\n                    options={categoryOptions.filter(({ departmentId }) => departmentId === getFieldValue(\"departmentId\"))}\n                  />\n                </Form.Item>\n              )}\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item dependencies={[\"categoryId\"]} noStyle>\n              {({ getFieldValue }) => (\n                <Form.Item label={t(\"Sub Category\")} name=\"subcategoryId\">\n                  <Select options={subcategoryOptions.filter(({ categoryId }) => getFieldValue(\"categoryId\") === categoryId)} />\n                </Form.Item>\n              )}\n            </Form.Item>\n          </Col>\n        </Row>\n        <Form.Item label={t(\"Description\")} name=\"description\" rules={validations.description}>\n          {/* <Input.TextArea rows={4} /> */}\n          <TextEditor />\n        </Form.Item>\n      </Form>\n      {status.isError && <Alert message={status.message} type=\"error\" />}\n    </Modal>\n  );\n}\n\nexport default ServiceFormModal;\n","import { Alert, Button, Col, Form, Input, message, Row, Upload } from \"antd\";\nimport { List } from \"antd\";\nimport { DeleteOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport React, { useEffect, useMemo } from \"react\";\nimport { useProductv2, useProductList } from \"src/hooks\";\nimport { cf, computeOrderTotal, ruleRequired } from \"src/helpers\";\nimport currencyFormatter from \"src/helpers/currencyFormatterPrefix\";\nimport { useTranslation } from \"react-i18next\";\nimport { CategorySelect, BrandSelect } from \"src/components\";\nimport { SelectedProducts } from \"src/components\";\n\nimport { FormModal, ProductSelect } from \"src/components\";\nimport { InputNumberFmtd } from \"src/components\";\n\nimport \"./ProductKitFormModal.scss\";\nimport TextEditor from \"../OrdersPage/Editor\";\n\nconst normFile = (e) => (Array.isArray(e) ? e : e && e.fileList);\n\nconst rules = {\n  title: [ruleRequired],\n  categoryInfo: [ruleRequired],\n  brandInfo: [ruleRequired],\n  price: [ruleRequired],\n  products: [ruleRequired],\n};\n\nconst defaultValue = {\n  products: [],\n  discount: 0,\n  images: [],\n};\n\nconst computeTotal = (selectedProducts) => {\n  let total = 0;\n  for (const id in selectedProducts) {\n    const p = selectedProducts[id];\n    total += (p.quantity || 0) * p.price;\n  }\n\n  return Number(total.toFixed(2));\n};\n\nfunction ProductKitFormModal({ onClose, afterSave, initialValue, okText }) {\n  const { t } = useTranslation([\"translation\"]);\n\n  const { save, status: saveStatus } = useProductv2();\n\n  const [form] = Form.useForm();\n\n  const handleFinish = (payload) => {\n    const kitProducts = [];\n    const selectedProducts = form.getFieldValue(\"products\");\n\n    if (selectedProducts.length === 0) {\n      return;\n    }\n    for (let id in selectedProducts) {\n      const product = selectedProducts[id];\n      if (!product.quantity) continue;\n      kitProducts.push({\n        _id: product.__id,\n        quantity: product.quantity,\n        title: product.title,\n        price: product.price,\n        cost: product.cost,\n        measurementValue: product.measurementValue,\n      });\n    }\n\n    save(\n      {\n        ...initialValue,\n        ...payload,\n        departmentId: payload.categoryInfo[0],\n        categoryId: payload.categoryInfo[1],\n        subcategoryId: payload.categoryInfo[2],\n        brandId: payload.brandInfo[0],\n        modelId: payload.brandInfo[1],\n        kitProducts: kitProducts,\n        imageUrls: payload.images.map(({ response }) => response?.message),\n      },\n      initialValue?._id\n    );\n  };\n\n  const handleProductAdd = (product) => {\n    const selectedProducts = form.getFieldValue(\"products\");\n\n    const selectedProduct = selectedProducts.findIndex((p) => p._id === product._id);\n    const selectedQuantity = selectedProduct?.quantity || 0;\n    if (product.isService || selectedQuantity !== product.quantity) {\n      if (selectedProduct === -1) {\n        const t = {\n          _id: product._id,\n          __id: product._id,\n          title: product.title,\n          price: product.price,\n          cost: product.cost,\n          quantity: 1,\n          images: product.images,\n          chargeDuration: product.chargeDuration,\n          measurementType: product.measurementType,\n          measurementValue: product.measurementValue,\n        };\n        form.setFieldsValue({ products: [t, ...selectedProducts] });\n      } else {\n        selectedProducts[selectedProduct].quantity += 1;\n        form.setFieldsValue({ products: selectedProducts });\n      }\n    }\n  };\n\n  const handleProductAddAsAnother = (product) => {\n    const selectedProducts = form.getFieldValue(\"products\");\n    const selectedQuantity = selectedProducts[product._id]?.quantity || 0;\n    if (product.isService || product.quantity !== selectedQuantity) {\n      const t = {\n        _id: Symbol(product._id),\n        __id: product._id,\n        title: product.title,\n        price: product.price,\n        cost: product.cost,\n        quantity: 1,\n        images: product.images,\n        chargeDuration: product.chargeDuration,\n        measurementType: product.measurementType,\n        measurementValue: product.measurementValue,\n      };\n\n      form.setFieldsValue({\n        products: [t, ...selectedProducts],\n      });\n    }\n  };\n\n  const handleQuantityChange = (productId, quantity, measurementValue) => {\n    const selectedProducts = form.getFieldValue(\"products\");\n    const selectedProduct = selectedProducts.find((p) => p._id === productId);\n    selectedProduct.quantity = quantity;\n    selectedProduct.measurementValue = measurementValue;\n    form.setFieldsValue({\n      products: null,\n    });\n    form.setFieldsValue({\n      products: selectedProducts,\n    });\n  };\n\n  const handleDelete = (productId) => {\n    const selectedProducts = form.getFieldValue(\"products\");\n    const i = selectedProducts.findIndex((p) => p._id === productId);\n\n    form.setFieldsValue({\n      products: null,\n    });\n    form.setFieldsValue({\n      products: [...selectedProducts.slice(0, i), ...selectedProducts.slice(i + 1)],\n    });\n  };\n\n  useEffect(() => {\n    if (saveStatus.isSuccess) {\n      message.success(saveStatus.message);\n      afterSave();\n    }\n  }, [saveStatus, afterSave]);\n\n  const temp = new Set();\n  const denormInitValue = useMemo(\n    () =>\n      initialValue\n        ? {\n            ...defaultValue,\n            ...initialValue,\n            categoryInfo: [initialValue.departmentId, initialValue.categoryId, initialValue.subcategoryId].filter(Boolean),\n            brandInfo: [initialValue.brandId, initialValue.modelId].filter(Boolean),\n            images: (initialValue.imageUrls || []).map((url) => ({ url: url, uid: url })),\n            products: initialValue.kitProducts.map(({ _id: i, ...rest }) => {\n              const _id = temp.has(i) ? Symbol(i) : i;\n              temp.add(i);\n              return {\n                _id: _id,\n                ...rest,\n              };\n            }),\n          }\n        : defaultValue,\n    [initialValue]\n  );\n\n  return (\n    <FormModal\n      className=\"kit-form-modal\"\n      formID=\"kit-form-modal\"\n      okText={okText}\n      onClose={onClose}\n      submitButtonProps={{ loading: saveStatus.isLoading }}\n      width=\"100%\"\n      style={{ top: 16 }}\n      organizationId={denormInitValue?.organizationId}\n    >\n      <Form\n        id=\"kit-form-modal\"\n        layout=\"vertical\"\n        form={form}\n        onFinish={handleFinish}\n        initialValues={denormInitValue}\n        preserve={false}\n      >\n        <div className=\"products-wrapper\">\n          <ProductSelect\n            className=\"product-list\"\n            onAdd={handleProductAdd}\n            onAddAsNew={handleProductAddAsAnother}\n            enableOutOfStock\n            showKits={false}\n          />\n          <div style={{ width: \"50%\", display: \"inline-block\", height: \"100%\" }}>\n            <Form.Item className=\"products-form-item\" wrapperCol={{ span: 24 }} shouldUpdate noStyle>\n              {({ getFieldValue }) => (\n                <SelectedProducts\n                  products={getFieldValue(\"products\")}\n                  onQuantityChange={handleQuantityChange}\n                  onDelete={handleDelete}\n                  hideComment={true}\n                />\n              )}\n            </Form.Item>\n            <Form.Item className=\"product-total\" wrapperCol={{ span: 24 }} shouldUpdate>\n              {({ getFieldValue: f }) => (\n                <div style={{ textAlign: \"right\", fontSize: \"1.2em\" }}>\n                  {t(\"Total\")}: {currencyFormatter.format(computeOrderTotal(f(\"products\")))}\n                </div>\n              )}\n            </Form.Item>\n          </div>\n        </div>\n\n        <div className=\"grid-50-50\">\n          <div>\n            <Row gutter={16}>\n              <Col span={8}>\n                <Form.Item label={t(\"Title\")} name=\"title\" rules={rules.title}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item\n                  name=\"categoryInfo\"\n                  label={[\"Department\", \"Category\", \"Sub Category\"].map(t).join(\"/\")}\n                  rules={rules.categoryInfo}\n                >\n                  <CategorySelect />\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <Form.Item name=\"brandInfo\" label={[\"Brand\", \"Model\"].map(t).join(\"/\")} rules={rules.brandInfo}>\n                  <BrandSelect />\n                </Form.Item>\n              </Col>\n            </Row>\n\n            <Row gutter={16}>\n              {/* <Col span={8}>\n                <Form.Item name=\"cost\" label={t(\"Cost\")} rules={rules.cost}>\n                  <InputNumberFmtd />\n                </Form.Item>\n              </Col> */}\n              <Col span={8}>\n                <Form.Item name=\"price\" label={t(\"Price\")} rules={rules.price}>\n                  <InputNumberFmtd />\n                </Form.Item>\n              </Col>\n              {/* <Col span={8}>\n                <Form.Item dependencies={[\"price\", \"products\"]} noStyle>\n                  {({ getFieldValue: f }) => (\n                    <div style={{ paddingTop: 32 }}>-{cf(computeTotal(f(\"products\")) - f(\"price\"))}</div>\n                  )}\n                </Form.Item>\n              </Col> */}\n            </Row>\n            <Form.Item label={t(\"Description\")} name=\"description\" rules={rules.description}>\n              {/* <Input.TextArea rows={4} /> */}\n              <TextEditor />\n            </Form.Item>\n            <Form.Item labelCol={{ span: 4 }} label={t(\"Comment\")} name=\"comment\" rules={rules.comment}>\n              {/* <Input.TextArea placeholder={t(\"Comment\")} style={{ width: \"100%\" }} rows={1} /> */}\n              <TextEditor />\n            </Form.Item>\n          </div>\n          <Form.Item\n            name=\"images\"\n            valuePropName=\"fileList\"\n            label={t(\"Images\")}\n            getValueFromEvent={normFile}\n            rules={rules.images}\n          >\n            <Upload multiple action=\"/assets/upload?entity=product\" accept=\".jpg, .jpeg\" name=\"file\" listType=\"picture-card\">\n              <div>\n                <PlusOutlined />\n                <div style={{ marginLeft: 8 }}>Upload</div>\n              </div>\n            </Upload>\n          </Form.Item>\n        </div>\n      </Form>\n\n      {saveStatus.isError && <Alert message={saveStatus.message} type=\"error\" />}\n    </FormModal>\n  );\n}\n\nexport default ProductKitFormModal;\n","import React, { useEffect, useState } from \"react\";\nimport { Alert, Card, Cascader, Col, Divider, Form, Input, message, Radio, Row, Select, Upload } from \"antd\";\nimport { InputNumberFmtd, FormModal, FormList } from \"src/components\";\nimport { useTranslation } from \"react-i18next\";\nimport { ruleRequired, translateFormRules, cf } from \"src/helpers\";\nimport { PlusOutlined, EyeOutlined } from \"@ant-design/icons\";\nimport DimensionFields from \"src/components/DimensionFields\";\nimport { UNIT, MEASUREMENT_TYPES, MEASUREMENT_DEFAULT_VALUES } from \"src/components/DimensionFields/constants\";\nimport {\n  useProductv2,\n  useProviderOptions,\n  useDepartments,\n  useCategories,\n  useSubcategories,\n  useBrands,\n  useModels,\n} from \"src/hooks\";\nimport Editor from \"../OrdersPage/Editor\";\nimport \"./ProductFormModal.scss\";\n\nconst braillePatternBlank = \"⠀\";\n\nconst formRules = {\n  title: [ruleRequired],\n  totalUnits: [ruleRequired],\n  departmentTree: [ruleRequired],\n  brandTree: [ruleRequired],\n  minStockThreshold: [ruleRequired],\n  costContributionValue: [ruleRequired],\n  price: [ruleRequired],\n  unitType: [ruleRequired],\n  measurementType: [ruleRequired],\n  metricValue: [ruleRequired],\n};\n\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = (error) => reject(error);\n  });\n}\n\nconst normFile = (e) => (Array.isArray(e) ? e : e && e.fileList);\n\nfunction useDepartmentTree() {\n  const { all: departments } = useDepartments();\n  const { all: categories } = useCategories();\n  const { all: subcategories } = useSubcategories();\n\n  const depTree = departments.map((dep) => {\n    return {\n      value: dep._id,\n      label: dep.title,\n      children: categories\n        .filter((cat) => cat.departmentId === dep._id)\n        .map((cat) => {\n          return {\n            value: cat._id,\n            label: cat.title,\n            children: subcategories\n              .filter((subcat) => subcat.categoryId === cat._id)\n              .map((subcat) => {\n                return {\n                  value: subcat._id,\n                  label: subcat.title,\n                };\n              }),\n          };\n        }),\n    };\n  });\n\n  return { options: depTree };\n}\n\nfunction useBrandTreeOptions() {\n  const { all: brands } = useBrands();\n  const { all: models } = useModels();\n\n  const brandTree = brands.map((brand) => {\n    const thisBrandModels = models\n      .filter((model) => model.brandId === brand._id)\n      .map((model) => {\n        return {\n          value: model._id,\n          label: model.title,\n        };\n      });\n    return {\n      value: brand._id,\n      label: brand.title,\n      children: thisBrandModels,\n      disabled: thisBrandModels.length === 0,\n    };\n  });\n\n  return { options: brandTree };\n}\n\nconst defaultValue = {\n  costContribution: [{ name: \"\", value: 0 }],\n  profitInPercentage: false,\n  images: [],\n  measurementType: UNIT,\n  measurementValue: [],\n};\n\nfunction ProductFormModal({ onClose, afterSave, okText, initialValue }) {\n  const { t } = useTranslation([\"translation\"]);\n  const rules = translateFormRules(t, formRules);\n  const [imagePreviewUrl, setImagePreviewUrl] = useState();\n  const { options: departmentTreeOptions } = useDepartmentTree();\n  const { options: brandTreeOptions } = useBrandTreeOptions();\n  const { options: providerOptions } = useProviderOptions();\n  const { save, status: saveStatus } = useProductv2();\n  const [form] = Form.useForm();\n\n  const handleImagePreview = async (file) => {\n    const imageUrl = file.url || file.preview;\n    if (imageUrl) {\n      setImagePreviewUrl(file.url);\n    } else {\n      const imageUrl = await getBase64(file.originFileObj);\n      setImagePreviewUrl(imageUrl);\n    }\n  };\n\n  const handleValuesChange = (values) => {\n    const cost = form.getFieldValue(\"costContribution\").reduce((acc, c) => acc + (c?.value || 0), 0);\n    const profit = form.getFieldValue(\"profit\") || 0;\n    const price = cost + (form.getFieldValue(\"profitInPercentage\") ? (profit * cost) / 100 : profit);\n    if (values.costContribution) {\n      form.setFieldsValue({ price: Number(price.toFixed(2)), profit: Number(profit.toFixed(2)) });\n    } else if (values.profitInPercentage !== undefined) {\n      form.setFieldsValue({ price: Number(price.toFixed(2)) });\n    } else if (values.profit) {\n      form.setFieldsValue({ price: Number(price.toFixed(2)) });\n    } else if (values.price) {\n      let profit = form.getFieldValue(\"profitInPercentage\") ? ((values.price - cost) * 100) / cost : values.price - cost;\n      form.setFieldsValue({ profit: Number(profit.toFixed(2)) });\n    }\n  };\n\n  const handleSubmit = (values) => {\n    const payload = {\n      ...values,\n      departmentId: values.departmentTree[0],\n      categoryId: values.departmentTree[1] || undefined,\n      subcategoryId: values.departmentTree[2] || undefined,\n      brandId: values.brandTree[0],\n      modelId: values.brandTree[1],\n      cost: values.costContribution.reduce((acc, c) => acc + (c?.value || 0), 0),\n      imageUrls: values.images.map(({ response }) => response?.message),\n      revenue: values.profit,\n      providerId: values.providerId || undefined,\n    };\n\n    console.log(\"payload :>> \", payload);\n\n    save(payload, initialValue?._id);\n  };\n\n  useEffect(() => {\n    if (saveStatus.isSuccess) {\n      message.success(saveStatus.message);\n      afterSave();\n    }\n  }, [saveStatus, afterSave]);\n\n  const denormInitValue = initialValue\n    ? {\n        ...defaultValue,\n        ...initialValue,\n        departmentTree: [initialValue.departmentId, initialValue.categoryId, initialValue.subcategoryId],\n        brandTree: [initialValue.brandId, initialValue.modelId],\n        images: (initialValue.imageUrls || []).map((url) => ({ url: url, uid: url })),\n        profit: initialValue.price - initialValue.cost,\n        metricType: initialValue.unit[initialValue.unitType]?.unit,\n        metricValue: initialValue.unit[initialValue.unitType]?.value,\n        costContribution: initialValue.costContribution || [{ name: \"\", value: initialValue.cost }],\n      }\n    : defaultValue;\n\n  return (\n    <FormModal\n      formID=\"product-add-modal\"\n      onClose={onClose}\n      okText={okText}\n      submitButtonProps={{ loading: saveStatus.isLoading }}\n      width=\"100%\"\n      style={{ top: 16 }}\n      organizationId={denormInitValue?.organizationId}\n    >\n      <Form\n        form={form}\n        layout=\"vertical\"\n        id=\"product-add-modal\"\n        onValuesChange={handleValuesChange}\n        initialValues={denormInitValue}\n        onFinish={handleSubmit}\n      >\n        <Row gutter={16}>\n          <Col span={16}>\n            <Row gutter={16}>\n              <Col span={12}>\n                <Form.Item name=\"title\" label={t(\"Title\")} rules={rules.title}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={6}>\n                <Form.Item name=\"minStockThreshold\" label={t(\"Min Stock Threshold\")} rules={rules.minStockThreshold}>\n                  <InputNumberFmtd />\n                </Form.Item>\n              </Col>\n            </Row>\n\n            <Row gutter={16}>\n              <Col span={12}>\n                <Form.Item\n                  label={[\"Department\", \"Category\", \"Sub Category\"].map(t).join(\"/\")}\n                  name=\"departmentTree\"\n                  rules={rules.departmentTree}\n                >\n                  <Cascader options={departmentTreeOptions} changeOnSelect />\n                </Form.Item>\n              </Col>\n              <Col span={12}>\n                <Form.Item label={[\"Brand\", \"Model\"].map(t).join(\"/\")} name=\"brandTree\" rules={rules.brandTree}>\n                  <Cascader options={brandTreeOptions} />\n                </Form.Item>\n              </Col>\n            </Row>\n\n            <Row gutter={16}>\n              <Col span={6}>\n                <Form.Item name=\"ISBN\" label={t(\"BCode\")} rules={rules.ISBN}>\n                  <Input />\n                </Form.Item>\n              </Col>\n              <Col span={6}>\n                <Form.Item name=\"providerId\" label={t(\"Provider\")} rules={rules.providerId}>\n                  <Select options={providerOptions} />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Row gutter={16}>\n              <Col span={4}>\n                <Form.Item name=\"measurementType\" label={t(\"Metric\")} rules={rules.measurementType}>\n                  <Select options={MEASUREMENT_TYPES} />\n                </Form.Item>\n              </Col>\n              <Col span={4}>\n                <Form.Item name=\"totalUnits\" label={t(\"Total Quantity\")} rules={rules.totalUnits}>\n                  <InputNumberFmtd />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Divider style={{ margin: \"8px 0\" }} />\n            <Row gutter={16}>\n              <Col span={8}>\n                <FormList label={t(\"Cost\")} name=\"costContribution\">\n                  {(field) => (\n                    <>\n                      <Form.Item\n                        name={[field.name, \"name\"]}\n                        fieldKey={[field.fieldKey, \"name\"]}\n                        rules={rules.costContributionName}\n                      >\n                        <Input placeholder={t(\"Cost Name\")} />\n                      </Form.Item>\n                      <Form.Item\n                        name={[field.name, \"value\"]}\n                        fieldKey={[field.fieldKey, \"value\"]}\n                        rules={rules.costContributionValue}\n                      >\n                        <InputNumberFmtd />\n                      </Form.Item>\n                    </>\n                  )}\n                </FormList>\n                <Form.Item shouldUpdate noStyle>\n                  {({ getFieldValue }) => (\n                    <>Total: {cf(getFieldValue(\"costContribution\").reduce((acc, c) => acc + (c?.value || 0), 0))}</>\n                  )}\n                </Form.Item>\n              </Col>\n              <Col span={8}>\n                <div style={{ display: \"grid\", gridTemplateColumns: \"auto max-content\" }}>\n                  <Form.Item label={t(\"Profit\")} name=\"profit\">\n                    <InputNumberFmtd />\n                  </Form.Item>\n                  <Form.Item name=\"profitInPercentage\" label={braillePatternBlank}>\n                    <Radio.Group>\n                      <Radio.Button value={false}>#</Radio.Button>\n                      <Radio.Button value={true}>%</Radio.Button>\n                    </Radio.Group>\n                  </Form.Item>\n                </div>\n              </Col>\n              <Col span={8}>\n                <Form.Item name=\"price\" label={t(\"Price\")} rules={rules.price}>\n                  <InputNumberFmtd />\n                </Form.Item>\n              </Col>\n            </Row>\n            <Divider style={{ margin: \"8px 0\" }} />\n            <Row gutter={16}>\n              <Col span={12}>\n                <Form.Item name=\"description\" label={t(\"Description\")} rules={rules.description}>\n                  {/* <Input.TextArea rows={5} /> */}\n                  <Editor />\n                </Form.Item>\n              </Col>\n              <Col span={12}>\n                <Form.Item name=\"comment\" label={t(\"Comment\")} rules={rules.comment}>\n                  {/* <Input.TextArea rows={5} /> */}\n                  <Editor />\n                </Form.Item>\n              </Col>\n            </Row>\n          </Col>\n          <Col span={8}>\n            <Card title={t(\"Product Images\")} className=\"image-upload-container\" size=\"small\">\n              <div className=\"preview-image-container\">\n                {imagePreviewUrl ? (\n                  <img src={imagePreviewUrl} alt=\"preview\" />\n                ) : (\n                  <span>\n                    click on <EyeOutlined /> in thumbline to preview\n                  </span>\n                )}\n              </div>\n              <Form.Item name=\"images\" valuePropName=\"fileList\" getValueFromEvent={normFile}>\n                <Upload\n                  multiple\n                  action=\"/assets/upload?entity=product\"\n                  accept=\".jpg, .jpeg\"\n                  name=\"file\"\n                  listType=\"picture-card\"\n                  onPreview={handleImagePreview}\n                >\n                  <div>\n                    <PlusOutlined />\n                    <div style={{ marginLeft: 8 }}>Upload</div>\n                  </div>\n                </Upload>\n              </Form.Item>\n            </Card>\n          </Col>\n        </Row>\n      </Form>\n      {saveStatus.isError && <Alert message={saveStatus.message} type=\"error\" />}\n    </FormModal>\n  );\n}\n\nexport default ProductFormModal;\n","import React, { useMemo } from \"react\";\n\nimport Spinner from \"./../../components/Spinner\";\nimport \"./styles.css\";\nimport { Input } from \"semantic-ui-react\";\nimport ProductList from \"src/components/ProductComponents/ProductList\";\nimport ServiceFormModal from \"src/components/ProductComponents/ServiceFormModal\";\nimport ProductKitFormModal from \"./ProductKitFormModal\";\n\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport OrgAwareButton from \"src/components/OrgAwareButton\";\nimport { useProduct } from \"src/hooks\";\nimport ProductFormModal from \"./ProductFormModal\";\n\nimport {\n  useDepartmentOptions,\n  useBrandOptions,\n  useCategoryOptions,\n  useSubCategoryOptions,\n  useModelOptions,\n  useProductList,\n  useProviderOptions,\n} from \"src/hooks\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { Select } from \"antd\";\nimport { navigate } from \"@reach/router\";\n\nconst defaultFilterFields = { departmentId: undefined, brandId: undefined };\nconst filterer = ({ departmentId, brandId }) => (product) => {\n  return (departmentId ? product.departmentId === departmentId : true) && (brandId ? product.brandId === brandId : true);\n};\n\nfunction ProductsPage({ location, addToast }) {\n  const { t } = useTranslation([\"translation\"]);\n  const filterFields = useMemo(\n    () => ({ ...defaultFilterFields, ...Object.fromEntries(new URLSearchParams(location.search)) }),\n    [] // don't put location.search. replacing history will empties filters\n  );\n  const { data: products, total, pages, search, goto, filters, status: productsStatus, refresh } = useProductList(\n    undefined,\n    filterFields,\n    filterer\n  );\n\n  const { changeStatus, status: changeStatusStatus } = useProduct();\n  const [shouldShowCreateKitModal, setShouldShowCreateKitModal] = useState(false);\n  const [kitToEdit, setKitToEdit] = useState(undefined);\n  const [shouldShowAddServiceModal, setShouldShowAddServiceModal] = useState(false);\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(false);\n  const [productToEdit, setProductToEdit] = useState(undefined);\n  const [lowStockAlerted, setLowStockAlerted] = useState(false);\n\n  const { options: departmentOptions } = useDepartmentOptions(productToEdit?.organizationId);\n  const [brandOptions] = useBrandOptions(productToEdit?.organizationId);\n  const [modelOptions] = useModelOptions(productToEdit?.organizationId);\n  const [categoryOptions] = useCategoryOptions(productToEdit?.organizationId);\n  const [subCategoryOptions] = useSubCategoryOptions(productToEdit?.organizationId);\n  const { options: providerOptions } = useProviderOptions(productToEdit?.organizationId);\n\n  const options = {\n    departmentOptions,\n    brandOptions,\n    modelOptions,\n    categoryOptions,\n    subCategoryOptions,\n    providerOptions,\n  };\n\n  const showAddModal = () => setShouldShowAddModal(true);\n  const closeAddModal = () => setShouldShowAddModal(false);\n\n  const showAddServiceModal = () => setShouldShowAddServiceModal(true);\n\n  const showCreateKitModal = () => {\n    setShouldShowCreateKitModal(true);\n  };\n\n  const closeEditModal = () => setProductToEdit(undefined);\n\n  useEffect(() => {\n    if (!lowStockAlerted) {\n      const shouldAlert = (products || []).some((p) => !p.isService && p.totalUnits <= (p.minStockThreshold || 0));\n\n      if (shouldAlert) {\n        addToast(t(\"You have few product with low stock\"), {\n          appearance: \"warning\",\n          autoDismissTimeout: 10000,\n        });\n        setLowStockAlerted(true);\n      }\n    }\n  }, [lowStockAlerted, products]);\n\n  const handleSearch = (event) => {\n    search(event.target.value);\n  };\n\n  const clearSearch = () => {\n    search(\"\");\n  };\n\n  const handleCloseKitModal = () => {\n    setShouldShowCreateKitModal(false);\n    setKitToEdit(undefined);\n  };\n\n  const afterKitSave = () => {\n    handleCloseKitModal();\n    refresh();\n  };\n\n  const handleProductFormClose = () => {\n    closeAddModal();\n    closeEditModal();\n  };\n\n  const afterProductSave = () => {\n    closeAddModal();\n    closeEditModal();\n    refresh();\n  };\n\n  const closeServiceModal = () => {\n    setShouldShowAddServiceModal(false);\n    setProductToEdit(undefined);\n  };\n\n  const afterServiceSave = () => {\n    closeServiceModal();\n    refresh();\n  };\n\n  useEffect(() => {\n    if (changeStatusStatus.isSuccess) {\n      refresh();\n    }\n  }, [changeStatusStatus]);\n\n  useEffect(() => {\n    navigate(\"/products\", { replace: true });\n  }, []);\n\n  return productsStatus.isLoading ? (\n    <Spinner />\n  ) : (\n    <div className={\"container\"}>\n      <h2 style={{ display: \"inline\" }}>Produtos</h2>\n      <span style={{ marginLeft: 16, marginRight: 16 }}>\n        {t(\"Total\")}: {total}\n      </span>\n      <div class=\"ui action input\" style={{ marginLeft: 16, marginRight: 16 }}>\n        <Input type=\"text\" placeholder=\"Search...\" onChange={handleSearch} value={filters.searchText} />\n        <button class=\"ui icon button\" onClick={clearSearch}>\n          <i class=\"delete icon\"></i>\n        </button>\n      </div>\n      <Select\n        defaultValue={filters.values.departmentId}\n        onChange={filters.handlers.departmentId}\n        style={{ width: 200, marginRight: 16 }}\n        placeholder={t(\"Department\")}\n        options={departmentOptions.map(({ value, label }) => ({ value, label }))}\n        allowClear\n        showSearch\n      ></Select>\n      <Select\n        defaultValue={filters.values.brandId}\n        onChange={filters.handlers.brandId}\n        style={{ width: 200, marginRight: 16 }}\n        placeholder={t(\"Brand\")}\n        options={brandOptions.map(({ value, label }) => ({ value, label }))}\n        allowClear\n        showSearch\n      ></Select>\n      <OrgAwareButton type=\"primary\" className=\"generic-create-btn\" onClick={showAddModal}>\n        {t(\"Add\")} {t(\"Product\")}\n      </OrgAwareButton>\n      <OrgAwareButton type=\"primary\" className=\"generic-create-btn\" onClick={showCreateKitModal}>\n        {t(\"Create\")} {t(\"Kit\")}\n      </OrgAwareButton>\n      <OrgAwareButton type=\"primary\" className=\"generic-create-btn\" onClick={showAddServiceModal}>\n        {t(\"Add\")} {t(\"Service\")}\n      </OrgAwareButton>\n      <ProductList\n        options={options}\n        loadProducts={refresh}\n        filters={filters}\n        addToast={addToast}\n        products={products}\n        showKitModal={setKitToEdit}\n        setProductToEdit={setProductToEdit}\n        pages={pages}\n        onPageChange={goto}\n        changeStatus={changeStatus}\n      />\n\n      {(shouldShowCreateKitModal || kitToEdit) && (\n        <ProductKitFormModal\n          onClose={handleCloseKitModal}\n          afterSave={afterKitSave}\n          okText={`${kitToEdit ? t(\"Update\") : t(\"Add\")} ${t(\"Kit\")}`}\n          initialValue={kitToEdit}\n        />\n      )}\n\n      {(shouldShowAddModal || (productToEdit && !productToEdit.isService)) && (\n        <ProductFormModal\n          onClose={handleProductFormClose}\n          okText={`${productToEdit ? t(\"Update\") : t(\"Add\")} ${t(\"Product\")}`}\n          afterSave={afterProductSave}\n          initialValue={productToEdit}\n        />\n      )}\n\n      {(productToEdit?.isService || shouldShowAddServiceModal) && (\n        <ServiceFormModal\n          okText={productToEdit ? t(\"Update\") + \" \" + t(\"Service\") : t(\"Add\") + \" \" + t(\"Service\")}\n          afterSave={afterServiceSave}\n          initialValue={productToEdit}\n          onClose={closeServiceModal}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default ProductsPage;\n","export const isTextValid = (text, min, max) => {\n    return text && text.length >= min && (text.length <= max || max === 0);\n};\n","import React, { useState } from \"react\";\nimport { Button, Form, Icon, Modal } from \"semantic-ui-react\";\n\nimport { isTextValid } from \"../../../helpers/validations\";\n\nconst SubcategoryForm = ({ category = {}, categoryOptions, submit, addToast, componentName, loadSubcategories }) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const [title, setTitle] = useState(category.title);\n  const [isTitleValid, setIsTitleValid] = useState(true);\n  const [description, setDescription] = useState(category.description);\n  const [categoryId, setCategoryId] = useState(\"\");\n  const [isDescriptionValid, setIsDescriptionValid] = useState(true);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleFormSubmit = async () => {\n    const isValid = isDescriptionValid && isTitleValid && categoryId !== \"\";\n    if (!isValid || isLoading) {\n      return;\n    }\n    setIsLoading(true);\n    await submit({ title, description, categoryId })\n      .then((resp) => {\n        addToast(`Subcategory ${category.title ? \"updated\" : \"created\"} successfully`, { appearance: \"success\" });\n        setTitle(\"\");\n        setDescription(\"\");\n        setCategoryId(\"\");\n        handleCloseModal();\n      })\n      .catch((err) => {\n        addToast(err.message, { appearance: \"error\" });\n      });\n    setIsLoading(false);\n  };\n\n  const toggleModalState = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  const handleCloseModal = () => {\n    loadSubcategories();\n    toggleModalState();\n  };\n\n  return (\n    <Modal\n      trigger={\n        <Button className={componentName === \"Edit\" ? \"table-action-btn\" : \"generic-create-btn\"} onClick={toggleModalState}>\n          {componentName === \"Edit\" ? <Icon name=\"pencil\" /> : <span>{componentName}</span>}\n        </Button>\n      }\n      closeIcon\n      open={isModalOpen}\n      onClose={handleCloseModal}\n    >\n      <Modal.Header>{componentName} Subcategory</Modal.Header>\n      <Modal.Content>\n        <Form name=\"createDepForm\" size=\"large\" onSubmit={handleFormSubmit}>\n          <Form.Input\n            fluid\n            placeholder=\"Titulo\"\n            value={title}\n            error={!isTitleValid}\n            onChange={(ev) => setTitle(ev.target.value)}\n            onBlur={() => setIsTitleValid(isTextValid(title, 3, 0))}\n          />\n          <Form.TextArea\n            fluid\n            placeholder=\"Descrição\"\n            value={description}\n            error={!isDescriptionValid}\n            onChange={(ev) => setDescription(ev.target.value)}\n            onBlur={() => setIsDescriptionValid(isTextValid(description, 5, 0))}\n          />\n          <Form.Select\n            fluid\n            label=\"Category\"\n            options={categoryOptions}\n            placeholder=\"Category\"\n            onChange={(e, { value }) => setCategoryId(value)}\n            search\n          />\n          <Button type=\"submit\" color=\"teal\" fluid size=\"small\" loading={isLoading} primary>\n            Submit\n          </Button>\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nSubcategoryForm.defaultProps = {\n  category: {},\n};\n\nexport default SubcategoryForm;\n","import React from 'react'\nimport {Icon, Pagination} from 'semantic-ui-react'\n//import { Pagination } from 'antd';\nimport 'antd/dist/antd.css';\n\nfunction onShowSizeChange(current, pageSize) {\n    console.log(current, pageSize);\n  }\n  \n\n\n  export const createPageNavigation = (pageFilter, handlePaginationClick) => {\n    return (\n        <Pagination\n            onPageChange={(e, {activePage}) => handlePaginationClick(activePage-1)}\n            defaultActivePage={1}\n            ellipsisItem={{content: <Icon name='ellipsis horizontal'/>, icon: true}}\n            firstItem={{content: <Icon name='angle double left'/>, icon: true}}\n            lastItem={{content: <Icon name='angle double right'/>, icon: true}}\n            prevItem={{content: <Icon name='angle left'/>, icon: true}}\n            nextItem={{content: <Icon name='angle right'/>, icon: true}}\n            totalPages={pageFilter.count}\n        />\n    )\n}\n\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getSubcategories = async (args) => {\n  const response = await callWebApi({\n    endpoint: \"/api/subcategories\",\n    type: \"GET\",\n    query: args,\n  });\n  return response.json();\n};\n\nexport const createSubcategory = async (request, organizationId) => {\n  const response = await callWebApi({\n    endpoint: \"/api/subcategories\",\n    type: \"POST\",\n    request,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const updateSubcategory = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/subcategories/${id}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteSubcategory = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/subcategories/${id}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n","import React, {useState} from 'react'\nimport {Button, Icon, Modal} from 'semantic-ui-react'\nimport {deleteSubcategory} from \"../../../services/subcategoriesService\";\n\nconst DeleteSubcategory = ({title, id, addToast, loadSubcategories}) => {\n    const [isModalOpen, setIsModalOpen] = useState(false)\n\n    const deleteSubcat = () => {\n        deleteSubcategory(id)\n            .then(resp => {\n                    addToast(\n                        `Subcategory deleted successfully`,\n                        {appearance: 'success'})\n                }\n            )\n            .catch(err => {\n                if (err.message !== '') {\n                    addToast('Could not delete subcategory: ' + err.message, {appearance: 'error'})\n                } else {\n                    addToast('Something went wrong', {appearance: 'error'})\n                }\n            }).finally(\n            () => {\n                toggleModal();\n                loadSubcategories()\n            }\n        )\n    }\n\n    const toggleModal = () => {\n        setIsModalOpen(!isModalOpen)\n    }\n    return (\n        <Modal\n            trigger={<Button\n                className='table-action-btn'\n                onClick={toggleModal}>\n                <Icon name='trash'/>\n            </Button>}\n            open={isModalOpen}\n            closeIcon\n        >\n            <Modal.Header>Delete a category</Modal.Header>\n            <Modal.Content>\n                <h4>Are you sure you want to delete category {`\"${title}\"`}?</h4>\n                <Button color='red' inverted onClick={deleteSubcat}>\n                    <Icon name='remove'/> Delete\n                </Button>\n                <Button color='blue' inverted onClick={toggleModal}>\n                    <Icon name='checkmark'/> Cancel\n                </Button>\n            </Modal.Content>\n        </Modal>)\n\n\n}\n\nexport default DeleteSubcategory;\n","import React, { Component } from \"react\";\nimport { Icon, Menu, Pagination, Table } from \"semantic-ui-react\";\nimport SubcategoryForm from \"../SubcategoryForm\";\nimport { createPageNavigation } from \"../../../helpers/pagination\";\nimport { updateSubcategory } from \"../../../services/subcategoriesService\";\nimport DeleteSubcategory from \"../DeleteSubcategory\";\n\nclass SubcategoriesList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.createSubcategoryRow = this.createSubcategoryRow.bind(this);\n    this.handlePaginationClick = this.handlePaginationClick.bind(this);\n  }\n\n  createSubcategoryRow = (cat) => {\n    return (\n      <Table.Row key={cat._id}>\n        <Table.Cell>\n          <SubcategoryForm\n            category={cat}\n            componentName={\"Edit\"}\n            addToast={this.props.addToast}\n            categoryOptions={this.props.categoryOptions}\n            loadSubcategories={this.props.loadSubcategories}\n            submit={(req) => updateSubcategory(cat._id, req)}\n          />\n        </Table.Cell>\n        <Table.Cell>\n          <DeleteSubcategory\n            addToast={this.props.addToast}\n            id={cat._id}\n            title={cat.title}\n            loadSubcategories={this.props.loadSubcategories}\n          />\n        </Table.Cell>\n        <Table.Cell>{cat._id}</Table.Cell>\n        <Table.Cell>{cat.title}</Table.Cell>\n        <Table.Cell>{cat.category.title}</Table.Cell>\n        <Table.Cell>{cat.description}</Table.Cell>\n      </Table.Row>\n    );\n  };\n\n  handlePaginationClick = (page) => {\n    this.props.updatePageFilter({ page: page });\n  };\n\n  render() {\n    const { pages, filters, onPageChange } = this.props;\n    return (\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell colspan={2} rowspan={2}>\n              Actions\n            </Table.HeaderCell>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>Titulo</Table.HeaderCell>\n            <Table.HeaderCell>Category</Table.HeaderCell>\n            <Table.HeaderCell>Descrição</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {this.props.subcategories.map((cat) =>\n            this.createSubcategoryRow(cat)\n          )}\n        </Table.Body>\n\n        <Table.Footer>\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n              <Pagination\n                activePage={filters.currentPage}\n                totalPages={pages}\n                onPageChange={(_, { activePage }) => onPageChange(activePage)}\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n    );\n  }\n}\n\nexport default SubcategoriesList;\n","import React from \"react\";\nimport SubcategoryForm from \"../../components/SubcategoriesComponents/SubcategoryForm\";\nimport SubcategoriesList from \"../../components/SubcategoriesComponents/SubcategoriesList\";\nimport { createSubcategory } from \"../../services/subcategoriesService\";\nimport { Input } from \"semantic-ui-react\";\nimport useList from \"src/helpers/useList\";\nimport { useContext } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport { useAPI } from \"src/helpers/useFetch\";\nconst searchFields = \"*\";\n\nfunction useSubCategories() {\n  return useList(\"/api/subcategories\", searchFields);\n}\n\nfunction useCategories() {\n  return useAPI(\"/api/categories\");\n}\n\nfunction SubcategoriesPage(props) {\n  const [\n    subCategories,\n    { total, pages },\n    search,\n    goto,\n    sort,\n    filters,\n    subCategoriesStatus,\n    refresh,\n  ] = useSubCategories();\n  const [{ data: categories } = { data: [] }] = useCategories();\n  const organizationId = useContext(OrganizationContext);\n\n  const handleSearch = (event) => {\n    search(event.target.value);\n  };\n\n  const clearSearch = () => {\n    search(\"\");\n  };\n\n  const categoryOptions = categories.map(({ _id, title }) => ({\n    value: _id,\n    text: title,\n  }));\n\n  return (\n    <div className=\"categories-container container\">\n      <h2>Subcategories</h2>\n      <SubcategoryForm\n        componentName={\"Create\"}\n        categoryOptions={categoryOptions}\n        addToast={props.addToast}\n        loadSubcategories={refresh}\n        submit={(r) => createSubcategory(r, organizationId)}\n      />\n\n      <div>\n        <span>Total subcategories: {total}</span>\n        <div class=\"ui action input\" style={{ marginLeft: 16 }}>\n          <Input\n            type=\"text\"\n            placeholder=\"Search...\"\n            onChange={handleSearch}\n            value={filters.searchText}\n          />\n          <button class=\"ui icon button\" onClick={clearSearch}>\n            <i class=\"delete icon\"></i>\n          </button>\n        </div>\n      </div>\n\n      <SubcategoriesList\n        addToast={props.addToast}\n        categoryOptions={categoryOptions}\n        subcategories={subCategories}\n        filters={filters}\n        loadSubcategories={refresh}\n        onPageChange={goto}\n        pages={pages}\n      />\n    </div>\n  );\n}\n\nexport default SubcategoriesPage;\n","import React, { useState } from \"react\";\nimport { Button, Form, Icon, Modal } from \"semantic-ui-react\";\n\nimport \"./styles.css\";\nimport { isTextValid } from \"../../../helpers/validations\";\n\nconst CategoryForm = ({ category = {}, departmentOptions, submit, addToast, componentName, loadCategories }) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const [title, setTitle] = useState(category.title);\n  const [isTitleValid, setIsTitleValid] = useState(true);\n  const [description, setDescription] = useState(category.description);\n  const [departmentId, setDepartmentId] = useState(category.departmentId);\n  const [isDescriptionValid, setIsDescriptionValid] = useState(true);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleFormSubmit = async () => {\n    const isValid = isDescriptionValid && isTitleValid && departmentId !== \"\";\n    if (!isValid || isLoading) {\n      return;\n    }\n    setIsLoading(true);\n    await submit({ title, description, departmentId })\n      .then((resp) => {\n        addToast(`Category ${category.title ? \"updated\" : \"created\"} successfully`, { appearance: \"success\" });\n        setTitle(\"\");\n        setDescription(\"\");\n        setDepartmentId(\"\");\n      })\n      .catch((err) => {\n        addToast(err.message, { appearance: \"error\" });\n      });\n    setIsLoading(false);\n    handleCloseModal();\n  };\n\n  const toggleModalState = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  const handleCloseModal = () => {\n    loadCategories();\n    toggleModalState();\n  };\n\n  return (\n    <Modal\n      trigger={\n        <Button className={componentName === \"Edit\" ? \"table-action-btn\" : \"generic-create-btn\"} onClick={toggleModalState}>\n          {componentName === \"Edit\" ? <Icon name=\"pencil\" /> : <span>{componentName}</span>}\n        </Button>\n      }\n      closeIcon\n      open={isModalOpen}\n      onClose={handleCloseModal}\n    >\n      <Modal.Header>{componentName} a category</Modal.Header>\n      <Modal.Content>\n        <Form name=\"createDepForm\" size=\"large\" onSubmit={handleFormSubmit}>\n          <Form.Input\n            fluid\n            placeholder=\"Titulo\"\n            value={title}\n            error={!isTitleValid}\n            onChange={(ev) => setTitle(ev.target.value)}\n            onBlur={() => setIsTitleValid(isTextValid(title, 3, 0))}\n          />\n          <Form.TextArea\n            fluid\n            placeholder=\"Descrição\"\n            value={description}\n            error={!isDescriptionValid}\n            onChange={(ev) => setDescription(ev.target.value)}\n            onBlur={() => setIsDescriptionValid(isTextValid(description, 5, 0))}\n          />\n          <Form.Select\n            fluid\n            label=\"Departamento\"\n            options={departmentOptions}\n            placeholder=\"Departamento\"\n            onChange={(e, { value }) => setDepartmentId(value)}\n            value={departmentId}\n          />\n          <Button type=\"submit\" color=\"teal\" fluid loading={isLoading} primary>\n            Submit\n          </Button>\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nCategoryForm.defaultProps = {\n  department: {},\n};\n\nexport default CategoryForm;\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getCategories = async (args) => {\n  const response = await callWebApi({\n    endpoint: \"/api/categories\",\n    type: \"GET\",\n    query: args,\n  });\n  return response.json();\n};\n\nexport const createCategory = async (request, organizationId) => {\n  const response = await callWebApi({\n    endpoint: \"/api/categories\",\n    type: \"POST\",\n    request,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const updateCategory = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/categories/${id}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteCategory = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/categories/${id}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n","import React, {useState} from 'react'\nimport {Button, Icon, Modal} from 'semantic-ui-react'\nimport {deleteCategory} from \"../../../services/categoriesService\";\nimport './styles.css'\n\nconst DeleteCategory = ({title, id, addToast, loadCategories}) => {\n    const [isModalOpen, setIsModalOpen] = useState(false)\n\n    const removeCategory = () => {\n        deleteCategory(id)\n            .then(resp => {\n                    addToast(\n                        `Category deleted successfully`,\n                        {appearance: 'success'})\n                }\n            )\n            .catch(err => {\n                if (err.message !== '') {\n                    addToast('Could not delete category: ' + err.message, {appearance: 'error'})\n                } else {\n                    addToast('Something went wrong', {appearance: 'error'})\n                }\n            }).finally(\n            () => {\n                toggleModal();\n                loadCategories()\n            }\n        )\n    }\n\n    const toggleModal = () => {\n        setIsModalOpen(!isModalOpen)\n    }\n    return (\n        <Modal\n            trigger={<Button className={'cat-delete-btn cat-btn'} onClick={toggleModal}>\n                <Icon name='trash'/>\n            </Button>}\n            open={isModalOpen}\n            closeIcon\n        >\n            <Modal.Header>Delete a category</Modal.Header>\n            <Modal.Content>\n                <h4>Are you sure you want to delete category {`\"${title}\"`}?</h4>\n                <Button color='red' inverted onClick={removeCategory}>\n                    <Icon name='remove'/> Delete\n                </Button>\n                <Button color='blue' inverted onClick={toggleModal}>\n                    <Icon name='checkmark'/> Cancel\n                </Button>\n            </Modal.Content>\n        </Modal>)\n\n\n}\n\nexport default DeleteCategory;\n","import React, { Component } from \"react\";\nimport { Icon, Menu, Pagination, Table } from \"semantic-ui-react\";\nimport CategoryForm from \"../CategoryForm\";\nimport { updateCategory } from \"../../../services/categoriesService\";\nimport { createPageNavigation } from \"../../../helpers/pagination\";\nimport DeleteCategory from \"../DeleteCategory\";\n\nclass CategoriesList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.createCategoryRow = this.createCategoryRow.bind(this);\n    this.handlePaginationClick = this.handlePaginationClick.bind(this);\n  }\n\n  createCategoryRow = (cat) => {\n    return (\n      <Table.Row key={cat._id}>\n        <Table.Cell>\n          <CategoryForm\n            category={cat}\n            componentName={\"Edit\"}\n            addToast={this.props.addToast}\n            departmentOptions={this.props.departmentOptions}\n            loadCategories={this.props.loadCategories}\n            submit={(req) => updateCategory(cat._id, req)}\n          />\n        </Table.Cell>\n        <Table.Cell>\n          <DeleteCategory\n            addToast={this.props.addToast}\n            id={cat._id}\n            title={cat.title}\n            loadCategories={this.props.loadCategories}\n          />\n        </Table.Cell>\n        <Table.Cell>{cat._id}</Table.Cell>\n        <Table.Cell>{cat.title}</Table.Cell>\n        <Table.Cell>{cat.department ? cat.department.title : \"\"}</Table.Cell>\n        <Table.Cell>{cat.description}</Table.Cell>\n      </Table.Row>\n    );\n  };\n\n  handlePaginationClick = (page) => {\n    this.props.updatePageFilter({ page: page });\n  };\n\n  render() {\n    const { pages, onPageChange, filters } = this.props;\n    return (\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell colspan={2} rowspan={2}>\n              Actions\n            </Table.HeaderCell>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>Titulo</Table.HeaderCell>\n            <Table.HeaderCell>Departamento</Table.HeaderCell>\n            <Table.HeaderCell>Descrição</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {this.props.categories.map((cat) => this.createCategoryRow(cat))}\n        </Table.Body>\n\n        <Table.Footer>\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n              <Pagination\n                activePage={filters.currentPage}\n                totalPages={pages}\n                onPageChange={(_, { activePage }) => onPageChange(activePage)}\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n    );\n  }\n}\n\nexport default CategoriesList;\n","import React from \"react\";\nimport CategoryForm from \"../../components/CategoriesComponents/CategoryForm\";\nimport CategoriesList from \"../../components/CategoriesComponents/CategoriesList\";\nimport { createCategory } from \"../../services/categoriesService\";\n\nimport \"./styles.css\";\nimport { Input } from \"semantic-ui-react\";\nimport { useContext } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport { useAPI } from \"src/helpers/useFetch\";\nimport { useCategories } from \"src/hooks\";\n\nconst searchFields = \"*\";\n\nfunction useDepartments() {\n  return useAPI(\"/api/departments\", searchFields);\n}\nfunction CategoriesPage(props) {\n  const { data: categories, total, pages, search, goto, filters, refresh } = useCategories();\n  const [{ data: departments } = { data: [] }, , , , , , , ,] = useDepartments();\n  const organizationId = useContext(OrganizationContext);\n\n  const handleSearch = (event) => search(event.target.value);\n  const clearSearch = () => search(\"\");\n\n  const departmentOptions = departments.map(({ _id, title }) => ({\n    value: _id,\n    text: title,\n  }));\n\n  return (\n    <div className=\"categories-container container\">\n      <h2>Categories</h2>\n\n      <CategoryForm\n        componentName={\"Create\"}\n        departmentOptions={departmentOptions}\n        addToast={props.addToast}\n        loadCategories={refresh}\n        submit={(r) => createCategory(r, organizationId)}\n      />\n      <div>\n        <strong>Total categories: {total}</strong>\n        <div class=\"ui action input\" style={{ marginLeft: 16 }}>\n          <Input type=\"text\" placeholder=\"Search...\" onChange={handleSearch} value={filters.searchText} />\n          <button class=\"ui icon button\" onClick={clearSearch}>\n            <i class=\"delete icon\"></i>\n          </button>\n        </div>\n      </div>\n\n      <CategoriesList\n        addToast={props.addToast}\n        departmentOptions={departmentOptions}\n        categories={categories}\n        loadCategories={refresh}\n        onPageChange={goto}\n        filters={filters}\n        pages={pages}\n      />\n    </div>\n  );\n}\n\nexport default CategoriesPage;\n","import React, { useMemo } from \"react\";\nimport { Row, Col, Input, Radio, Form, Modal, Upload, ConfigProvider, DatePicker } from \"antd\";\nimport moment from \"moment\";\nimport NumberFormat from \"react-number-format\";\nimport { useTranslation } from \"react-i18next\";\nimport { translateRules } from \"src/helpers\";\n\nconst ruleRequired = { required: true };\n\nconst ruleAllowOnlyDigits = {\n  pattern: `[0-9]+`,\n  message: \"only digits allowed\",\n};\n\nconst normalizeAgencyNo = (e) => {\n  const value = e.target.value.slice(0, 6);\n\n  if (!/^([0-9]{1,5}|[0-9]{1,4}([-]{1}[0-9]{0,1})?)$/.test(value)) return \"\";\n\n  return value.length > 4 && !value.endsWith(\"-\") ? value.substr(0, 4) + \"-\" + value.substr(-1) : value;\n};\n\nconst normalizeAccountNo = (e) => {\n  const value = e.target.value.slice(0, 10);\n\n  if (!/^([0-9]{1,9}|[0-9]{1,8}([-]{1}[0-9]{0,1})?)$/.test(value)) return \"\";\n\n  return value.length > 8 && !value.endsWith(\"-\") ? value.substr(0, 8) + \"-\" + value.substr(-1) : value;\n};\n\nconst rules = {\n  agencyNo: [\n    ruleRequired,\n    {\n      pattern: `^[0-9]{4}(-[0-9]{1})?$`,\n      message: \"Should be XXXX or XXXX-X\",\n    },\n    { max: 4 + 2 },\n  ],\n  no: [ruleRequired, ruleAllowOnlyDigits, { max: 6 }],\n  accountNo: [\n    ruleRequired,\n    {\n      pattern: `^[0-9]{8}(-[0-9]{1})?$`,\n      message: \"Should be XXXXXXXX or XXXXXXXX-X\",\n    },\n    { max: 8 + 2 },\n  ],\n  date: [ruleRequired],\n  holder: [ruleRequired],\n  to: [ruleRequired],\n  destinationName: [ruleRequired],\n  destinationBank: [ruleAllowOnlyDigits, { max: 4 }],\n  destinationDate: [ruleRequired],\n  depositMode: [ruleRequired],\n  amount: [ruleRequired],\n};\n\nconst defaultValues = {\n  depositMode: \"cash\",\n  accountType: \"personal\",\n  frontImage: [],\n  backImage: [],\n};\n\nconst imageUrlToImage = (url) => {\n  return {\n    url: url,\n    name: url,\n    status: \"done\",\n    uid: url,\n  };\n};\n\nconst imageFromEvent = ({ file }) => {\n  if (file.status === \"removed\") {\n    return [];\n  }\n  if (file?.response?.message) {\n    file.uid = file?.response?.message;\n    file.url = file?.response?.message;\n  }\n  return [file];\n};\n\nfunction ChequeAddModal({ onClose, okText, okButtonProps, onSave, initialValues }) {\n  const { t } = useTranslation([\"translation\"]);\n  const [form] = Form.useForm();\n\n  const translatedRules = useMemo(() => translateRules(t, rules), [t]);\n\n  const handleSubmit = (payload) => {\n    onSave({\n      ...initialValues,\n      ...payload,\n      date: payload.date.unix(),\n      destinationDate: payload.destinationDate.unix(),\n      frontImageUrl: payload.frontImage[0]?.uid,\n      backImageUrl: payload.backImage[0]?.uid,\n    });\n  };\n\n  const denormalizedInitialValues = initialValues\n    ? {\n        ...initialValues,\n        date: moment(initialValues.date * 1000),\n        destinationDate: moment(initialValues.destinationDate * 1000),\n        frontImage: initialValues.frontImageUrl ? [imageUrlToImage(initialValues.frontImageUrl)] : [],\n        backImage: initialValues.backImageUrl ? [imageUrlToImage(initialValues.backImageUrl)] : [],\n      }\n    : defaultValues;\n\n  return (\n    <ConfigProvider>\n      <Modal\n        title={okText}\n        onClose={onClose}\n        visible\n        okText={okText}\n        okButtonProps={{\n          form: \"cheque-add-modal\",\n          htmlType: \"submit\",\n          ...okButtonProps,\n        }}\n        onCancel={onClose}\n        width={800}\n        maskClosable={false}\n        keyboard={false}\n      >\n        <Form\n          layout=\"vertical\"\n          id=\"cheque-add-modal\"\n          form={form}\n          initialValues={denormalizedInitialValues}\n          onFinish={handleSubmit}\n        >\n          <Row gutter={16}>\n            <Col span={6}>\n              <Form.Item label={t(\"Cheque No\")} name=\"no\" rules={translatedRules.no}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={6}>\n              <Form.Item\n                label={t(\"Agency No\")}\n                name=\"agencyNo\"\n                getValueFromEvent={normalizeAgencyNo}\n                rules={translatedRules.agencyNo}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={6}>\n              <Form.Item\n                label={t(\"Account No\")}\n                name=\"accountNo\"\n                rules={translatedRules.accountNo}\n                getValueFromEvent={normalizeAccountNo}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={6}>\n              <Form.Item label={t(\"Cheque Date\")} name=\"date\" rules={translatedRules.date}>\n                <DatePicker style={{ width: \"100%\" }} />\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row gutter={16}>\n            <Col span={8}>\n              <Form.Item\n                label={t(\"Amount\")}\n                name=\"amount\"\n                rules={translatedRules.amount}\n                trigger=\"onValueChange\"\n                getValueFromEvent={(vs) => vs.floatValue}\n              >\n                <NumberFormat customInput={Input} thousandSeparator=\".\" decimalSeparator=\",\" />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item label={t(\"Holder\")} name=\"holder\" rules={translatedRules.holder}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item label={t(\"To\")} name=\"to\" rules={translatedRules.to}>\n                <Input />\n              </Form.Item>\n            </Col>\n          </Row>\n\n          <Row gutter={16}>\n            <Col span={8}>\n              <Form.Item label={t(\"Destination Bank Number\")} name=\"destinationBank\" rules={translatedRules.destinationBank}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item\n                label={t(\"Destination Name (Beneficiary)\")}\n                name=\"destinationName\"\n                rules={translatedRules.destinationName}\n              >\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item label={t(\"Destination Date\")} name=\"destinationDate\" rules={translatedRules.destinationDate}>\n                <DatePicker style={{ width: \"100%\" }} />\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row>\n            <Col span={12}>\n              <Form.Item name=\"depositMode\" rules={translatedRules.depositMode}>\n                <Radio.Group>\n                  <Radio value=\"cash\">{t(\"Cash\")}</Radio>\n                  <Radio value=\"deposit\">{t(\"Deposit\")}</Radio>\n                </Radio.Group>\n              </Form.Item>\n            </Col>\n            <Col span={12}>\n              <Form.Item name=\"accountType\">\n                <Radio.Group>\n                  <Radio value=\"personal\">{t(\"Personal\")}</Radio>\n                  <Radio value=\"business\">{t(\"Business\")}</Radio>\n                </Radio.Group>\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row>\n            <Col span={12}>\n              <Form.Item\n                label={t(\"Front Image\")}\n                name=\"frontImage\"\n                rules={translatedRules.frontImageUrl}\n                getValueFromEvent={imageFromEvent}\n                valuePropName=\"fileList\"\n                shouldUpdate\n                help={t(\"only images (jpeg, png etc..) allowed\")}\n              >\n                <Upload\n                  action=\"/assets/upload?entity=cheque\"\n                  accept=\"image/*\"\n                  headers={{\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                  }}\n                  listType=\"picture-card\"\n                >\n                  {t(\"upload\")}\n                </Upload>\n              </Form.Item>\n            </Col>\n            <Col span={12}>\n              <Form.Item\n                label={t(\"Back Image\")}\n                name=\"backImage\"\n                rules={translatedRules.backImageUrl}\n                getValueFromEvent={imageFromEvent}\n                valuePropName=\"fileList\"\n                shouldUpdate\n                help={t(\"only images (jpeg, png etc..) allowed\")}\n              >\n                <Upload\n                  action=\"/assets/upload?entity=cheque\"\n                  accept=\"image/*\"\n                  headers={{\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                  }}\n                  listType=\"picture-card\"\n                >\n                  {t(\"upload\")}\n                </Upload>\n              </Form.Item>\n            </Col>\n          </Row>\n        </Form>\n      </Modal>\n    </ConfigProvider>\n  );\n}\n\nexport default ChequeAddModal;\n","import React from \"react\";\nimport { Modal } from \"antd\";\nimport { useState } from \"react\";\n\nfunction ChequeImageModal({ urls, onClose }) {\n  const [selected, setSelected] = useState(urls[0]);\n\n  return (\n    <Modal visible onCancel={onClose} footer={null} width={1000}>\n      <div\n        style={{\n          display: \"grid\",\n          gridTemplateColumns: \"80px auto\",\n          height: 450,\n        }}\n      >\n        <div\n          style={{\n            textAlign: \"center\",\n            borderRight: \"1px solid #aaa\",\n            paddingRight: 16,\n          }}\n        >\n          {urls.map((url) => (\n            <div\n              style={{\n                borderWidth: selected === url ? 3 : 0,\n                borderStyle: \"solid\",\n                marginBottom: 16,\n                borderColor: \"teal\",\n              }}\n            >\n              <img\n                key={url}\n                style={{\n                  maxWidth: \"100%\",\n                  height: 60,\n                  objectFit: \"contain\",\n                }}\n                src={url}\n                onClick={() => setSelected(url)}\n              />\n            </div>\n          ))}\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            minHeight: 0,\n            justifyContent: \"center\",\n            padding: 16,\n          }}\n        >\n          <img\n            style={{\n              maxWidth: \"100%\",\n              maxHeight: \"100%\",\n              objectFit: \"contain\",\n            }}\n            src={selected}\n          />\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nexport default ChequeImageModal;\n","const currencyFormatter = new Intl.NumberFormat(\"pt-BR\", {\n  maximumFractionDigits: 2,\n  minimumFractionDigits: 2,\n});\n\nexport default currencyFormatter;\n","import React from \"react\";\nimport { Calendar, Modal } from \"antd\";\nimport moment from \"moment\";\nimport currencyFormatter from \"../../helpers/currencyFormatter\";\n\nconst colors = [\"teal\", \"blue\", \"orange\"];\n\nfunction Cell({ cheques }) {\n  return (\n    <ul>\n      {cheques.map((c, i) => (\n        <li\n          style={{\n            fontSize: 10,\n            whiteSpace: \"nowrap\",\n            textOverflow: \"ellipsis\",\n          }}\n          key={c._id}\n        >\n          <i style={{ color: colors[i % colors.length], marginRight: 4 }}>⦿</i>\n          {c.no} ({c.status}) ({currencyFormatter.format(c.amount)})\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nfunction ChequeCalenderModal({ cheques, onClose }) {\n  const chequeMapByDate = cheques.reduce((acc, cheque) => {\n    const date = moment(cheque.date * 1000).format(\"DD/MM/YYYY\");\n    const destinationDate = moment(cheque.destinationDate * 1000).format(\n      \"DD/MM/YYYY\"\n    );\n    const dateOnes = acc[date] || [];\n    const destDateOnes = acc[destinationDate] || [];\n    dateOnes.push(cheque);\n    destDateOnes.push(cheque);\n    acc[date] = dateOnes;\n    acc[destinationDate] = destDateOnes;\n    return acc;\n  }, {});\n\n  const chequeMapByMonth = cheques.reduce((acc, cheque) => {\n    const date = moment(cheque.date * 1000).format(\"MM/YYYY\");\n    const destinationDate = moment(cheque.destinationDate * 1000).format(\n      \"MM/YYYY\"\n    );\n    const dateOnes = acc[date] || [];\n    const destDateOnes = acc[destinationDate] || [];\n    dateOnes.push(cheque);\n    destDateOnes.push(cheque);\n    acc[date] = dateOnes;\n    acc[destinationDate] = destDateOnes;\n    return acc;\n  }, {});\n\n  const dateCellRender = (value) => {\n    const filteredCheques = chequeMapByDate[value.format(\"DD/MM/YYYY\")];\n    if (!filteredCheques) return null;\n\n    return <Cell cheques={filteredCheques} />;\n  };\n\n  const monthCellRender = (value) => {\n    const filteredCheques = chequeMapByMonth[value.format(\"MM/YYYY\")];\n    if (!filteredCheques) return null;\n\n    return <Cell cheques={filteredCheques} />;\n  };\n  return (\n    <Modal\n      visible\n      onCancel={onClose}\n      width=\"95%\"\n      bodyStyle={{ height: \"80vh\", overflowY: \"auto\" }}\n      footer={null}\n    >\n      <Calendar\n        fullscreen\n        dateCellRender={dateCellRender}\n        monthCellRender={monthCellRender}\n      />\n      ,\n    </Modal>\n  );\n}\n\nexport default ChequeCalenderModal;\n","import React, { useMemo, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Button, Confirm, Icon, Input, Pagination, Table } from \"semantic-ui-react\";\nimport { useAPI } from \"../../helpers/useFetch\";\nimport ChequeAddModal from \"./ChequeAddModal\";\nimport moment from \"moment\";\nimport NSHandler from \"../../components/NSHandler\";\nimport useList from \"src/helpers/useList\";\nimport DropdownConfirmation from \"src/components/DropdownConfirmation\";\nimport ChequeImageModal from \"./ChequeImageModal\";\nimport { useContext } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport currencyFormatterPrefix from \"src/helpers/currencyFormatterPrefix\";\nimport ChequeCalenderModal from \"./ChequeCalenderModal\";\nimport { useTranslation } from \"react-i18next\";\nimport OrgAwareButton from \"src/components/OrgAwareButton\";\n\nconst searchFields = \"*\";\n\nconst statusColors = {\n  new: \"teal\",\n  canceled: \"orange\",\n  good: \"blue\",\n  compensated: undefined,\n  other: undefined,\n  returned: undefined,\n};\n\nconst statusOptions = [\n  { value: \"new\", text: \"New\" },\n  { value: \"good\", text: \"Good\" },\n  { value: \"compensated\", text: \"Compensate\" },\n  { value: \"canceled\", text: \"Cancel\", confirm: true },\n  { value: \"returned\", text: \"Return\" },\n  { value: \"other\", text: \"Other\", confirmWithComment: true },\n];\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => (a === \"status change\" ? `failed to change status of ${n}` : `failed to ${a} ${n}`),\n};\n\nfunction useCheque() {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"add\" && payload) return [\"/api/cheques\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/cheques/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/cheques/${id}`, { method: \"DELETE\" }];\n\n    if (method === \"status change\" && id && payload)\n      return [`/api/cheques/${id}/status`, { method: \"POST\", body: JSON.stringify(payload) }];\n    return [undefined, undefined];\n  }, [payload, method, id]);\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"add\"]);\n  const edit = (payload, id) => setState([id, payload, \"update\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n  const changeStatus = (payload, id) => setState([id, payload, \"status change\"]);\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](\"cheque\", method) : \"\";\n  }\n\n  return { add, edit, del, reset, changeStatus, status };\n}\n\nfunction useCheques() {\n  const organizationId = useContext(OrganizationContext);\n\n  return useList(`/api/cheques?organizationId=${organizationId || \"\"}`, searchFields);\n}\n\nfunction ChequeList({ addToast }) {\n  const { t } = useTranslation([\"translation\"]);\n  const [cheques, { total, pages }, search, goto, sort, filters, chequesStatus, refresh] = useCheques();\n  const { add, edit, del, changeStatus, reset, status: actionStatus } = useCheque();\n\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(false);\n  const [shouldShowCalender, setShouldShowCalender] = useState(false);\n  const [selectedChequeForEdit, setSelectedChequeForEdit] = useState();\n  const [selectedChequeForDelete, setSelectedChequeForDelete] = useState();\n  const [selectedImages, setSelectedImages] = useState();\n\n  const handleSearch = (e) => search(e.target.value);\n\n  const closeAddModal = () => setShouldShowAddModal(false);\n  const showAddModal = () => setShouldShowAddModal(true);\n\n  const closeEditModal = () => setSelectedChequeForEdit(undefined);\n  const handleEdit = (cheque) => () => setSelectedChequeForEdit(cheque);\n\n  const handleDelete = (id) => () => setSelectedChequeForDelete(id);\n  const closeDeleteConfirmation = () => setSelectedChequeForDelete(undefined);\n\n  const showChequeCalender = () => setShouldShowCalender(true);\n  const hideChequeCalender = () => setShouldShowCalender(false);\n\n  const handlePageChange = (_, d) => {\n    goto(d.activePage);\n  };\n\n  const handleStatusChange = (id) => (_, data) => {\n    changeStatus({ status: data.value, comment: data.comment }, id);\n  };\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        closeAddModal();\n        closeEditModal();\n        closeDeleteConfirmation();\n        refresh();\n      }\n    }\n  }, [actionStatus]);\n\n  useEffect(() => {\n    if (!shouldShowAddModal && actionStatus.action === \"add\" && actionStatus.isSuccess) {\n      reset();\n    }\n  }, [shouldShowAddModal, actionStatus.action, actionStatus.isSuccess]);\n\n  const translatedStatusOptions = useMemo(() => statusOptions.map((o) => ({ ...o, text: t(o.text) })), [t]);\n\n  return (\n    <div className=\"container\">\n      <h2>{t(\"Cheques\")}</h2>\n      <div className=\"list-actions\">\n        <span>\n          {t(\"Total\")}: {total}\n        </span>\n        <div style={{ marginLeft: 16, marginRight: 16 }}>\n          <Input\n            type=\"text\"\n            placeholder={t(\"Search\")}\n            onChange={handleSearch}\n            value={filters.searchText}\n            icon={<Icon name=\"delete\" onClick={() => search(\"\")} circular link />}\n          />\n        </div>\n        <Button onClick={showChequeCalender} icon=\"calendar alternate outline\"></Button>\n        <OrgAwareButton type=\"primary\" className=\"generic-create-btn\" onClick={showAddModal}>\n          {t(\"Add\")} {t(\"Cheque\")}\n        </OrgAwareButton>\n      </div>\n\n      <NSHandler status={chequesStatus}>\n        {() => (\n          <Table sortable>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell>{t(\"Actions\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Status\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Cheque No\")}</Table.HeaderCell>\n                <Table.HeaderCell\n                  sorted={filters.sort.by === \"date\" ? filters.sort.direction : null}\n                  onClick={() => sort(\"date\", filters.sort.direction === \"descending\" ? \"ascending\" : \"descending\")}\n                >\n                  {t(\"Cheque Date\")}\n                </Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Agency No\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Account No\")}</Table.HeaderCell>\n                <Table.HeaderCell\n                  sorted={filters.sort.by === \"holder\" ? filters.sort.direction : null}\n                  onClick={() => sort(\"holder\", filters.sort.direction === \"descending\" ? \"ascending\" : \"descending\")}\n                >\n                  {t(\"Holder\")}\n                </Table.HeaderCell>\n                <Table.HeaderCell>{t(\"To\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Amount\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Destination\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Images\")}</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n              {cheques.map((cheque) => (\n                <Table.Row key={cheque._id}>\n                  <Table.Cell>\n                    <Button icon=\"edit\" basic onClick={handleEdit(cheque)} size=\"mini\" />\n                    <Button icon=\"trash alternate\" negative basic onClick={handleDelete(cheque._id)} size=\"mini\" />\n                  </Table.Cell>\n                  <Table.Cell style={{ width: 160 }}>\n                    <DropdownConfirmation\n                      options={translatedStatusOptions}\n                      onChange={handleStatusChange(cheque._id)}\n                      defaultValue={cheque.status}\n                      color={statusColors[cheque.status]}\n                      size=\"mini\"\n                      basic\n                    >\n                      {cheque.status.toUpperCase()}\n                    </DropdownConfirmation>\n                    {cheque.status === \"other\" && (\n                      <>\n                        <br />\n                        <br />\n                        <strong>{t(\"Comment\")}: </strong>\n                        {cheque.comment}\n                      </>\n                    )}\n                  </Table.Cell>\n                  <Table.Cell>{cheque.no}</Table.Cell>\n                  <Table.Cell>{moment(cheque.date * 1000).format(\"DD/MM/YYYY\")}</Table.Cell>\n                  <Table.Cell>{cheque.agencyNo}</Table.Cell>\n                  <Table.Cell>{cheque.accountNo}</Table.Cell>\n                  <Table.Cell>{cheque.holder}</Table.Cell>\n                  <Table.Cell>{cheque.to}</Table.Cell>\n                  <Table.Cell>{currencyFormatterPrefix.format(cheque.amount)}</Table.Cell>\n                  <Table.Cell>\n                    <Icon name=\"user outline\" />\n                    {cheque.destinationName}\n                    <br />\n                    <Icon name=\"building outline\" />\n                    {cheque.destinationBank}\n                    <br />\n                    <Icon name=\"calendar alternate outline\" />\n                    {moment(cheque.destinationDate * 1000).format(\"DD/MM/YYYY\")}\n                  </Table.Cell>\n                  <Table.Cell>\n                    {(cheque.frontImageUrl || cheque.backImageUrl) && (\n                      <Button\n                        basic\n                        icon=\"images outline\"\n                        size=\"mini\"\n                        onClick={() => setSelectedImages([cheque.frontImageUrl, cheque.backImageUrl])}\n                      />\n                    )}\n                  </Table.Cell>\n                </Table.Row>\n              ))}\n            </Table.Body>\n            <Table.Footer>\n              <Table.Row>\n                <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n                  <Pagination activePage={filters.currentPage} totalPages={pages} onPageChange={handlePageChange} />\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Footer>\n          </Table>\n        )}\n      </NSHandler>\n      {shouldShowAddModal && (\n        <ChequeAddModal\n          onSave={add}\n          okText=\"Add Cheque\"\n          okButtonProps={{ disabled: actionStatus.isLoading }}\n          onClose={closeAddModal}\n        />\n      )}\n      {selectedChequeForEdit && (\n        <ChequeAddModal\n          onSave={(payload) => edit(payload, selectedChequeForEdit._id)}\n          onClose={closeEditModal}\n          initialValues={selectedChequeForEdit}\n          okButtonProps={{ disabled: actionStatus.isLoading }}\n          okText=\"Update Cheque\"\n        />\n      )}\n      {selectedChequeForDelete && (\n        <Confirm\n          open\n          content=\"Are you sure you want to DELETE this cheque ?\"\n          onCancel={closeDeleteConfirmation}\n          onConfirm={() => del(selectedChequeForDelete)}\n          cancelButton=\"No\"\n          confirmButton=\"Yes, Delete\"\n        />\n      )}\n      {selectedImages && <ChequeImageModal urls={selectedImages} onClose={() => setSelectedImages(undefined)} />}\n      {shouldShowCalender && <ChequeCalenderModal cheques={cheques} onClose={hideChequeCalender} />}\n    </div>\n  );\n}\n\nexport default ChequeList;\n","import { makeLabelGetter } from \"src/helpers\";\n\nexport const EXPENSE_FREQUENCY = {\n  daily: __(\"Daily\"),\n  weekly: __(\"Weekly\"),\n  biweekly: __(\"Bi-Weekly\"),\n  monthly: __(\"Monthly\"),\n  custom: __(\"Custom\"),\n};\n\nexport const GET_EXPENSE_FREQUENCY_LABEL = makeLabelGetter(EXPENSE_FREQUENCY);\n\nexport const EXPENSE_FREQUENCY_OPTIONS = Object.entries(EXPENSE_FREQUENCY).map(([value, label]) => ({ value, label }));\n\nexport const EXPENSE_TYPE = {\n  utility: __(\"Utility\"),\n  salary: __(\"Salary\"),\n  rent: __(\"Rent\"),\n  purchase: __(\"Purchase\"),\n};\n\nexport const GET_EXPENSE_TYPE_LABEL = makeLabelGetter(EXPENSE_TYPE);\n\nexport const EXPENSE_TYPE_OPTIONS = Object.entries(EXPENSE_TYPE).map(([value, label]) => ({ value, label }));\n","import React from \"react\";\nimport { Row, Col, Input, Radio, Form, Modal, ConfigProvider, DatePicker } from \"antd\";\nimport { Select } from \"src/components\";\nimport moment from \"moment\";\nimport { InputNumberFmtd } from \"src/components\";\nimport currencyFormatterPrefix from \"../../helpers/currencyFormatterPrefix\";\n\nimport { useDepartmentsWithProfits } from \"src/hooks\";\nimport NumberFormat from \"react-number-format\";\nimport { useTranslation } from \"react-i18next\";\nimport { EXPENSE_FREQUENCY_OPTIONS, EXPENSE_FREQUENCY, EXPENSE_TYPE_OPTIONS } from \"./constants\";\n\nconst TextArea = Input.TextArea;\n\nconst ruleRequired = { required: true };\n\nconst validations = {\n  name: [ruleRequired],\n  type: [ruleRequired],\n  frequency: [ruleRequired],\n  issueDate: [ruleRequired],\n  dueDate: [ruleRequired],\n  moneySource: [ruleRequired],\n  paymentMethod: [ruleRequired],\n  amount: [ruleRequired],\n  lateFee: [ruleRequired],\n  receiptUrl: [ruleRequired],\n  invoiceUrl: [ruleRequired],\n  numTimes: [{ min: 1, type: \"number\" }],\n  fixedAmount: [ruleRequired, { min: 1, type: \"number\" }],\n  variableAmount: [{ min: 1, type: \"number\" }],\n};\n\nconst defaultValues = {\n  frequency: EXPENSE_FREQUENCY.monthly,\n  type: \"utility\",\n  receipt: [],\n  invoice: [],\n  fixed: true,\n  chequeIds: [],\n};\n\nconst imageUrlToImage = (url) => {\n  return {\n    url: url,\n    name: url,\n    status: \"done\",\n    uid: url,\n  };\n};\n\nfunction ExpenseAddModal({ onClose, okText, okButtonProps, onSave, initialValues }) {\n  const { t } = useTranslation([\"translation\"]);\n  const [form] = Form.useForm();\n  const [departments = [], departmentsStatus] = useDepartmentsWithProfits(initialValues?.organizationId);\n\n  const handleSubmit = (payload) => {\n    onSave({\n      ...payload,\n      numTimes: Number(payload.numTimes),\n      moneySourceId: payload.moneySourceId || undefined,\n      issueDate: payload.issueDate.unix(),\n      dueDate: payload.dueDate.unix(),\n      amount: payload.amount,\n      lateFee: payload.lateFee,\n    });\n  };\n\n  const denormalizedInitialValues = initialValues\n    ? {\n        ...initialValues,\n        amount: initialValues.amount,\n        lateFee: initialValues.lateFee || 0,\n        issueDate: initialValues.issueDate ? moment(initialValues.issueDate * 1000) : undefined, // create expense from wood calc don't have dates\n        dueDate: initialValues.dueDate ? moment(initialValues.dueDate * 1000) : undefined,\n        receipts: (initialValues.receipts || []).map(({ url }) => imageUrlToImage(url)),\n        invoices: (initialValues.invoices || []).map(({ url }) => imageUrlToImage(url)),\n      }\n    : defaultValues;\n\n  const departmentOptions = departments\n    .filter(({ profit }) => profit > 0)\n    .map((d) => ({\n      label: `${d.title} (${currencyFormatterPrefix.format(d.profit)})`,\n      value: d._id,\n    }));\n\n  return (\n    <ConfigProvider componentSize=\"middle\">\n      <Modal\n        title={okText}\n        onClose={onClose}\n        visible\n        okText={okText}\n        okButtonProps={{\n          form: \"expense-add-modal\",\n          htmlType: \"submit\",\n          ...okButtonProps,\n        }}\n        onCancel={onClose}\n        width={1024}\n        maskClosable={false}\n        keyboard={false}\n      >\n        <Form\n          layout=\"vertical\"\n          id=\"expense-add-modal\"\n          form={form}\n          initialValues={denormalizedInitialValues}\n          onFinish={handleSubmit}\n        >\n          <Row gutter={16}>\n            <Col span={6}>\n              <Form.Item label={t(\"Title\")} name=\"name\" rules={validations.name}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={4}>\n              <Form.Item label={t(\"Type\")} name=\"type\" rules={validations.type}>\n                <Select options={EXPENSE_TYPE_OPTIONS} />\n              </Form.Item>\n            </Col>\n            <Col>\n              <Form.Item label={t(\"Frequency\")} name=\"frequency\" rules={validations.frequency}>\n                <Radio.Group options={EXPENSE_FREQUENCY_OPTIONS} />\n              </Form.Item>\n            </Col>\n            <Col span={4}>\n              <Form.Item noStyle shouldUpdate>\n                {({ getFieldValue }) => (\n                  <Form.Item\n                    label=\"⠀\"\n                    name=\"numTimes\"\n                    rules={validations.numTimes}\n                    trigger=\"onValueChange\"\n                    getValueFromEvent={(vs) => vs.floatValue}\n                  >\n                    <NumberFormat\n                      customInput={(props) => <Input {...props} suffix=\"times\" />}\n                      thousandSeparator=\".\"\n                      decimalSeparator=\",\"\n                      disabled={getFieldValue(\"frequency\") !== \"custom\"}\n                    />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n          </Row>\n\n          <Row gutter={16}>\n            <Col span={9}>\n              <Form.Item label={t(\"Source of Money\")} name=\"moneySourceId\">\n                <Select options={departmentOptions} loading={departmentsStatus.isLoading} allowClear></Select>\n              </Form.Item>\n            </Col>\n            <Col span={5}>\n              <Form.Item label={t(\"Issue Date\")} name=\"issueDate\" rules={validations.issueDate}>\n                <DatePicker style={{ width: \"100%\" }} />\n              </Form.Item>\n            </Col>\n            <Col span={5}>\n              <Form.Item label={t(\"Due Date\")} name=\"dueDate\" rules={validations.dueDate}>\n                <DatePicker style={{ width: \"100%\" }} />\n              </Form.Item>\n            </Col>\n            <Col span={5}>\n              <Form.Item noStyle shouldUpdate>\n                {({ getFieldValue }) => (\n                  <Form.Item label={t(\"Fixed or Variable\")} name=\"fixed\" rules={validations.fixed}>\n                    <Radio.Group disabled={getFieldValue(\"numTimes\") === \"1\" && getFieldValue(\"frequency\") === \"custom\"}>\n                      <Radio.Button value={true}>{t(\"Fixed\")}</Radio.Button>\n                      <Radio.Button value={false}>{t(\"Variable\")}</Radio.Button>\n                    </Radio.Group>\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row gutter={16}>\n            <Col span={6}>\n              <Form.Item dependencies={[\"fixed\"]} noStyle>\n                {({ getFieldValue }) => (\n                  <Form.Item\n                    label={t(\"Amount (single time)\")}\n                    name=\"amount\"\n                    rules={getFieldValue(\"fixed\") ? validations.fixedAmount : validations.variableAmount}\n                    trigger=\"onValueChange\"\n                    getValueFromEvent={(vs) => vs.floatValue || 0}\n                  >\n                    <NumberFormat customInput={Input} thousandSeparator=\".\" decimalSeparator=\",\" />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n            <Col span={3}>\n              <Form.Item label={t(\"Late Fee\")} name=\"lateFee\">\n                <InputNumberFmtd />\n              </Form.Item>\n            </Col>\n          </Row>\n          <Form.Item name=\"description\" label={t(\"Description\")}>\n            <TextArea rows={6} />\n          </Form.Item>\n        </Form>\n      </Modal>\n    </ConfigProvider>\n  );\n}\n\nexport default ExpenseAddModal;\n","import React, { useMemo, useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Button, Confirm, Icon, Input, Pagination, Table } from \"semantic-ui-react\";\nimport NSHandler from \"../../components/NSHandler\";\nimport { useAPI } from \"../../helpers/useFetch\";\nimport ExpenseAddModal from \"./ExpenseAddModal\";\nimport moment from \"moment\";\nimport currencyFormatterPrefix from \"../../helpers/currencyFormatterPrefix\";\nimport { Link } from \"@reach/router\";\nimport { useExpenses } from \"src/hooks\";\nimport OrgAwareButton from \"src/components/OrgAwareButton\";\nimport { useTranslation } from \"react-i18next\";\nimport { EXPENSE_FREQUENCY, EXPENSE_TYPE } from \"./constants\";\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => (a === \"status change\" ? `failed to change status of ${n}` : `failed to ${a} ${n}`),\n};\n\nfunction useExpense() {\n  const [[id, payload, method], setPayload] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"add\" && payload) return [\"/api/expenses\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/expenses/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/expenses/${id}`, { method: \"DELETE\" }];\n\n    return [undefined, undefined];\n  }, [payload, method, id]);\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setPayload([undefined, payload, \"add\"]);\n  const edit = (payload, id) => setPayload([id, payload, \"update\"]);\n  const del = (id) => setPayload([id, undefined, \"delete\"]);\n  const changeStatus = (payload, id) => setPayload([id, payload, \"status change\"]);\n\n  status.action = method;\n  status.message = msgTemplate[status.code] ? msgTemplate[status.code](\"expense\", method) : \"\";\n\n  return { add, edit, del, changeStatus, status };\n}\n\nconst getInitialAddValues = () => {\n  const searchParams = new URLSearchParams(window.location.search);\n  return searchParams.get(\"create\")\n    ? {\n        name: searchParams.get(\"name\"),\n        type: searchParams.get(\"type\"),\n        description: searchParams.get(\"description\"),\n        amount: Number(searchParams.get(\"amount\")),\n        numTimes: Number(searchParams.get(\"numTimes\")),\n        frequency: searchParams.get(\"frequency\"),\n        shouldAdd: !!searchParams.get(\"create\"),\n        fixed: searchParams.get(\"fixed\") === \"true\",\n      }\n    : undefined;\n};\n\nfunction ExpenseList({ addToast }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { data: expenses, total, pages, search, goto, sort, filters, status: expensesStatus, refresh } = useExpenses();\n\n  const initialAddValues = getInitialAddValues();\n\n  const { add, edit, del, changeStatus, status: actionStatus } = useExpense();\n\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(!!initialAddValues?.shouldAdd);\n  const [selectedChequeForEdit, setSelectedChequeForEdit] = useState();\n  const [selectedChequeForDelete, setSelectedChequeForDelete] = useState();\n\n  const handleSearch = (e) => search(e.target.value);\n\n  const closeAddModal = () => setShouldShowAddModal(false);\n  const showAddModal = () => setShouldShowAddModal(true);\n\n  const closeEditModal = () => setSelectedChequeForEdit(undefined);\n  const handleEdit = (cheque) => () => setSelectedChequeForEdit(cheque);\n\n  const handleDelete = (id) => () => setSelectedChequeForDelete(id);\n  const closeDeleteConfirmation = () => setSelectedChequeForDelete(undefined);\n\n  const handlePageChange = (_, d) => {\n    goto(d.activePage);\n  };\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        closeAddModal();\n        closeEditModal();\n        closeDeleteConfirmation();\n        refresh();\n      }\n    }\n  }, [actionStatus]);\n\n  return (\n    <div className=\"container\">\n      <h2>{t(\"Expenses\")}</h2>\n      <div className=\"list-actions\">\n        <span>\n          {t(\"Total\")}: {total}\n        </span>\n        <div style={{ marginLeft: 16 }}>\n          <Input\n            type=\"text\"\n            placeholder={t(\"Search\")}\n            onChange={handleSearch}\n            value={filters.searchText}\n            icon={<Icon name=\"delete\" onClick={() => search(\"\")} circular link />}\n          />\n        </div>\n        <OrgAwareButton type=\"primary\" className=\"generic-create-btn\" onClick={showAddModal}>\n          {t(\"Add\")} {t(\"Expense\")}\n        </OrgAwareButton>\n      </div>\n\n      <NSHandler status={expensesStatus}>\n        {() => (\n          <Table sortable>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell>{t(\"Actions\")}</Table.HeaderCell>\n                <Table.HeaderCell\n                  sorted={filters.sort.by === \"type\", \"name\" ? filters.sort.direction : null}\n                  onClick={() => sort(\"name\", filters.sort.direction === \"descending\" ? \"ascending\" : \"descending\")}\n                >\n                {t(\"Title\")}</Table.HeaderCell>\n                <Table.HeaderCell\n                  sorted={filters.sort.by === \"issueDate\" ? filters.sort.direction : null}\n                  onClick={() => sort(\"issueDate\", filters.sort.direction === \"descending\" ? \"ascending\" : \"descending\")}\n                >\n                  {t(\"Issue Date\")}\n                </Table.HeaderCell>\n                <Table.HeaderCell\n                  sorted={filters.sort.by === \"dueDate\" ? filters.sort.direction : null}\n                  onClick={() => sort(\"dueDate\", filters.sort.direction === \"descending\" ? \"ascending\" : \"descending\")}\n                >\n                  {t(\"Due Date\")}\n                </Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Frequency\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Source\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Cheque\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Amount\")}</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n              {expenses.map((expense) => (\n                <Table.Row key={expense._id}>\n                  <Table.Cell>\n                    <Button icon=\"edit\" basic onClick={handleEdit(expense)} size=\"mini\" />\n                    <Button icon=\"trash alternate\" negative basic onClick={handleDelete(expense._id)} size=\"mini\" />\n                  </Table.Cell>\n                  <Table.Cell>\n                    <Link to={`/expenses/${expense._id}`}>\n                      ({EXPENSE_TYPE[expense.type]}) {expense.name}\n                    </Link>\n                  </Table.Cell>\n                  <Table.Cell>{moment(expense.issueDate * 1000).format(\"DD/MM/YYYY\")}</Table.Cell>\n                  <Table.Cell>{moment(expense.dueDate * 1000).format(\"DD/MM/YYYY\")}</Table.Cell>\n                  <Table.Cell>{EXPENSE_FREQUENCY[expense.frequency]}</Table.Cell>\n                  <Table.Cell>{expense.moneySource?.title}</Table.Cell>\n                  <Table.Cell>\n                    {expense.cheques.map(({ no, amount }) => (\n                      <a key={no} style={{ display: \"block\" }} target=\"_blank\" href=\"/cheques\">\n                        ({no}) {currencyFormatterPrefix.format(amount)}\n                      </a>\n                    ))}\n                  </Table.Cell>\n                  <Table.Cell>\n                    {currencyFormatterPrefix.format(expense.amount)}\n                    <br />\n                    {t(\"Late Fee\")}: {currencyFormatterPrefix.format(expense.lateFee)}\n                    <br />\n                    {expense.fixed ? `(${t(\"Fixed\")})` : `(${t(\"Variable\")})`}\n                  </Table.Cell>\n                </Table.Row>\n              ))}\n            </Table.Body>\n            <Table.Footer>\n              <Table.Row>\n                <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n                  <Pagination activePage={filters.currentPage} totalPages={pages} onPageChange={handlePageChange} />\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Footer>\n          </Table>\n        )}\n      </NSHandler>\n      {shouldShowAddModal && (\n        <ExpenseAddModal\n          onSave={add}\n          okText={`${t(\"Add\")} ${t(\"Expense\")}`}\n          okButtonProps={{ disabled: actionStatus.isLoading }}\n          onClose={closeAddModal}\n          initialValues={initialAddValues}\n        />\n      )}\n      {selectedChequeForEdit && (\n        <ExpenseAddModal\n          onSave={(payload) => edit(payload, selectedChequeForEdit._id)}\n          onClose={closeEditModal}\n          initialValues={selectedChequeForEdit}\n          okButtonProps={{ disabled: actionStatus.isLoading }}\n          okText={`${t(\"Update\")} ${t(\"Expense\")}`}\n        />\n      )}\n      {selectedChequeForDelete && (\n        <Confirm\n          open\n          content={`${t(\"Are you sure you want to delete\")} ?`}\n          onCancel={closeDeleteConfirmation}\n          onConfirm={() => del(selectedChequeForDelete)}\n          cancelButton={t(\"No\")}\n          confirmButton={t(\"Delete\")}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default ExpenseList;\n","import { Link } from \"@reach/router\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport currencyFormatter from \"../../helpers/currencyFormatterPrefix\";\n\nfunction RevenueCost({ className, revenue, cost, collected, notCollected, label, value, labelLink }) {\n  const { t } = useTranslation(\"translation\");\n  return (\n    <div className={`${className} card`}>\n      <div className=\"main\">{currencyFormatter.format(revenue - cost)}</div>\n      <div className=\"below\">\n        <span style={{ fontSize: 12, color: \"gray\" }}>\n          {t(\"Revenue\")}:\n          <br />\n          <span className=\"revenue\">{currencyFormatter.format(revenue)}</span>\n        </span>\n        <span style={{ fontSize: 12, color: \"gray\" }}>\n          {t(\"Cost\")}:\n          <br />\n          <span className=\"cost\">{currencyFormatter.format(cost)}</span>\n        </span>\n      </div>\n      <div className=\"below\">\n        {collected !== undefined && (\n          <span style={{ fontSize: 12, color: \"gray\" }}>\n            {t(\"Collected\")}:\n            <br />\n            <span className=\"collected\">{currencyFormatter.format(collected)}</span>\n          </span>\n        )}\n        {notCollected !== undefined && (\n          <span style={{ fontSize: 12, color: \"gray\" }}>\n            {t(\"Yet to collect\")}:\n            <br />\n            <span className=\"needtocollect\">{currencyFormatter.format(notCollected)}</span>\n          </span>\n        )}\n      </div>\n      <div className=\"side-by-side\">\n        {labelLink ? (\n          <Link to={labelLink}>\n            {label}: {value}\n          </Link>\n        ) : (\n          `${label}: ${value}`\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default RevenueCost;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Divider } from \"semantic-ui-react\";\nimport NSHandler from \"src/components/NSHandler\";\nimport currencyFormatterPrefix from \"src/helpers/currencyFormatterPrefix\";\nimport { useAPI } from \"src/helpers/useFetch\";\n\nconst labelMap = {\n  partial: \"Partial\",\n  paid: \"Paid\",\n  notpaid: \"Not Paid\",\n  nextMonthExpense: \"Next Month Expense\",\n  dues: \"Late Payment\",\n};\n\nconst getTotalPayment = (expenses) => {\n  return expenses.reduce((acc, e) => {\n    return e.payments.reduce((acc, p) => acc + p.amount, 0) + acc;\n  }, 0);\n};\n\nconst getTotalAmount = (expenses) => {\n  return expenses.reduce((acc, e) => e.amount + acc, 0);\n};\n\nfunction ExpenseStats() {\n  const { t } = useTranslation(\"translation\");\n  const [expenseStats = {}, expenseStatsStatus] = useAPI(\"/api/expenses/stats\");\n  return (\n    <div className=\"expense-stats-container\">\n      <h3 style={{ textTransform: \"uppercase\" }}>{t(\"Expense Stats\")}</h3>\n      <NSHandler status={expenseStatsStatus}>\n        {() => (\n          <div className=\"expense-stats\">\n            <div className=\"card\">\n              <div className=\"main\">{expenseStats.total}</div>\n\n              <div className=\"side-by-side\">{t(\"Total Expenses\")}</div>\n            </div>\n            <div className=\"card\">\n              <div className=\"main\">{currencyFormatterPrefix.format(getTotalPayment(expenseStats.paid))}</div>\n              <div className=\"below\"></div>\n\n              <div className=\"side-by-side\">\n                {t(labelMap.paid)}: {expenseStats.paid.length}\n              </div>\n            </div>\n            <div className=\"card\">\n              <div className=\"main\">{currencyFormatterPrefix.format(getTotalPayment(expenseStats.partial))}</div>\n              <div className=\"below\"></div>\n\n              <div className=\"side-by-side\">\n                {t(labelMap.partial)}: {expenseStats.partial.length}\n              </div>\n            </div>\n            <div className=\"card\">\n              <div className=\"main\">{currencyFormatterPrefix.format(getTotalAmount(expenseStats.notpaid))}</div>\n              <div className=\"below\"></div>\n\n              <div className=\"side-by-side\">\n                {t(labelMap.notpaid)}: {expenseStats.notpaid.length}\n              </div>\n            </div>\n            <div className=\"card\">\n              <div className=\"main\">{currencyFormatterPrefix.format(getTotalAmount(expenseStats.nextMonthExpense))}</div>\n              <div className=\"below\"></div>\n\n              <div className=\"side-by-side\">\n                {t(labelMap.nextMonthExpense)}: {expenseStats.nextMonthExpense.length}\n              </div>\n            </div>\n            <div className=\"card\">\n              <div className=\"main\">{currencyFormatterPrefix.format(getTotalAmount(expenseStats.dues))}</div>\n              <div className=\"below\"></div>\n\n              <div className=\"side-by-side\">\n                {t(labelMap.dues)}: {expenseStats.dues.length}\n              </div>\n            </div>\n          </div>\n        )}\n      </NSHandler>\n      <Divider />\n    </div>\n  );\n}\n\nexport default ExpenseStats;\n","import React, { useContext } from \"react\";\nimport { useAPI } from \"../../helpers/useFetch\";\nimport currencyFormatter from \"../../helpers/currencyFormatterPrefix\";\nimport { Dimmer, Loader, Divider, Card } from \"semantic-ui-react\";\nimport { Radio, Modal, DatePicker, Button } from \"antd\";\nimport { useState } from \"react\";\nimport moment from \"moment\";\nimport { useTranslation } from \"react-i18next\";\nimport RevenueCost from \"./RevenueCost\";\nimport ExpenseStats from \"./ExpenseStats\";\nimport { PrinterOutlined } from \"@ant-design/icons\";\nimport { UserContext } from \"src/contexts\";\nimport \"./styles.scss\";\nimport { navigate } from \"@reach/router\";\n\nconst { RangePicker } = DatePicker;\n\nconst OrgStatTitles = {\n  organizations: \"Organizations\",\n  branches: \"Branches\",\n  products: \"Products\",\n  brands: \"Brands\",\n  reps: \"Representants\",\n  departments: \"Departments\",\n};\n\nconst commissionNameMap = {\n  open: \"future-commission\",\n  closed: \"paid-commission\",\n  partial: \"generated-commission\",\n  quotations: \"potential-commission\",\n  canceled: \"lost-commission\",\n};\n\n\nfunction RealProfit({ data, dashboard }) {\n  const profit = data.partial.revenue + data.closed.revenue - data.partial.cost - data.closed.cost;\n  const realProfit = profit - dashboard.totalexpenses;\n  const { t } = useTranslation(\"translation\");\n  return (\n    <div className=\"card\">\n      <div className=\"main\" style={{ color: realProfit < 0 ? \"#d3131d\" : \"\" }}>\n        {currencyFormatter.format(realProfit)}\n      </div>\n      <div className=\"below\">\n        <span style={{ fontSize: 12, color: \"gray\" }}>\n          {t(\"Profit\")}:\n          <br />\n          <span className=\"revenue\">{currencyFormatter.format(profit)}</span>\n        </span>\n        <span style={{ fontSize: 12, color: \"gray\" }}>\n          {t(\"Expense\")}:\n          <br />\n          <span className=\"cost\">{currencyFormatter.format(dashboard.totalexpenses)}</span>\n        </span>\n      </div>\n      <div className=\"side-by-side\">\n        <div>{t(\"Real Profits\")}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction Dashboard({ history }) {\n  const { user: admin } = useContext(UserContext);\n\n  const [daterange, setDaterange] = useState({\n    range: \"alltime\",\n    value: [undefined, undefined],\n  });\n  const { t } = useTranslation(\"translation\");\n\n  const rangeQueryParam = new URLSearchParams([\n    [\"from\", daterange.value[0] ? daterange.value[0].unix() : \"\"],\n    [\"to\", daterange.value[1] ? daterange.value[1].unix() : \"\"],\n  ]);\n  const [data = {}, orderStatsStatus] = useAPI(`/api/orders-stats?${rangeQueryParam}`);\n  const [dashboard = {}, dashboardStatus] = useAPI(`/api/dashboard?${rangeQueryParam}`);\n  const [productStats = [], productStatsStatus] = useAPI(`/api/products-stats?${rangeQueryParam}`);\n  const [countByProcessStatus = [], countByProcessStatusStatus] = useAPI(\n    `/api/orders/aggregations/process-status?${rangeQueryParam}`\n  );\n  const [shouldShowPrintEverything, setShouldShowPrintEverything] = useState(false);\n\n  const showPrintEverythingDialog = () => setShouldShowPrintEverything(true);\n  const hidePrintEverythingDialog = () => setShouldShowPrintEverything(false);\n\n  const handleCustomRangeRadio = (e) => {\n    const v = e.target.value;\n    switch (v) {\n      case \"alltime\":\n        setDaterange({ range: v, value: [undefined, undefined] });\n        break;\n      case \"last30days\":\n        setDaterange({\n          range: v,\n          value: [moment().subtract(30, \"days\"), undefined],\n        });\n        break;\n      case \"today\":\n        setDaterange({\n          range: v,\n          value: [moment().startOf(\"day\"), undefined],\n        });\n        break;\n      case \"custom\":\n        setDaterange({\n          range: v,\n          value: [moment().subtract(14, \"days\"), undefined],\n        });\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleCustomRangeChange = (value) => {\n    setDaterange((s) => ({\n      ...s,\n      value: value === null ? [undefined, undefined] : value,\n    }));\n  };\n\n  let totalRevenue = 0;\n  let totalCost = 0;\n  let totalQuantity = 0;\n  let totalCollected = 0;\n  let totalNeedsToCollect = 0;\n  if (orderStatsStatus.isSuccess) {\n    totalRevenue = data.open.revenue + data.closed.revenue + data.partial.revenue;\n    totalCost = data.open.cost + data.closed.cost + data.partial.cost;\n    totalQuantity = data.open.orders + data.closed.orders + data.partial.orders;\n    totalCollected = data.closed.revenue + data.partial.collected;\n    totalNeedsToCollect = data.open.revenue + (data.partial.revenue - data.partial.collected);\n  }\n\n  let totalprofits = 0;\n  if (orderStatsStatus.isSuccess && dashboardStatus.isSuccess) {\n    totalprofits = data.partial.revenue + data.closed.revenue - data.partial.cost - data.closed.cost - dashboard.totalexpenses;\n  }\n\n  let totalProducts = {\n    products: 0,\n    worthPrice: 0,\n    worthCost: 0,\n  };\n  if (productStatsStatus.isSuccess) {\n    totalProducts = productStats.reduce(\n      (acc, p) => ({\n        products: acc.products + p.total,\n        worthPrice: acc.worthPrice + p.worthPrice,\n        worthCost: acc.worthCost + p.worthCost,\n      }),\n      totalProducts\n    );\n  }\n\n  const topDepartments = productStats.sort((a, b) => b.worthPrice - b.worthCost - (a.worthPrice - a.worthCost)).slice(0, 5);\n\n  const allearnings = dashboard?.allrepearnings;\n\n \n\n  return (\n    \n    <div className=\"dashboard\">\n      <div className=\"filters\">\n        <div>\n          <span style={{ marginRight: 16 }}>{t(\"See by date range\")}</span>\n          <Radio.Group onChange={handleCustomRangeRadio} defaultValue={daterange.range}>\n            <Radio value=\"alltime\">{t(\"All Time\")}</Radio>\n            <Radio value=\"last30days\">{t(\"Last 30 days\")}</Radio>\n            <Radio value=\"today\">{t(\"Today\")}</Radio>\n            <Radio value=\"custom\">{t(\"Custom\")}</Radio>\n          </Radio.Group>\n          <RangePicker\n            onChange={handleCustomRangeChange}\n            defaultValue={[moment().subtract(14, \"days\"), moment()]}\n            disabled={daterange.range !== \"custom\"}\n          />\n        </div>\n      </div>\n      <div class=\"ui cards\" style={{ minWidth: \"auto\", maxWidth: \"98%\", margin: \"auto\" }}>\n        <div class=\"ui card\">\n          <div class=\"content\">\n            <div class=\"header\">Tarefas Para hoje</div>\n            <div class=\"meta\">{daterange.range !== \"custom\"} </div>\n            <div class=\"description\">5</div></div></div>\n            <div class=\"ui card\"><div class=\"content\">\n              <div class=\"header\">Tarefas Atrasadas</div>\n              <div class=\"meta\">{daterange.range !== \"custom\"} </div>\n              <div class=\"description\">3</div>\n              </div></div>\n              <div class=\"ui card\">\n          <div class=\"content\">\n            <div class=\"header\">Contas A Pagar</div>\n            <div class=\"meta\">{daterange.range !== \"custom\"} </div>\n            <div class=\"description\">R$ 510,00</div></div></div>\n            <div class=\"ui card\"><div class=\"content\">\n              <div class=\"header\">A Receber Hoje</div>\n              <div class=\"meta\">{daterange.range !== \"custom\"}</div>\n              <div class=\"description\">R$ 630,00</div>\n              </div></div>\n              <div class=\"ui card\">\n                <div class=\"content\">\n                <div class=\"header\">Contas Atrasadas</div>\n                <div class=\"meta\">{daterange.range !== \"custom\"} </div>\n                <div class=\"description\">R$: 150,00\n                </div></div>\n                </div><div class=\"ui card\">\n                  <div class=\"content\">\n                    <div class=\"header\">A Receber Atrasadas</div>\n                    <div class=\"meta\">{daterange.range !== \"custom\"} </div>\n                    <div class=\"description\">R$: 125,00\n                    </div></div>\n                    </div></div>\n      <div style={{ marginLeft: 16, marginRight: 16 }}>\n        </div>\n      <div className=\"dashboard-inner\" style={{ minWidth: \"auto\", maxWidth: \"98%\", margin: \"auto\" }}>\n        {orderStatsStatus.isLoading && (\n          <Dimmer active={orderStatsStatus.isLoading}>\n            <Loader />\n          </Dimmer>\n        )}\n        <div className=\"space-between margin-bottom\">\n          <h3 style={{ textTransform: \"uppercase\" }}>{t(\"Dashboard Reports\")}</h3>\n          <Button icon={[1, 2, 3].includes(admin.roleNumber) && <PrinterOutlined />} onClick={showPrintEverythingDialog}>\n            {[1, 2, 3].includes(admin.roleNumber) && t(\"Print\")}\n          </Button>\n        </div>\n        {orderStatsStatus.isSuccess && (\n        <div className=\"statisticsv2\">\n          {[1, 2].includes(admin.roleNumber) && (\n             <>\n              <RevenueCost\n              className=\"open\"\n              labelLink={`/orders?paymentStatus=1`}\n              revenue={data.open.revenue}\n              cost={data.open.cost}\n              label={t(\"Open\")}\n              value={data.open.orders}\n            />\n            <RevenueCost \n              className=\"partial\"\n              labelLink={`/orders?paymentStatus=2`}\n              revenue={data.partial.revenue}\n              cost={data.partial.cost}\n              collected={data.partial.collected}\n              notCollected={data.partial.revenue - data.partial.collected}\n              label={t(\"Partial\")}\n              value={data.partial.orders}\n            />\n            <RevenueCost\n              className=\"closed\"\n              labelLink={`/orders?paymentStatus=3`}\n              revenue={data.closed.revenue}\n              cost={data.closed.cost}\n              label={t(\"Closed\")}\n              value={data.closed.orders}\n            />          \n            <RevenueCost\n              revenue={totalRevenue}\n              cost={totalCost}\n              collected={totalCollected}\n              notCollected={totalNeedsToCollect}\n              label={t(\"Placed Orders\")}\n              value={totalQuantity}\n              labelLink={`/orders`}\n            />\n            <RevenueCost\n              revenue={totalProducts.worthPrice}\n              cost={totalProducts.worthCost}\n              label={t(\"Products Registered\")}\n              value={totalProducts.products}\n              labelLink={`/products`}\n            />\n             </>\n              )}\n             {[1, 2, 3, 8].includes(admin.roleNumber) && (\n             <>\n              <RevenueCost\n              className=\"quotations\"\n              labelLink={`/orders?paymentStatus=4`}\n              revenue={[1, 2].includes(admin.roleNumber) && data.quotations.revenue}\n              cost={[1, 2].includes(admin.roleNumber) && data.quotations.cost}\n              label={t(\"Quotations\")}\n              value={data.quotations.orders}\n            />   \n          \n            <div>\n              <RevenueCost\n              className=\"canceled\"\n              revenue={data.canceled.revenue}\n              cost={data.canceled.cost}\n              label={t(\"Canceled\")}\n              value={data.canceled.orders}\n              labelLink={`/orders?status=9`}\n            /> \n            </div>\n            </>\n            )}\n             {[1, 2].includes(admin.roleNumber) && (\n             <>\n            {orderStatsStatus.isSuccess && dashboardStatus.isSuccess && <RealProfit data={data} dashboard={dashboard} />}\n            <div className=\"card org-stats\">\n              {dashboardStatus.isSuccess && (\n                <div className=\"wrapper\">\n                  <div className=\"main\">\n                    {currencyFormatter.format(dashboard.topreps.reduce((acc, { earnings }) => acc + earnings, 0))}\n                  </div>\n                  \n                  <div className=\"below\">\n                    {t(\"Rep Orders\")}: {dashboard.topreps.reduce((acc, { orders }) => acc + orders, 0)}\n                  </div>\n                </div>\n              )}\n            </div>\n            </>\n            )}\n            <div className=\"card org-stats\">\n              {dashboardStatus.isSuccess && (\n                <div className=\"wrapper\">\n                  <div className=\"main\" onClick={() => navigate(`/clients`)}>{dashboard.clients}</div>\n                  <div className=\"below\">{t(\"Clients\")}\n                  </div>\n                  \n                </div>\n              )}\n            </div>\n            <div className=\"card org-stats\">\n              {dashboardStatus.isSuccess && (\n                <div className=\"wrapper\">\n                  <div className=\"main\" onClick={() => navigate(`/orders`)}>{dashboard.orders}</div>\n                  <div className=\"below\">{t(\"Orders\")}</div>\n                </div>\n              )}\n            </div>\n            <div className=\"card org-stats\">\n              {dashboardStatus.isSuccess && (\n                <div className=\"wrapper\">\n                  <div className=\"main\" onClick={() => navigate(`/tasks`)}>{dashboard.task}</div>\n                  <div className=\"below\">{t(\"Tasks\")}</div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n        {dashboardStatus.isLoading && (\n          <Dimmer active={dashboardStatus.isLoading}>\n            <Loader />\n          </Dimmer>\n        )}\n        <Divider />\n        {[1, 2, 8].includes(admin.roleNumber) && dashboardStatus.isSuccess && (\n          <>\n            <div className=\"org-statsv2\">\n              {Object.entries(OrgStatTitles)\n                .filter(([k]) => (admin.roleNumber === 1 && k === \"organizations\" ? false : true))\n                .map(([k, v]) => (\n                  <div className=\"wrapper simplecard\" key={k}>\n                    <div className=\"main\">{dashboard[k] || 0}</div>\n                    <div className=\"below\">{t(v)}</div>\n                  </div>\n                ))}\n            </div>\n            <Divider />\n          </>\n        )}\n        {[1, 2, 3, 8].includes(admin.roleNumber) && countByProcessStatusStatus.isSuccess && (\n          <>\n            <div className=\"order-process-status-counts\">\n              {countByProcessStatus\n                .filter(({ id }) => ((admin.allowedStatuses || []).length ? (admin.allowedStatuses || []).includes(id) : true))\n                .map(({ status, count }) => (\n                  <div className=\"wrapper simplecard\" key={status} onClick={() => navigate(`/orders?status=${status}`)}>\n                    <div className=\"main\">{count}</div>\n                    <div className=\"below\">{status}</div>\n                  </div>\n                ))}\n            </div>\n            <Divider />\n          </>\n        )}\n        {[1, 2, 3].includes(admin.roleNumber) && <ExpenseStats />}\n        {[1, 2].includes(admin.roleNumber) && (\n             <>\n       <div className=\"statisticsv2\">    \n       <div className=\"card org-stats\">\n        {dashboardStatus.isSuccess && (\n          <div className=\"wrapper\">\n            <div className=\"main\" onClick={() => navigate(`/cheques`)}>{dashboard.cheques}</div>\n            <div className=\"below\">{t(\"Cheques\")}</div>\n          </div>\n        )}\n        </div>\n        <div className=\"card org-stats\">\n             {dashboardStatus.isSuccess && (\n          <div className=\"wrapper\">\n          <div className=\"main\" onClick={() => navigate(`/vehicles`)}>{dashboard.vehicle}</div>\n          <div className=\"below\">{t(\"Vehicles\")}</div>\n        </div>\n         )}\n      </div>\n      </div>  \n      </>\n\n        )}\n        {[1, 2, 3, 8].includes(admin.roleNumber) && (\n          <>\n            <h3 style={{ textTransform: \"uppercase\" }}>{t(\"Top departments\")}</h3>\n            {productStatsStatus.isSuccess && (\n              <div className=\"product-statistics\">\n                {topDepartments.map((product) => (\n                  <RevenueCost\n                    key={product?.department?._id}\n                    revenue={[1, 2].includes(admin.roleNumber) && product.worthPrice}\n                    cost={[1, 2].includes(admin.roleNumber) && product.worthCost}\n                    label={product?.department?.title}\n                    value={product.total}\n                    labelLink={`/products?departmentId=${product.department?._id}`}\n                  />\n                ))}\n              </div>\n            )}\n            <Divider />\n          </>\n        )}\n        {[1, 2].includes(admin.roleNumber) && (\n          <>\n            <h3 style={{ textTransform: \"uppercase\" }}>{t(\"Top Representants Earnings\")}</h3>\n            {dashboardStatus.isSuccess && (\n              <div className=\"product-statistics\">\n                {[0, 1, 2, 3, 4, 5].map((i) => (\n                  <div className=\"card\" key={i}>\n                    {dashboard.topreps[i] && (\n                      <>\n                        <div className=\"main\">{currencyFormatter.format(dashboard.topreps[i].earnings)}</div>\n                        <div className=\"below\"></div>\n\n                        <div className=\"side-by-side\">\n                          {dashboard.topreps[i].name}: {dashboard.topreps[i].orders}\n                        </div>\n                      </>\n                    )}\n                  </div>\n                ))}\n              </div>\n            )}\n            <Divider />\n          </>\n        )}\n        {((admin.roleNumber === 3 && admin.isRep) || admin.roleNumber === 8) && dashboardStatus.isSuccess && (\n          <div className=\"all-rep-earnings\">\n            <div className=\"card\">\n              <div className=\"wrapper\">\n                <div className=\"main\">\n                  {currencyFormatter.format(\n                    [t(\"open\"), t(\"partial\"), t(\"closed\"), t(\"quotations\")].reduce(\n                      (acc, k) => (allearnings[commissionNameMap[k]] || 0) + acc,\n                      0\n                    )\n                  )}\n                </div>\n                <div className=\"below\">\n                  {t(\"Total\")}:{\" \"}\n                  {[t(\"open\"), t(\"partial\"), t(\"closed\"), t(\"quotations\") ].reduce(\n                    (acc, k) => (allearnings[k] || []).filter(Boolean).length + acc,\n                    0\n                  )}\n                </div>\n              </div>\n            </div>\n            {Object.entries(commissionNameMap).map(([k, v]) => (\n              <div className=\"card\" key={k}>\n                <div className=\"wrapper\">\n                  <div className=\"main\">{currencyFormatter.format(allearnings[v] || 0)}</div>\n                  <div className=\"below\">\n                    {k}: {(allearnings[k] || []).filter(Boolean).length}\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n     \n      {[1, 2, 3].includes(admin.roleNumber) && shouldShowPrintEverything && (\n        <Modal onCancel={hidePrintEverythingDialog} visible width=\"95%\" bodyStyle={{ height: \"87vh\" }} footer={null} centered>\n          <iframe\n            src={`/print-everything?nav=false&${rangeQueryParam}`}\n            width=\"100%\"\n            height=\"100%\"\n            title={t(\"Report\")}\n          ></iframe>\n        </Modal>\n      )}\n       \n    </div>\n    \n  );\n}\n\nexport default Dashboard;\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getOrganizations = async (args) => {\n  const response = await callWebApi({\n    endpoint: \"/api/v2/organizations\",\n    type: \"GET\",\n    query: args,\n  });\n  return response.json();\n};\n\nexport const createOrganization = async (request) => {\n  const response = await callWebApi({\n    endpoint: \"/api/orgs\",\n    type: \"POST\",\n    request,\n  });\n  return response.json();\n};\n\nexport const updateOrganization = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/orgs/${id}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteOrganization = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/orgs/${id}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n","import React, { Component } from \"react\";\n\nimport { Link } from \"@reach/router\";\nimport { Dropdown } from \"semantic-ui-react\";\n// import { Select, Menu, Dropdown } from \"antd\";\nimport { Select, Menu } from \"antd\";\n\nimport { getOrganizations } from \"src/services/organizationsService\";\nimport { OrganizationContext } from \"src/contexts\";\nimport \"./styles.css\";\nimport { withTranslation } from \"react-i18next\";\n\nconst localeOptions = [\n  { value: \"pt-BR\", label: \"Português\" },\n  { value: \"en-US\", label: \"English\" },\n];\n\nclass MenuExampleStackable extends Component {\n  static contextType = OrganizationContext;\n  state = { organizations: [] };\n\n  handleItemClick = (e, { name }) => this.setState({ activeItem: name });\n\n  componentDidMount() {\n    if (this.props.admin.roleNumber === 1) {\n      getOrganizations().then((res) => {\n        this.setState({\n          organizations: (res.data || [])\n            .filter(({ _id }) =>\n              (this.props.admin.organizationIds || []).length > 0 ? this.props.admin.organizationIds.includes(_id) : true\n            )\n            .map(({ _id, title }) => ({\n              value: _id,\n              label: title,\n            })),\n        });\n      });\n    } else {\n      this.props.onOrganizationChange(this.props.admin.organizationIds[0]);\n    }\n  }\n\n  handleOrganizationChange = (organizationId) => {};\n\n  render() {\n    const { logout, admin, t, onLocaleChange, locale } = this.props;\n\n    return (\n      //<Menu stackable className=\"custom-menu\" inverted>\n         <Menu theme=\"light\" stackable inverted mode=\"horizontal\">\n        <Menu.Item>\n          <Link exact to=\"/\" className=\"logo-link\">\n            {t(\"Management\")}\n          </Link>\n        </Menu.Item>\n\n        {[1, 2, 3, 8].includes(admin.role.roleNumber) && (\n          <Menu.Item>\n            <Dropdown\n              inverted\n              text={t(\"Departament Properties\")}\n              // active={activeItem === \"testimonials\"}\n              // onClick={this.handleItemClick}\n            >\n              <Dropdown.Menu>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/departments\" className={\"submenuBtn \"}>\n                    {t(\"Departaments\")}\n                  </Link>\n                </Dropdown.Item>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/brands\" className={\"submenuBtn\"}>\n                    {t(\"Brands\")}\n                  </Link>\n                </Dropdown.Item>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/models\" className={\"submenuBtn\"}>\n                    {t(\"Models\")}\n                  </Link>\n                </Dropdown.Item>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/categories\" className={\"submenuBtn\"}>\n                    {t(\"Categories\")}\n                  </Link>\n                </Dropdown.Item>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/subcategories\" className={\"submenuBtn\"}>\n                    {t(\"Subcategories\")}\n                  </Link>\n                </Dropdown.Item>\n                {[1, 2, 3, 8].includes(admin.role.roleNumber) && (\n                  <Dropdown.Item name={t(\"products\")} onClick={this.handleItemClick}>\n                    <Link exact activeClassName=\"active\" to=\"/products\" className=\"submenuBtn\">\n                      {t(\"Products\")}\n                    </Link>\n                  </Dropdown.Item>\n                )}\n              </Dropdown.Menu>\n            </Dropdown>\n          </Menu.Item>\n        )}\n        <Menu.Item>\n          <Dropdown\n            inverted\n            text={t(\"Order Properties\")}\n            // active={activeItem === \"testimonials\"}\n            // onClick={this.handleItemClick}\n          >\n            <Dropdown.Menu>\n              <Dropdown.Item>\n                <Link exact activeClassName=\"active\" to=\"/orders\" className={\"menuBtn\"}>\n                  {t(\"Orders\")}\n                </Link>\n              </Dropdown.Item>\n              {[1, 2, 3, 8].includes(admin.role.roleNumber) && (\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/clients\" className={\"menuBtn\"}>\n                    {t(\"Clients\")}\n                  </Link>\n                </Dropdown.Item>\n              )}\n              {[1, 2, 3, 8].includes(admin.roleNumber) && (\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/tasks\" className={\"menuBtn\"}>\n                    {t(\"Tasks\")}\n                  </Link>\n                </Dropdown.Item>\n              )}\n            </Dropdown.Menu>\n          </Dropdown>\n        </Menu.Item>\n        {[1, 2, 3].includes(admin.roleNumber) && (\n          <Menu.Item>\n            <Dropdown\n              inverted\n              text={t(\"Administration\")}\n              // active={activeItem === \"testimonials\"}\n              // onClick={this.handleItemClick}\n            >\n              <Dropdown.Menu>\n                {[1, 2].includes(admin.roleNumber) && (\n                  <Dropdown.Item>\n                    <Link exact activeClassName=\"active\" to=\"/orgs\" className={\"menuBtn\"}>\n                      {t(\"Organizations\")}\n                    </Link>\n                  </Dropdown.Item>\n                )}\n                {[1, 2, 3].includes(admin.roleNumber) && (\n                  <Dropdown.Item>\n                    <Link exact activeClassName=\"active\" to=\"/admins\" className={\"menuBtn\"}>\n                      {t(\"Admins\")}\n                    </Link>\n                  </Dropdown.Item>\n                )}\n              </Dropdown.Menu>\n            </Dropdown>\n          </Menu.Item>\n        )}\n        {[1, 2, 3].includes(admin?.roleNumber) && (\n          <Menu.Item>\n            <Dropdown inverted text={t(\"Finance\")}>\n              <Dropdown.Menu>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/cheques\" className={\"menuBtn\"}>\n                    {t(\"Cheque Mgmt\")}\n                  </Link>\n                </Dropdown.Item>\n\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/expenses\" className={\"menuBtn\"}>\n                    {t(\"Expense Mgmt\")}\n                  </Link>\n                </Dropdown.Item>\n              </Dropdown.Menu>\n            </Dropdown>\n          </Menu.Item>\n        )}\n       {[1, 2].includes(admin?.roleNumber) && (\n        <Menu.Item>\n          <Dropdown inverted text={t(\"Utilities\")}>\n            <Dropdown.Menu>\n              \n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/wood-price-calculator\" className=\"menuBtn\">\n                    {t(\"Wood Price Calculator\")}\n                  </Link>\n                </Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n        </Menu.Item>\n       )}\n        {[1, 2, 3, 8].includes(admin?.roleNumber) && (\n        <Menu.Item>\n          <Dropdown inverted text={t(\"Assets\")}>\n            <Dropdown.Menu>\n              \n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/vehicles\" className=\"menuBtn\">\n                    {t(\"Vehicles\")}\n                  </Link>\n                </Dropdown.Item>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/properties\" className=\"menuBtn\">\n                    {t(\"properties\")}\n                  </Link>\n                </Dropdown.Item>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/tools\" className=\"menuBtn\">\n                    {t(\"tools\")}\n                  </Link>\n                </Dropdown.Item>\n                <Dropdown.Item>\n                  <Link exact activeClassName=\"active\" to=\"/others\" className=\"menuBtn\">\n                    {t(\"outros\")}\n                  </Link>\n                </Dropdown.Item>\n            </Dropdown.Menu>\n          </Dropdown>\n        </Menu.Item>\n       )}\n        {[1, 2, 8].includes(admin?.roleNumber) && (\n          <Menu.Item>\n            <Select\n              style={{ width: 200 }}\n              options={this.state.organizations}\n              placeholder={t(\"Organization\")}\n              onChange={this.props.onOrganizationChange}\n              allowClear\n              value={this.context}\n            />\n          </Menu.Item>\n        )}\n        <Menu.Item>\n          <Select placeholder=\"locale\" options={localeOptions} onChange={onLocaleChange} defaultValue={locale}></Select>\n        </Menu.Item>\n        <Menu.Item onClick={logout}>{t(\"Logout\")}</Menu.Item>\n      </Menu>\n    );\n  }\n}\n\nexport default withTranslation(\"translation\")(MenuExampleStackable);\n","import React from \"react\";\nimport { Link } from \"@reach/router\";\nimport { Header, Icon } from \"semantic-ui-react\";\n\nconst NotFound = () => (\n  <Header as=\"h2\" icon textAlign=\"center\" style={{ marginTop: 50 }}>\n    <Icon name=\"frown\" circular />\n    <Header.Content>\n      <div>404 Not Found</div>\n      {\"Go to \"}\n      <Link to=\"/\">Home</Link>\n      {\" page\"}\n    </Header.Content>\n  </Header>\n);\n\nexport default NotFound;\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getModels = async (args, organizationId) => {\n  const response = await callWebApi({\n    endpoint: \"/api/models\",\n    type: \"GET\",\n    query: args,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const createModel = async (request, organizationId) => {\n  const response = await callWebApi({\n    endpoint: \"/api/models\",\n    type: \"POST\",\n    request,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const updateModel = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/models/${id}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteModel = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/models/${id}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n","import React, { useState } from \"react\";\nimport { Button, Form, Icon, Modal } from \"semantic-ui-react\";\n\nimport { isTextValid } from \"../../../helpers/validations\";\n\nconst ModelForm = ({ model = {}, brandOptions, submit, addToast, componentName, loadModels }) => {\n  const isEdit = !!model.title;\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [title, setTitle] = useState(model.title);\n  const [isTitleValid, setIsTitleValid] = useState(true);\n  const [description, setDescription] = useState(model.description);\n  const [isDescriptionValid, setIsDescriptionValid] = useState(true);\n  const [brandId, setBrandId] = useState(model.brandId);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleFormSubmit = async () => {\n    const isValid = isDescriptionValid && isTitleValid && brandId !== \"\";\n    if (!isValid || isLoading) {\n      return;\n    }\n    setIsLoading(true);\n    await submit({ title, description, brandId })\n      .then((resp) => {\n        addToast(`Model ${model.title ? \"updated\" : \"created\"} successfully`, {\n          appearance: \"success\",\n        });\n        setTitle(\"\");\n        setDescription(\"\");\n        setBrandId(\"\");\n      })\n      .catch((err) => {\n        addToast(err.message, { appearance: \"error\" });\n      });\n    setIsLoading(false);\n    handleCloseModal();\n  };\n\n  const toggleModalState = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  const handleCloseModal = () => {\n    loadModels();\n    toggleModalState();\n\n    setTitle(\"\");\n    setIsTitleValid(true);\n    setDescription(\"\");\n    setIsDescriptionValid(true);\n    setBrandId(\"\");\n  };\n\n  return (\n    <Modal\n      trigger={\n        <Button onClick={toggleModalState} className={isEdit ? \"table-action-btn\" : \"generic-create-btn\"}>\n          {\" \"}\n          {isEdit ? <Icon name=\"pencil\" /> : <span>{componentName}</span>}\n        </Button>\n      }\n      closeIcon\n      open={isModalOpen}\n      onClose={handleCloseModal}\n    >\n      <Modal.Header>{componentName} a model</Modal.Header>\n      <Modal.Content>\n        <Form name=\"createDepForm\" size=\"large\" onSubmit={handleFormSubmit}>\n          <Form.Input\n            fluid\n            placeholder=\"Titulo\"\n            value={title}\n            error={!isTitleValid}\n            onChange={(ev) => setTitle(ev.target.value)}\n            onBlur={() => setIsTitleValid(isTextValid(title, 3, 0))}\n          />\n          <Form.TextArea\n            fluid\n            placeholder=\"Descrição\"\n            value={description}\n            error={!isDescriptionValid}\n            onChange={(ev) => setDescription(ev.target.value)}\n            onBlur={() => setIsDescriptionValid(isTextValid(description, 5, 0))}\n          />\n          <Form.Select\n            fluid\n            label=\"Brand\"\n            options={brandOptions}\n            placeholder=\"Brand\"\n            // value={model.brand ? model.brand.title : ''}\n            onChange={(e, { value }) => setBrandId(value)}\n          />\n          <Button type=\"submit\" color=\"teal\" fluid size=\"small\" loading={isLoading} primary>\n            Submit\n          </Button>\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nModelForm.defaultProps = {\n  model: {},\n  brandsOptions: [],\n};\n\nexport default ModelForm;\n","import React, {useState} from 'react'\nimport {Button, Icon, Modal} from 'semantic-ui-react'\nimport {deleteModel} from \"../../../services/modelsService\";\n\nconst DeleteModel = ({title, id, addToast, loadModels}) => {\n    const [isModalOpen, setIsModalOpen] = useState(false)\n\n    const removeModel = () => {\n        deleteModel(id)\n            .then(resp => {\n                    addToast(\n                        `Model deleted successfully`,\n                        {appearance: 'success'})\n                }\n            )\n            .catch(err => {\n                if (err.message !== '') {\n                    addToast('Could not delete model: ' + err.message, {appearance: 'error'})\n                } else {\n                    addToast('Something went wrong', {appearance: 'error'})\n                }\n            }).finally(\n            () => {\n                toggleModal();\n                loadModels()\n            }\n        )\n    }\n\n    const toggleModal = () => {\n        setIsModalOpen(!isModalOpen)\n    }\n    return (\n        <Modal\n            trigger={<Button\n                className={'table-action-btn'}\n                onClick={toggleModal}>\n                <Icon name='trash'/>\n            </Button>}\n            open={isModalOpen}\n            onClose={toggleModal}\n            closeIcon\n        >\n            <Modal.Header>Delete a model</Modal.Header>\n            <Modal.Content>\n                <h4>Are you sure you want to delete model {`\"${title}\"`}?</h4>\n                <Button color='red' inverted onClick={removeModel}>\n                    <Icon name='remove'/> Delete\n                </Button>\n                <Button color='blue' inverted onClick={toggleModal}>\n                    <Icon name='checkmark'/> Cancel\n                </Button>\n            </Modal.Content>\n        </Modal>)\n\n\n}\n\nexport default DeleteModel;\n","import React, { Component } from \"react\";\nimport { Icon, Menu, Pagination, Table } from \"semantic-ui-react\";\nimport ModelForm from \"../ModelForm\";\nimport { createPageNavigation } from \"../../../helpers/pagination\";\nimport { updateModel } from \"../../../services/modelsService\";\nimport DeleteModel from \"../DeleteModel\";\n\nclass ModelsList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.createModelRow = this.createModelRow.bind(this);\n    this.handlePaginationClick = this.handlePaginationClick.bind(this);\n  }\n\n  createModelRow = (model) => {\n    return (\n      <Table.Row key={model._id}>\n        <Table.Cell>\n          <ModelForm\n            model={model}\n            componentName={\"Edit\"}\n            addToast={this.props.addToast}\n            brandOptions={this.props.brandOptions}\n            loadModels={this.props.loadModels}\n            submit={(req) => updateModel(model._id, req)}\n          />\n        </Table.Cell>\n        <Table.Cell>\n          <DeleteModel\n            addToast={this.props.addToast}\n            id={model._id}\n            title={model.title}\n            loadModels={this.props.loadModels}\n          />\n        </Table.Cell>\n        <Table.Cell>{model._id}</Table.Cell>\n        <Table.Cell>{model.brand.title}</Table.Cell>\n        <Table.Cell>{model.title}</Table.Cell>\n        <Table.Cell>{model.description}</Table.Cell>\n      </Table.Row>\n    );\n  };\n\n  handlePaginationClick = (page) => {\n    this.props.updatePageFilter({ page: page });\n  };\n\n  render() {\n    const { pages, onPageChange, filters } = this.props;\n    return (\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell colspan={2} rowspan={2}>\n              Actions\n            </Table.HeaderCell>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>Brand</Table.HeaderCell>\n            <Table.HeaderCell>Titulo</Table.HeaderCell>\n            <Table.HeaderCell>Descrição</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {this.props.models.map((model) => this.createModelRow(model))}\n        </Table.Body>\n\n        <Table.Footer>\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n              <Pagination\n                activePage={filters.currentPage}\n                totalPages={pages}\n                onPageChange={onPageChange}\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n    );\n  }\n}\n\nexport default ModelsList;\n","import React from \"react\";\nimport { createModel } from \"../../services/modelsService\";\nimport ModelForm from \"../../components/ModelsComponents/ModelForm\";\nimport ModelsList from \"../../components/ModelsComponents/ModelsList\";\nimport { Input } from \"semantic-ui-react\";\nimport useList from \"src/helpers/useList\";\nimport { useContext } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport { useAPI } from \"src/helpers/useFetch\";\n\nconst searchFields = \"*\";\n\nfunction useBrands() {\n  return useAPI(\"/api/brands?showAll=true\", searchFields);\n}\nfunction useModels() {\n  return useList(\"/api/models\", searchFields);\n}\n\nfunction ModelsPage(props) {\n  const [models, { total, pages }, search, goto, sort, filters, modelsStatus, refresh] = useModels();\n  const [{ data: brands } = { data: [] }, , , , , , brandsStatus, ,] = useBrands();\n  const organizationId = useContext(OrganizationContext);\n\n  const handleSearch = (event) => {\n    search(event.target.value);\n  };\n\n  const clearSearch = () => {\n    search(\"\");\n  };\n\n  const handlePageChange = (_, d) => {\n    goto(d.activePage);\n  };\n\n  const brandsOptions = brands.map(({ _id, title }) => ({\n    text: title,\n    value: _id,\n  }));\n\n  return (\n    <div className=\"container\">\n      <h2>Models</h2>\n      <ModelForm\n        componentName={\"Create\"}\n        brandOptions={brandsOptions}\n        addToast={props.addToast}\n        loadModels={refresh}\n        submit={(req) => createModel(req, organizationId)}\n      />\n      <div>\n        <span>Total models: {total}</span>\n        <div class=\"ui action input\" style={{ marginLeft: 16 }}>\n          <Input type=\"text\" placeholder=\"Search...\" onChange={handleSearch} value={filters.searchText} />\n          <button class=\"ui icon button\" onClick={clearSearch}>\n            <i class=\"delete icon\"></i>\n          </button>\n        </div>\n      </div>\n      <ModelsList\n        addToast={props.addToast}\n        brandOptions={brandsOptions}\n        models={models}\n        loadModels={refresh}\n        onPageChange={handlePageChange}\n        pages={pages}\n        filters={filters}\n      />\n    </div>\n  );\n}\n\nexport default ModelsPage;\n","import { CarouselProvider, Dot, Slide, Slider } from \"pure-react-carousel\";\nimport { Button, Card, Container, Icon, Image, Modal } from \"semantic-ui-react\";\nimport React, { useState } from \"react\";\n\nimport { deleteProductImage } from \"../../../services/productService\";\n\nconst removeProductImage = (addToast, prodId, imageId, toggleModal) => {\n  deleteProductImage(prodId, imageId)\n    .then((resp) => {\n      window.location.reload(false);\n      addToast(`Image deleted successfully`, { appearance: \"success\" });\n    })\n    .catch((err) => {\n      if (err.message !== \"\") {\n        addToast(\"Could not delete product image: \" + err.message, {\n          appearance: \"error\",\n        });\n      } else {\n        addToast(\"Something went wrong\", { appearance: \"error\" });\n      }\n    })\n    .finally(() => toggleModal());\n};\n\n// const editProductImageComment = (prodId, imageId, comment, addToast, toggleModal) => {\n//     updateProductImage(prodId, imageId, {comment})\n//         .then(resp => {\n//                 window.location.reload(false);\n//                 addToast(\n//                     `Image deleted successfully`,\n//                     {appearance: 'success'})\n//             }\n//         )\n//         .catch(err => {\n//             if (err.message !== '') {\n//                 addToast('Could not update product image: ' + err.message, {appearance: 'error'})\n//             } else {\n//                 addToast('Something went wrong', {appearance: 'error'})\n//             }\n//         }).finally(\n//         () => toggleModal()\n//     )\n// }\n\nconst CustomCardSlide = ({ index, image, productId, header, addToast }) => {\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  // const [isEditModalOpen, setIsEditModalOpen] = useState(false)\n  // const [comment, setComment] = useState(image.comment)\n\n  const toggleDeleteModal = () => setIsDeleteModalOpen(!isDeleteModalOpen);\n  // const toggleEditModal = () => setIsEditModalOpen(!isEditModalOpen)\n  return (\n    <Slide index={index}>\n      <div>\n        <Card centered color=\"grey\">\n          <Card.Content>\n            <Modal\n              trigger={\n                <Button\n                  icon=\"delete\"\n                  style={{ position: \"float\", float: \"right\" }}\n                  color=\"orange\"\n                  onClick={toggleDeleteModal}\n                ></Button>\n              }\n              open={isDeleteModalOpen}\n              onClose={toggleDeleteModal}\n              closeIcon\n            >\n              <Modal.Header>Delete a model</Modal.Header>\n              <Modal.Content>\n                <h4>Are you sure you want to delete this image?</h4>\n                <Button\n                  color=\"red\"\n                  inverted\n                  onClick={() => removeProductImage(addToast, productId, image._id, toggleDeleteModal)}\n                >\n                  <Icon name=\"remove\" /> Delete\n                </Button>\n                <Button color=\"blue\" inverted onClick={toggleDeleteModal}>\n                  <Icon name=\"checkmark\" /> Cancel\n                </Button>\n              </Modal.Content>\n            </Modal>\n            {/* <Modal\n                            trigger={<Button icon='edit'\n                                             style={{position: 'float', float: 'right'}}\n                                             color='blue'\n                                             onClick={toggleEditModal}\n                            >\n                            </Button>}\n                            open={isEditModalOpen}\n                            onClose={toggleEditModal}\n                            closeIcon\n                        >\n                            <Modal.Header>Edit image comment</Modal.Header>\n                            <Modal.Content>\n                                <Form name=\"updateCommentForm\"  onSubmit={() => editProductImageComment(\n                                    productId, image._id, comment, addToast, toggleEditModal)}>\n                                    <Form.TextArea\n                                        fluid\n                                        placeholder=\"Name\"\n                                        value={comment}\n                                        onChange={ev => setName(ev.target.value)}\n                                    />\n\n\n                                    <br/>\n\n                                    <Button type='submit' color='blue'>\n                                        <Icon name='edit outline'/> Save changes\n                                    </Button>\n\n                                    <Button color='blue' onClick={toggleEditModal}>\n                                        <Icon name='checkmark'/> Cancel\n                                    </Button>\n                                </Form>\n                            </Modal.Content>\n                        </Modal>*/}\n          </Card.Content>\n          <Image src={image.link} verticalAlign=\"middle\" centered size=\"small\" />\n          <Card.Content>\n            {header}\n            <br />\n          </Card.Content>\n        </Card>\n      </div>\n    </Slide>\n  );\n};\n\nconst CustomDotGroup = ({ slides, size }) => (\n  <Container textAlign=\"center\">\n    <Button.Group size={size}>\n      {[...Array(slides).keys()].map((slide) => (\n        <Button as={Dot} key={slide} icon=\"circle\" slide={slide} />\n      ))}\n    </Button.Group>\n  </Container>\n);\n\nCustomDotGroup.defaultProps = {\n  size: \"mini\",\n};\n\nconst CardCarousel = ({ productId, images, addToast }) => {\n  if (images.length === 0) {\n    return <></>;\n  }\n\n  return (\n    <CarouselProvider naturalSlideWidth={1} naturalSlideHeight={1.25} totalSlides={images.length} style={{ width: \"55%\" }}>\n      <Slider>\n        {images.map((image) => (\n          <CustomCardSlide\n            key={image._id}\n            addToast={addToast}\n            image={image}\n            productId={productId}\n            index={0}\n            header={image.comment || \"-\"}\n            // meta=\"Friend\"\n          />\n        ))}\n      </Slider>\n\n      <CustomDotGroup slides={images.length} />\n    </CarouselProvider>\n  );\n};\n\nCardCarousel.defaultProps = {\n  images: [],\n};\nexport default CardCarousel;\n","import React, { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Button, Icon } from \"semantic-ui-react\";\n\nconst UploadFile = ({ uploadHandler }) => {\n  const { t } = useTranslation(\"translation\");\n  const [file, setFile] = useState(undefined);\n\n  const fileChangedHandler = (event) => {\n    setFile(event.target.files[0]);\n  };\n\n  return (\n    <div>\n      <input type=\"file\" onChange={fileChangedHandler} />\n      <Button onClick={() => uploadHandler(file)} color=\"blue\" inverted>\n        <Icon name=\"checkmark\" /> {t(\"Upload\")}\n      </Button>\n    </div>\n  );\n};\n\nexport default UploadFile;\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getProductImages = async id => {\n    const response = await callWebApi({\n        endpoint: `/api/products/${id}/images`,\n        type: 'GET',\n    });\n    return response.json();\n};\nexport const createProductImage = async (id, file) => {\n    const response = await callWebApi({\n        endpoint: `/api/products/${id}/images`,\n        type: 'POST',\n        attachment: file,\n    });\n    return response.json();\n};\n","import React from \"react\";\nimport { Button, Modal } from \"antd\";\nimport QRCode from \"qrcode.react\";\nimport { useState } from \"react\";\nimport { Button as SButton } from \"semantic-ui-react\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction QRModal({ fileName, className, style }) {\n  const [shouldShow, setShouldShow] = useState(false);\n  const { t } = useTranslation(\"translation\");\n\n  const show = () => setShouldShow(true);\n  const hide = () => setShouldShow(false);\n\n  const downloadQR = () => {\n    const canvas = document.getElementById(\"qr-canvas\");\n    const pngUrl = canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\n    let downloadLink = document.createElement(\"a\");\n    downloadLink.href = pngUrl;\n    downloadLink.download = `${fileName}.png`;\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n  };\n\n  return (\n    <>\n      <SButton className={className} style={style} primary onClick={show}>\n        {t(\"Show QR\")}\n      </SButton>\n      {shouldShow && (\n        <Modal visible onCancel={hide} width={300} footer={null}>\n          <QRCode id=\"qr-canvas\" value={window.location.href} size={256} includeMargin={true} />\n          <Button onClick={downloadQR} type=\"primary\" block>\n            Download\n          </Button>\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport default QRModal;\n","import { nf } from \"src/helpers\";\nimport { CUBIC_METER, LINEAR_METER, SQUARE_METER, UNIT } from \"../../DimensionFields/constants\";\n\nfunction MeasurementValueDisplay({ type, value }) {\n  switch (type) {\n    case UNIT:\n      return \"\";\n    case LINEAR_METER:\n      return `${__(\"Meters\")}: ${nf(value[0])}`;\n\n    case SQUARE_METER:\n      return `${__(\"Width\")}: ${nf(value[0])}, ${__(\"Length\")}: ${nf(value[1])}`;\n    case CUBIC_METER:\n      return `${__(\"Width\")}: ${nf(value[0])}, ${__(\"Length\")}: ${nf(value[1])}, ${__(\"Height\")}: ${nf(value[2])}`;\n\n    default:\n      return value;\n  }\n}\n\nexport default MeasurementValueDisplay;\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgToorder(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    viewBox: \"0 0 490.996 490.996\",\n    width: \"1em\",\n    height: \"1em\",\n    fill: \"currentColor\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M484.058,112.28c-7.247-10.404-19.144-16.614-31.816-16.614h-94.624c13.291,2.775,24.603,11.714,29.943,24.615 c1.063,2.569,1.761,5.212,2.283,7.869h62.396c2.063,0,3.997,1.015,5.155,2.67c1.175,1.698,1.444,3.862,0.73,5.791 l-44.992,121.107c-0.905,2.451-3.267,4.102-5.887,4.102H154.939L114.734,90.314c-5.01-21.286-23.772-36.153-45.631-36.153H24.361 C10.912,54.161,0,65.065,0,78.522s10.912,24.362,24.361,24.362h43.286l54.131,230.919c4.914,20.864,23.058,35.479,44.36,36.042 c-12.532,9.103-20.764,23.765-20.764,40.436c0,27.662,22.429,50.078,50.09,50.078c27.662,0,50.072-22.416,50.072-50.078 c0-16.605-8.17-31.212-20.623-40.326h93.421c-12.454,9.114-20.634,23.721-20.634,40.326c0,27.662,22.428,50.078,50.083,50.078 c27.646,0,50.072-22.416,50.072-50.078c0-16.605-8.187-31.212-20.634-40.326h22.714c13.448,0,24.361-10.901,24.361-24.361 c0-13.457-10.913-24.361-24.361-24.361h-231.07l-6.313-26.931h244.693c16.113,0,30.703-10.143,36.338-25.256l44.994-121.118 C492.986,136.046,491.305,122.732,484.058,112.28z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M275.701,209.63c1.776,1.785,4.109,2.673,6.437,2.673c2.334,0,4.667-0.888,6.426-2.673l67.007-66.987 c2.621-2.609,3.396-6.525,1.986-9.935c-0.923-2.221-3.986-5.64-8.422-5.64c-6.472,0-25.886,0-25.886,0V95.665v-55.89 c-0.017-5.035-4.094-9.137-9.138-9.137h-63.964c-5.044,0-9.12,4.102-9.12,9.12v55.908v31.412c0,0-19.408,0-25.878,0 c-4.144,0-7.473,3.332-8.424,5.622c-1.41,3.41-0.635,7.334,1.962,9.943L275.701,209.63z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgToorder);\nexport default __webpack_public_path__ + \"static/media/toorder.290cbb78.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { getProduct } from \"../../../services/productService\";\nimport { Button, Icon, Modal, Table } from \"semantic-ui-react\";\nimport CardCarousel from \"../ProductImagesSlider\";\nimport \"pure-react-carousel/dist/react-carousel.es.css\";\nimport \"./styles.css\";\nimport UploadFile from \"../../FileUpload\";\nimport { createProductImage } from \"../../../services/productImagesService\";\nimport { formatNumber } from \"../../../helpers/formatters\";\nimport moment from \"moment\";\nimport currencyFormatter from \"../../../helpers/currencyFormatter\";\nimport QRModal from \"src/components/QRModal\";\nimport { withTranslation } from \"react-i18next\";\nimport { MEASUREMENT_TYPES } from \"src/components/DimensionFields/constants\";\nimport MeasurementValueDisplay from \"./MeasurementValueDisplay\";\nimport { nf } from \"src/helpers\";\nclass ProductViewPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      product: {\n        stats: {\n          openOrders: {},\n          quotations: {},\n          closed: {},\n          partial: {},\n        },\n      },\n      images: [],\n    };\n  }\n\n  componentDidMount() {\n    const { t } = this.props;\n\n    getProduct(this.props.id)\n      .then((resp) => this.setState({ product: resp, loading: false }, () => console.log(this.state)))\n      .catch((err) => this.props.addToast(t(\"Could not fetch\") + \" \" + t(\"product\"), { appearance: \"error\" }));\n  }\n\n  prepareProdDescriptionTableBody = (product) => {\n    const { t } = this.props;\n    return (\n      <Table.Body>\n        <Table.Row>\n          <Table.Cell>{t(\"ID\")}</Table.Cell>\n          <Table.Cell>{product._id}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Title\")}</Table.Cell>\n          <Table.Cell>{product.title}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"BCode\")}</Table.Cell>\n          <Table.Cell>{product.ISBN}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Cost\")}</Table.Cell>\n          <Table.Cell>{currencyFormatter.format(product.cost)}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Price\")}</Table.Cell>\n          <Table.Cell>{currencyFormatter.format(product.price)}</Table.Cell>\n        </Table.Row>\n        {!!product.kitItems?.length && (\n          <Table.Row>\n            <Table.Cell>{t(\"Items\")}</Table.Cell>\n            <Table.Cell>{product.kitItems.map(({ title }) => title).join(\",\")}</Table.Cell>\n          </Table.Row>\n        )}\n\n        <Table.Row>\n          <Table.Cell>{t(\"Metric\")}</Table.Cell>\n          <Table.Cell>{MEASUREMENT_TYPES.find(({ value }) => product.measurementType === value)?.label}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Dimensions\")}</Table.Cell>\n          <Table.Cell>\n            <MeasurementValueDisplay type={product.measurementType} value={product.measurementValue} />\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Total Units\")}</Table.Cell>\n          <Table.Cell>{nf(product.totalUnits)}</Table.Cell>\n        </Table.Row>\n\n        <Table.Row>\n          <Table.Cell>{t(\"Category\")}</Table.Cell>\n          <Table.Cell>{product.category ? product.category.title : \"\"}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Department\")}</Table.Cell>\n          <Table.Cell>{product.department ? product.department.title : \"\"}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Model\")}</Table.Cell>\n          <Table.Cell>{product.model ? product.model.title : \"\"}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Subcategory\")}</Table.Cell>\n          <Table.Cell>{product.subcategory ? product.subcategory.title : \"\"}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Brand\")}</Table.Cell>\n          <Table.Cell>{product.brand ? product.brand.title : \"\"}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Provider\")}</Table.Cell>\n          <Table.Cell>{product.provider ? product.provider.name : \"\"}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Created At\")}</Table.Cell>\n          <Table.Cell>{moment(product.createdAt * 1000).format(\"DD/MM/YYYY\")}</Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Comment\")}</Table.Cell>\n          <Table.Cell>{product.comment}</Table.Cell>\n        </Table.Row>\n      </Table.Body>\n    );\n  };\n\n  prepareProductStats = (product) => {\n    const { t } = this.props;\n    return (\n      <Table.Body>\n        <Table.Row>\n          <Table.Cell>\n            {t(\"Open\")} {t(\"Orders\")}\n          </Table.Cell>\n          <Table.Cell>\n            {t(\"Total\")} {t(\"Orders\")}: <strong>{this.state.product.stats.openOrders.total}</strong>\n          </Table.Cell>\n          <Table.Cell>\n            {\" \"}\n            {t(\"Total\")} {t(\"Amount\")}: <strong>{this.state.product.stats.openOrders.value}</strong>\n          </Table.Cell>\n\n          <Table.Cell>\n            {t(\"Total Units\")}: <strong>{formatNumber(this.state.product.stats.openOrders.units)}</strong>\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>\n            {t(\"Partial\")} {t(\"Orders\")}\n          </Table.Cell>\n          <Table.Cell>\n            {t(\"Total\")} {t(\"Orders\")}:<strong>{this.state.product.stats.partial.total}</strong>\n          </Table.Cell>\n          <Table.Cell>\n            {t(\"Total Amount\")}: <strong>{this.state.product.stats.partial.value}</strong>\n          </Table.Cell>\n          <Table.Cell>\n            {t(\"Total Units\")}: <strong>{formatNumber(this.state.product.stats.partial.units)}</strong>\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>\n            {t(\"Closed\")} {t(\"Orders\")}\n          </Table.Cell>\n          <Table.Cell>\n            {\" \"}\n            {t(\"Total Orders\")}: <strong>{this.state.product.stats.closed.total}</strong>\n          </Table.Cell>\n          <Table.Cell>\n            {\" \"}\n            {t(\"Total Amount\")}: <strong>{this.state.product.stats.closed.value}</strong>\n          </Table.Cell>\n\n          <Table.Cell>\n            {t(\"Total Units\")}: <strong>{formatNumber(this.state.product.stats.closed.units)}</strong>\n          </Table.Cell>\n        </Table.Row>\n        <Table.Row>\n          <Table.Cell>{t(\"Quotations\")}</Table.Cell>\n          <Table.Cell>\n            {\" \"}\n            {t(\"Total Orders\")}: <strong>{this.state.product.stats.quotations.total}</strong>\n          </Table.Cell>\n          <Table.Cell>\n            {\" \"}\n            {t(\"Total Amount\")}: <strong>{this.state.product.stats.quotations.value}</strong>\n          </Table.Cell>\n\n          <Table.Cell>\n            {t(\"Total Units\")}: <strong>{formatNumber(this.state.product.stats.quotations.units)}</strong>\n          </Table.Cell>\n        </Table.Row>\n      </Table.Body>\n    );\n  };\n\n  toggleModal = () => {\n    this.setState({ modalOpen: !this.state.modalOpen });\n  };\n\n  fileChangedHandler = (event) => {\n    this.setState({ selectedFile: event.target.files[0] });\n  };\n\n  uploadHandler = (file) => {\n    createProductImage(this.props.id, file)\n      .then(this.props.addToast(this.props.t(\"image added\"), { appearance: \"success\" }))\n      .catch(this.props.addToast(this.props.t(\"Something went wrong\")));\n\n    window.location.reload();\n  };\n\n  render() {\n    const { t } = this.props;\n    const { loading } = this.state;\n    if (loading) {\n      return \"loading...\";\n    }\n    return (\n      <div className=\"container\">\n        <div className=\"product-block product-descr\">\n          <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n            <QRModal fileName={this.state.product?._id} />\n          </div>\n          <Table celled striped>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell colSpan=\"3\">\n                  {t(\"Product\")} {t(\"Description\")}\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            {this.prepareProdDescriptionTableBody(this.state.product)}\n            <Table.Footer></Table.Footer>\n          </Table>\n          <Table celled striped>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell colSpan=\"4\">\n                  {t(\"Product\")} {t(\"Stats\")}\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            {this.prepareProductStats(this.state.product)}\n          </Table>\n        </div>\n        <div className=\"product-block product-images\">\n          <CardCarousel\n            images={this.state.product.imageUrls}\n            addToast={this.props.addToast}\n            productId={this.state.product._id}\n          />\n          <Modal\n            trigger={\n              <Button\n                onClick={this.toggleModal}\n                color=\"teal\"\n                style={{ position: \"float\", float: \"center\" }}\n                className={`menuBtn'`}\n              >\n                <Icon name=\"picture\" /> {t(\"Add an image\")}\n              </Button>\n            }\n            open={this.state.modalOpen}\n            onClose={this.toggleModal}\n            closeIcon\n          >\n            <Modal.Header>{t(\"Upload a picture\")}</Modal.Header>\n            <Modal.Content>\n              <UploadFile uploadHandler={this.uploadHandler} />\n            </Modal.Content>\n          </Modal>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation(\"translation\")(ProductViewPage);\n","import callWebApi from \"../helpers/webApiHelper\";\n\nexport const getOrders = async (args) => {\n  const response = await callWebApi({\n    endpoint: \"/api/orders\",\n    type: \"GET\",\n    query: args,\n  });\n  return response.json();\n};\n\nexport const getOrderStatuses = async () => {\n  const response = await callWebApi({\n    endpoint: \"/api/orders/statuses\",\n    type: \"GET\",\n  });\n  return response.json();\n};\nexport const getOrderStats = async (args) => {\n  const response = await callWebApi({\n    endpoint: \"/api/orders-stats\",\n    type: \"GET\",\n    query: args,\n  });\n  return response.json();\n};\nexport const getOrder = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}`,\n    type: \"GET\",\n  });\n  return response.json();\n};\nexport const createOrder = async (request, organizationId) => {\n  const response = await callWebApi({\n    endpoint: \"/api/orders\",\n    type: \"POST\",\n    request,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const updateOrder = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteTransaction = async (id, transactionId) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}/payment/${transactionId}`,\n    type: \"DELETE\",\n  });\n  return response.json();\n};\n\nexport const updateOrderStatus = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/v2/orders/${id}/to-order`,\n    type: \"POST\",\n    request,\n  });\n  return response.json();\n};\n\nexport const updateOrderProcessStatus = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}/process-status`,\n    type: \"POST\",\n    request,\n  });\n  return response.json();\n};\n\nexport const deleteOrder = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}`,\n    type: \"DELETE\",\n    request,\n  });\n  return response.text().then((v) => (v ? JSON.parse(v) : undefined));\n};\n\nexport const uploadProofPayment = async (id, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}/payment-upload`,\n    type: \"POST\",\n    attachment: request,\n  });\n  return response.json();\n};\n\nexport const addOrderPayment = async (id, request, organizationId) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}/payment`,\n    type: \"POST\",\n    request,\n    organizationId,\n  });\n  return response.json();\n};\n\nexport const updateOrderPayment = async (id, transactionId, request) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}/payment/${transactionId}`,\n    type: \"PUT\",\n    request,\n  });\n  return response.json();\n};\n\nexport const getOrderPayments = async (id) => {\n  const response = await callWebApi({\n    endpoint: `/api/orders/${id}/payment`,\n    type: \"GET\",\n  });\n  return response.json();\n};\n","import React, { useState } from \"react\";\nimport { Button, Checkbox, Icon, Modal } from \"semantic-ui-react\";\nimport {\n  deleteOrder,\n  updateOrderProcessStatus,\n} from \"../../../services/orderService\";\n\nconst DeleteOrder = ({ id, addToast, hasPayments, loadOrders }) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const removeOrder = () => {\n    deleteOrder(id, { deleteTrxs: true })\n      .then((resp) => {\n        addToast(`Order deleted successfully`, { appearance: \"success\" });\n      })\n      .catch((err) => {\n        if (err.message !== \"\") {\n          addToast(\"Could not delete order: \" + err.message, {\n            appearance: \"error\",\n          });\n        } else {\n          addToast(\"Something went wrong\", { appearance: \"error\" });\n        }\n      })\n      .finally(() => {\n        toggleModal();\n        loadOrders();\n      });\n  };\n\n  const toggleModal = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n  return (\n    <Modal\n      trigger={\n        <Button\n          onClick={toggleModal}\n          icon=\"trash alternate\"\n          negative\n          basic\n          size=\"mini\"\n          style={{ height: 32 }}\n        ></Button>\n      }\n      open={isModalOpen}\n      onClose={toggleModal}\n      closeIcon\n    >\n      <Modal.Header>Delete Order</Modal.Header>\n      <Modal.Content>\n        <h4>Are you sure you want to delete an order with id {`\"${id}\"`}?</h4>\n\n        <div style={{ textAlign: \"right\", paddingTop: 16 }}>\n          <Button onClick={toggleModal}>Close</Button>\n          <Button color=\"red\" onClick={removeOrder}>\n            <Icon name=\"trash\" /> Delete\n          </Button>\n        </div>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nexport default DeleteOrder;\n","import React, { useEffect, useState } from \"react\";\nimport { Button, Modal } from \"semantic-ui-react\";\nimport { updateOrderStatus } from \"../../../services/orderService\";\nimport { ReactComponent as ToOrderIcon } from \"../../../components/icons/toorder.svg\";\nimport { useQuotationToOrder } from \"src/hooks\";\nimport { Alert } from \"antd\";\nimport { useTranslation } from \"react-i18next\";\n\nconst UpdateQuotation = ({ id, addToast, loadOrders }) => {\n  const { t } = useTranslation(\"translation\");\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const { convert, status } = useQuotationToOrder(id);\n\n  const removeOrder = () => {\n    convert(id);\n  };\n\n  const toggleModal = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  useEffect(() => {\n    if (status.isSuccess) {\n      addToast(t(\"Converted to order successfully!\"), { appearance: \"success\" });\n      toggleModal();\n      loadOrders();\n    }\n  }, [status]);\n\n  return (\n    <Modal\n      trigger={\n        <Button onClick={toggleModal} className=\"table-action-btn\" style={{ fontSize: \"1.3em\", color: \"teal\" }}>\n          <ToOrderIcon />\n        </Button>\n      }\n      style={{ width: 500 }}\n      open={isModalOpen}\n      onClose={toggleModal}\n      closeIcon\n    >\n      <Modal.Header>{t(\"Convert this order into open order ?\")}</Modal.Header>\n      <Modal.Content>\n        <div style={{ textAlign: \"right\", marginBottom: 16 }}>\n          <Button onClick={toggleModal}>{t(\"No\")}</Button>\n          <Button primary onClick={removeOrder}>\n            {t(\"Yes\")}\n          </Button>\n        </div>\n        {status.isError && <Alert type=\"error\" message={t(\"Not enough stock\") + `: ${status.message}`}></Alert>}\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nexport default UpdateQuotation;\n","import { getDepartments } from \"../services/departmentsService\";\nimport { getCategories } from \"../services/categoriesService\";\nimport { getBrands } from \"../services/brandsService\";\nimport { getModels } from \"../services/modelsService\";\nimport { getSubcategories } from \"../services/subcategoriesService\";\nimport { getClients } from \"../services/clientService\";\nimport { getProducts } from \"../services/productService\";\nimport { getAdminRoles } from \"../services/adminService\";\nimport { getOrganizations } from \"../services/organizationsService\";\n\nexport const staticFormOptions = {\n  unitOptions: [\n    { key: \"unit\", text: \"Unit\", value: \"unit\" },\n    { key: \"size\", text: \"Size\", value: \"size\" },\n    // {key: 'w', text: 'Weight', value: 'w'},\n    // {key: 's', text: 'Size', value: 's'},\n  ],\n  volumeOptions: [\n    { key: \"l\", text: \"Liter\", value: 1 },\n    { key: \"m\", text: \"Milliliter\", value: 2 },\n    { key: \"o\", text: \"Ounce\", value: 3 },\n    { key: \"g\", text: \"Gallon\", value: 4 },\n    { key: \"b\", text: \"Barrel\", value: 5 },\n  ],\n  sizeOptions: [\n    { key: \"ml\", text: \"Millimeter\", value: 1 },\n    { key: \"cm\", text: \"Centimeter\", value: 2 },\n    { key: \"m\", text: \"Meter\", value: 3 },\n    { key: \"sm\", text: \"SquareMeter\", value: 4 },\n    { key: \"cbm\", text: \"CubicMeter\", value: 5 },\n    { key: \"in\", text: \"Inch\", value: 6 },\n    { key: \"ft\", text: \"Foot\", value: 7 },\n  ],\n  sizev2Options: [\n    { key: \"linear\", text: \"linear\", value: 1 },\n    { key: \"sqmeter\", text: \"sq. meter\", value: 2 },\n    { key: \"cubicmeter\", text: \"cubic meter\", value: 3 },\n  ],\n  weightOptions: [\n    { key: \"mg\", text: \"Milligram\", value: 1 },\n    { key: \"g\", text: \"Gram\", value: 2 },\n    { key: \"kg\", text: \"Kilogram\", value: 3 },\n    { key: \"tn\", text: \"Tonne\", value: 4 },\n  ],\n  paymentOptions: [\n    { key: \"cash\", text: \"Dinheiro\", value: 1 },\n    { key: \"debit\", text: \"Debito\", value: 2 },\n    { key: \"credit\", text: \"Credito\", value: 3 },\n    { key: \"check\", text: \"Cheque\", value: 4 },\n    { key: \"bc\", text: \"Bitcoins\", value: 5 },\n    { key: \"dep\", text: \"Depositos\", value: 6 },\n    { key: \"tr\", text: \"Transferencia\", value: 7 },\n    { key: \"other\", text: \"other\", value: 8 },\n  ],\n  statusOptions: [\n    { key: 0, text: \"All\", value: null },\n    { key: 1, text: \"Open\", value: 1 },\n    { key: 2, text: \"Partial\", value: 2 },\n    { key: 3, text: \"Closed\", value: 3 },\n    { key: 4, text: \"Quotation\", value: 4 },\n  ],\n};\nexport const preparedepartmentsOptions = (addToast) => {\n  const options = [];\n  getDepartments({ showAll: true })\n    .then((resp) =>\n      resp.data.map((dep) =>\n        options.push({\n          text: dep.title,\n          value: dep._id,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch departments\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareCategoriesOptions = (addToast) => {\n  const options = [];\n  getCategories({ showAll: true })\n    .then((resp) =>\n      resp.data.map((cat) =>\n        options.push({\n          text: cat.title,\n          value: cat._id,\n          departmentId: cat.departmentId,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch categories\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareModelsOptions = (addToast) => {\n  const options = [];\n  getModels({ showAll: true })\n    .then((resp) =>\n      resp.data.map((mod) =>\n        options.push({\n          text: mod.title,\n          value: mod._id,\n          brandId: mod.brandId,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch models\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareBrandsOptions = (addToast) => {\n  const options = [];\n  getBrands({ showAll: true })\n    .then((resp) =>\n      resp.data.map((brand) =>\n        options.push({\n          text: brand.title,\n          value: brand._id,\n          departmentId: brand.departmentId,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch brands\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareSubcategoriesOptions = (addToast) => {\n  const options = [];\n  getSubcategories({ showAll: true })\n    .then((resp) =>\n      resp.data.map((cat) =>\n        options.push({\n          text: cat.title,\n          value: cat._id,\n          categoryId: cat.categoryId,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch subcategories\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareClientsOptions = (addToast) => {\n  const options = [];\n  getClients({ showAll: true })\n    .then((resp) =>\n      resp.data.map((client) =>\n        options.push({\n          text: client.firstName + \" \" + client.lastName,\n          value: client.id,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch clients\", { appearance: \"error\" }));\n  return options;\n};\nexport const prepareRolesOptions = (addToast) => {\n  const options = [];\n  getAdminRoles({ showAll: true })\n    .then((resp) =>\n      resp.data.map((role) =>\n        options.push({\n          text: role.name,\n          value: role.roleNumber,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch admin roles\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareOrganizationsOptions = (addToast) => {\n  const options = [];\n  getOrganizations({ showAll: true })\n    .then((resp) =>\n      resp.data.map((org) => {\n        const branches = org.branches\n          ? org.branches.map((branch) => ({\n              text: branch.title,\n              value: branch._id,\n            }))\n          : [];\n        console.log(\"branches\", branches);\n        return options.push({\n          text: org.title,\n          value: org._id,\n          branches: branches,\n        });\n      })\n    )\n    .catch((err) => addToast(\"Could not fetch organizations\" + err, { appearance: \"error\" }));\n  console.log(options);\n  return options;\n};\n\nexport const prepareProductsOptions = (addToast) => {\n  const options = [];\n  getProducts({ showAll: true })\n    .then((resp) =>\n      resp.data.map((prod) =>\n        options.push({\n          text: prod.title,\n          value: prod._id,\n          price: prod.price || 0,\n        })\n      )\n    )\n    .catch((err) => addToast(\"Could not fetch products/services\", { appearance: \"error\" }));\n  return options;\n};\n\nexport const prepareOptions = (addToast) => {\n  return {\n    categoriesOptions: prepareCategoriesOptions(addToast),\n    brandsOptions: prepareBrandsOptions(addToast),\n    modelsOptions: prepareModelsOptions(addToast),\n    subcategoriesOptions: prepareSubcategoriesOptions(addToast),\n    departmentsOptions: preparedepartmentsOptions(addToast),\n  };\n};\n","import React, { useState } from \"react\";\nimport { Button, Form, Icon, Label, Modal } from \"semantic-ui-react\";\nimport { staticFormOptions } from \"../../../helpers/options\";\nimport { addOrderPayment, updateOrderPayment, uploadProofPayment } from \"../../../services/orderService\";\nimport currencyFormatterPrefix from \"../../../helpers/currencyFormatterPrefix\";\nimport { useNewCheques } from \"src/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { cfw, roundw } from \"src/helpers\";\n\nconst AddOrderPaymentModal = ({ order, loadOrders, addToast, onClose, afterSave, initialValues }) => {\n  const { t } = useTranslation(\"translation\");\n  const [paymentType, setPaymentType] = useState(initialValues?.method);\n  const [paymentAmount, setPaymentAmount] = useState(initialValues?.amount);\n  const [proofPaymentUrl, setProofPaymentUrl] = useState(initialValues?.fileLink);\n\n  const [isFileUploading, setIsFileUploading] = useState(false);\n  const [isPaymentAmountValid, setIsPaymentAmountValid] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [chequeId, setChequeId] = useState(initialValues?.chequeId);\n\n  const [cheques] = useNewCheques(order?.organizationId);\n\n  const isAmountValid = (amount, total) => {\n    return amount > 0 && amount <= total;\n  };\n\n // const noPaymentSince30days = (order) => {\n //   const lastTransactionOn = (order.transactions || []).sort((a, b) => b.createdAt - a.createdAt)[0]?.createdAt;\n //   const lastPaymentOn = lastTransactionOn || order.createdAt;\n //   return [1, 2].includes(order.status) && Date.now() - lastPaymentOn * 1000 > _30Days;\n//  };\n\n  const letfToPay = cfw(order.totalCost - order.totalPaid);\n  const juros = 0.03;\n  const latefees = cfw(order.totalCost*juros - order.totalPaid*juros);\n  \n  const chequeOptions = cheques.map(({ no, destinationBank, amount, _id }) => ({\n    text: `${no} - ${destinationBank} - (${currencyFormatterPrefix.format(amount)})`,\n    value: _id,\n  }));\n\n  if (initialValues?.cheque) {\n    chequeOptions.push({\n      text: `${initialValues.cheque.no} (${currencyFormatterPrefix.format(initialValues.cheque.amount)})`,\n      value: initialValues.cheque._id,\n    });\n  }\n\n  const handleFileSelect = (event) => {\n    const file = event.target.files[0];\n\n    setIsFileUploading(true);\n    uploadProofPayment(order._id, file)\n      .then((res) => {\n        setProofPaymentUrl(res.message);\n      })\n      .catch((err) => {\n        addToast(t(\"failed to upload proof of payment\"), { appearance: \"error\" });\n      })\n      .finally(() => {\n        setIsFileUploading(false);\n      });\n  };\n\n  const submitOrderPayment = async () => {\n    const amount = +paymentAmount;\n    if (!isPaymentAmountValid || paymentType <= 0 || amount === 0) {\n      return;\n    }\n    const payload = {\n      method: paymentType,\n      amount: +paymentAmount,\n      fileLink: proofPaymentUrl,\n      chequeId: chequeId,\n      orderId: order._id,\n    };\n    setIsLoading(true);\n    await (initialValues?._id\n      ? updateOrderPayment(order._id, initialValues._id, payload)\n      : addOrderPayment(order._id, payload, order.organizationId)\n    )\n      .then((resp) => {\n        if (initialValues?._id) {\n          addToast(t(\"transaction\") + \" \" + t(\"changed successfully\"), {\n            appearance: \"success\",\n          });\n        } else {\n          addToast(t(\"Payment added\"), { appearance: \"success\" });\n        }\n        afterSave();\n      })\n      .catch((err) => {\n        setError(\"err.error\");\n      });\n\n    setIsLoading(false);\n    loadOrders();\n  };\n\n  return (\n    <Modal open onClose={onClose} style={{ minWidth: \"auto\" }} closeIcon>\n      <Modal.Header>{t(\"Add payment\")}</Modal.Header>\n      <Modal.Content>\n        <span>\n          <strong>{t(\"Total Cost\")}:</strong> <b>{cfw(order.totalCost)}</b>\n        </span>\n        <br />\n        <span>\n          <strong>{t(\"Total Paid\")}:</strong> {cfw(order.totalPaid)}\n        </span>\n        <br />\n        <span>\n          <strong>{t(\"Left to pay\")}:</strong> {letfToPay}\n        </span>\n        <br />\n        <span>\n          <strong>{t(\"Rates\")}:</strong> {latefees}\n        </span>\n        <br />\n        <br />\n\n        <Form firstName=\"createAdminForm\" size=\"large\" onSubmit={submitOrderPayment}>\n          <Form.Group widths=\"equal\">\n            <Form.Input\n              fluid\n              placeholder={letfToPay}\n              label={t(\"Amount\") + \" \" +  letfToPay}\n              type=\"number\"\n              step={0.01}\n              defaultValue={letfToPay}\n              value={paymentAmount}\n              error={\n                !isPaymentAmountValid && {\n                  content: `${t(\"Enter amount between 0,1 and\")} ${\n                    initialValues?._id ? cfw(order.totalCost) :letfToPay\n                  }`,\n                  pointing: \"above\",\n                }\n              }\n              // error={!isPaymentAmountValid}\n              message={\"sdvf\"}\n              onChange={(ev) => setPaymentAmount(ev.target.value)}\n              onBlur={() =>\n                setIsPaymentAmountValid(\n                  isAmountValid(\n                    paymentAmount,\n                    initialValues?._id ? roundw(order.totalCost) : roundw(order.totalCost - order.totalPaid)\n                  )\n                )\n              }\n            />\n            <Form.Input\n              fluid\n              placeholder={latefees}\n              label={t(\"Rates\") + \" \" +  latefees}\n              type=\"number\"\n              step={0.01}\n              defaultValue={latefees}\n              value={latefees}\n              \n            />\n\n            <Form.Select\n              fluid\n              label={t(\"Payment Type\")}\n              options={staticFormOptions.paymentOptions}\n              defaultValue={paymentType}\n              placeholder={t(\"Payment Type\")}\n              onChange={(e, { value }) => setPaymentType(value)}\n              required\n            />\n            <Form.Select\n              fluid\n              label={t(\"Cheque\")}\n              options={chequeOptions}\n              onChange={(e, { value }) => setChequeId(value)}\n              required={paymentType === 4}\n              disabled={paymentType !== 4}\n              defaultValue={chequeId}\n              search\n            ></Form.Select>\n            {proofPaymentUrl ? (\n              <div className=\"field\" style={{ alignSelf: \"center\", paddingTop: 16 }}>\n                <a target=\"_blank\" href={`/assets/${proofPaymentUrl}`} style={{ marginRight: 16 }}>\n                  {proofPaymentUrl}\n                </a>\n                <Button icon=\"delete\" onClick={() => setProofPaymentUrl(undefined)}></Button>\n              </div>\n            ) : (\n              <Form.Input\n                style={{ width: \"200px\" }}\n                name=\"file\"\n                label={t(\"Proof of payment\")}\n                type=\"file\"\n                accept=\".jpg, .jpeg, .pdf, .png\"\n                onChange={handleFileSelect}\n              />\n            )}\n          </Form.Group>\n          <Form.Group>{error && <Label color=\"red\">{error}</Label>}</Form.Group>\n\n          <div style={{ textAlign: \"right\" }}>\n            <Button type=\"button\" onClick={onClose}>\n              {t(\"Cancel\")}\n            </Button>\n            <Button type=\"submit\" loading={isLoading} primary disabled={isFileUploading}>\n              {t(\"Submit\")}\n            </Button>\n          </div>\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nexport default AddOrderPaymentModal;\n","import React, { useState } from \"react\";\n\nimport { Icon, Button, Confirm, Dropdown, Modal, Form, Pagination} from \"semantic-ui-react\";\nimport DeleteOrder from \"../DeleteOrder\";\nimport { formatNumber, stringifyOrderStatus } from \"../../../helpers/formatters\";\nimport UpdateQuotation from \"../UpdateQuotation\";\nimport moment from \"moment\";\n\nimport currencyFormatter from \"../../../helpers/currencyFormatterPrefix\";\nimport AddOrderPaymentModal from \"../../../components/OrderComponents/AddOrderPaymentModal/index\";\nimport { updateOrderProcessStatus } from \"../../../services/orderService\";\nimport { Row, Upload } from \"antd\";\nimport { useTranslation } from \"react-i18next\";\nimport { orderProcesses } from \"../../../hooks/index\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"../../../contexts\";\n\nimport { Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, TableFooter } from \"@material-ui/core\";\nimport NumberFormat from \"react-number-format\";\n//import { Pagination } from \"@mui/material\";\n\nconst _30Days = 30 * 24 * 60 * 60 * 1000;\n\nconst ConcludedStatus = 8;\n\nconst OrderProcess = ({ id: orderId, status, paymentStatus, onUpdate, allowed }) => {\n  const { t } = useTranslation([\"translation\"]);\n  const [shouldShowReviewModal, setShouldShowReviewModal] = useState(false);\n  const [files, setFiles] = useState([]);\n  const [review, setReview] = useState(\"\");\n  const handleClick = (id) => () => {\n    updateOrderProcessStatus(orderId, { processStatus: id }).then(() => onUpdate());\n  };\n\n  const addReview = () => {\n    updateOrderProcessStatus(orderId, {\n      processStatus: ConcludedStatus,\n      documents: files.map(({ response }) => response?.message),\n      comment: review,\n    }).then(() => onUpdate());\n  };\n\n  const handleFilesChane = ({ fileList }) => {\n    setFiles(fileList);\n  };\n\n  const closeShouldShowReviewModal = () => setShouldShowReviewModal(false);\n  return (\n    <>\n      <Dropdown text={t(orderProcesses[status])}>\n        <Dropdown.Menu>\n          {orderProcesses.map((label, i) => (\n            <Dropdown.Item\n              key={label}\n              text={t(label)}\n              onClick={i === ConcludedStatus ? () => setShouldShowReviewModal(true) : handleClick(i)}\n              disabled={(i === ConcludedStatus && (status !== 7 || paymentStatus !== 3)) || i === 0 || !allowed.includes(i)}\n            />\n          ))}\n        </Dropdown.Menu>\n      </Dropdown>\n      {shouldShowReviewModal && (\n        <Modal closeIcon open onClose={closeShouldShowReviewModal}>\n          <Modal.Header>{t(\"Conclude with Review\")}</Modal.Header>\n          <Modal.Content>\n            <Form>\n              <div style={{ marginBottom: 16 }}>\n                <Upload\n                  onChange={handleFilesChane}\n                  fileList={files}\n                  action=\"/api/assets/upload?entity=order\"\n                  accept=\"image/*,.pdf\"\n                  headers={{\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                  }}\n                >\n                  <Button>{t(\"Add files\")}</Button>\n                </Upload>\n              </div>\n\n              <Form.Group widths=\"equal\">\n                <Form.TextArea\n                  label={t(\"Client Review\")}\n                  onChange={(e, { value }) => {\n                    setReview(value);\n                  }}\n                />\n              </Form.Group>\n            </Form>\n            <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n              <Button onClick={closeShouldShowReviewModal}>Cancel</Button>\n              <Button primary onClick={addReview}>\n                {t(\"Conclude\")} {t(\"Order\")}\n              </Button>\n            </div>\n          </Modal.Content>\n        </Modal>\n      )}\n    </>\n  );\n};\n\nconst noPaymentSince30days = (order) => {\n  const lastTransactionOn = (order.transactions || []).sort((a, b) => b.createdAt - a.createdAt)[0]?.createdAt;\n  const lastPaymentOn = lastTransactionOn || order.createdAt;\n  return [1, 2].includes(order.status) && Date.now() - lastPaymentOn * 1000 > _30Days;\n};\n\nconst EstConclusionDate = ({ date, status }) => {\n  if (!date) return \"-\";\n  const dateFormatted = moment(date).format(\"DD/MM/YYYY\");\n  const diffFromToday = moment(date).diff(moment(), \"day\");\n  let bgColor;\n  let prefix;\n  if (status < 7) {\n    if (diffFromToday <= 0) {\n      bgColor = \"rgba(255, 0, 0, 0.2)\";\n      prefix = \"🚨\";\n    } else if (diffFromToday > 0 && diffFromToday <= 5) {\n      prefix = <span style={{ fontFamily: \"Segoe UI Emoji\" }}>⚠️ </span>;\n      bgColor = \"rgba(255, 255, 0, 0.2)\";\n    }\n  }\n\n  return (\n    <span style={{ backgroundColor: bgColor, padding: 8 }}>\n      {prefix}\n      {dateFormatted}\n    </span>\n  );\n};\n\nconst OrderList = ({\n  orders,\n  addToast,\n  loadOrders,\n  setSelectedOrders,\n  selectedOrders,\n  showOrderUpdateModal,\n  filters,\n  pages,\n  onPageChange,\n}) => {\n  const { t } = useTranslation([\"translation\"]);\n  const { user: admin } = useContext(UserContext);\n  const [collectPaymentFor, setCollectPaymentFor] = useState(undefined);\n\n  const [shouldShowChangeStatusModal, setShouldShowChangeStatusModal] = useState();\n\n  const allowedOrders = (orders || []).filter(({ processStatus, client }) => {\n    const r1 = (admin.allowedStatuses || []).length > 0 ? admin.allowedStatuses.includes(processStatus) : true;\n    const r2 = admin.roleNumber === 6 ? client?._id === admin._id : true;\n    return r1 && r2;\n  });\n\n  const updateOrderStatusProcess = () => {};\n\n  const selectOrder = (_id) => (event) => {\n    if (event.target.checked) {\n      setSelectedOrders([...selectedOrders, _id]);\n    } else {\n      setSelectedOrders(selectedOrders.filter((sid) => sid !== _id));\n    }\n  };\n\n  const handleEdit = (order) => {\n    setCollectPaymentFor(order);\n  };\n\n  const closeCollectPaymentModal = () => {\n    setCollectPaymentFor(undefined);\n  };\n\n  const handleAfterUpdate = () => {\n    closeCollectPaymentModal();\n    loadOrders();\n  };\n\n  function subtotal(items) {\n    return items.map(({ price }) => price).reduce((sum, i) => sum + i, 0);\n  }\n\n  return (\n    <>\n      <div style={{ padding: 25, display: \"inline-block\" }}>\n        <Pagination\n          activePage={filters.currentPage}\n          totalPages={pages}\n          onPageChange={(_, { activePage }) => onPageChange(activePage)}\n        />\n      </div>\n      <div component={Paper} style={{ border: \"0px solid green\", display: \"inline-block\", padding: \"10px\", backgroundColor: \"lightgreen\", fontWeight: \"bold\", margin: \"10px\" , color: \"green\", boxShadow: \"1px 1px 5px green\"}}>\n      <b>{t(\"Total Cost\")}: </b>\n        {currencyFormatter.format(\n          orders.reduce((total, order) => {\n            var totalCost = order.totalCost;\n            total = total + totalCost;\n            var inTotal = Number(total.toFixed(2));\n            return inTotal;\n          }, 0)\n        )}\n      </div>\n      <div component={Paper} style={{ border: \"0px solid orange\", display: \"inline-block\", padding: \"10px\", backgroundColor: \"lightyellow\", fontWeight: \"bold\", margin: \"10px\", color: \"orange\", boxShadow: \"1px 1px 5px orange\"}}>\n      <b>{t(\"Total Paid\")}: </b>\n        {currencyFormatter.format(\n          orders.reduce((total, order) => {\n            var totalPaid = order.totalPaid;\n            total = total + totalPaid;\n            var inTotal = Number(total.toFixed(2));\n            return inTotal;\n          }, 0)\n        )}\n      </div>\n      <div component={Paper} style={{ border: \"0px solid red\", display: \"inline-block\", padding: \"10px\", backgroundColor: \"pink\", fontWeight: \"bold\", margin: \"10px\", color: \"red\", boxShadow: \"1px 1px 5px red\"}}>\n      <b>{t(\"To Recieve\")}: </b>\n        {currencyFormatter.format(\n          orders.reduce((total, order) => {\n            const sumCalc = order.totalCost - order.totalPaid;\n            total += sumCalc;\n            return Number(total.toFixed(2));\n          }, 0)\n        )}\n      </div>\n      {/* Material */}\n      {/* Material */}\n      <TableContainer component={Paper}>\n        <Table stickyHeader sx={{ minWidth: 650 }} aria-label=\"sticky table\" sortable>\n          <TableHead>\n            <TableRow>\n              <TableCell>{t(\"Actions\")}</TableCell>\n              <TableCell align=\"right\">{t(\"ID\")}</TableCell>\n              <TableCell align=\"right\">{t(\"Client\")}</TableCell>\n              <TableCell align=\"right\">{t(\"Status\")}</TableCell>\n              <TableCell align=\"right\">{t(\"Process Status\")}</TableCell>\n              <TableCell align=\"right\">{t(\"Total Units\")}</TableCell>\n              <TableCell align=\"right\">{t(\"Total Cost\")}</TableCell>\n              <TableCell align=\"right\">{t(\"Total Paid\")}</TableCell>\n              <TableCell align=\"right\">{t(\"To Recieve\")}</TableCell>\n              <TableCell align=\"right\">{t(\"Est. Conlusion\")}</TableCell>\n              <TableCell align=\"right\">{t(\"Created At\")}</TableCell>\n              <TableCell align=\"right\">{t(\"Last Pay date\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {allowedOrders.map((order) => {\n              const shouldDeleteQuote = order.status === 4 && Date.now() - order.createdAt * 1000 > _30Days;\n              const sumCalc = currencyFormatter.format(order.totalCost - order.totalPaid);\n              return (\n                <TableRow key={order._id} sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}>\n                  <TableCell component=\"th\" scope=\"row\">\n                    <div style={{ display: \"flex\", gridAutoFlow: \"column\", columnGap: 16 }}>\n                      {([1].includes(admin.roleNumber) || shouldDeleteQuote) && (\n                        <DeleteOrder\n                          hasPayments={order.totalPaid !== 0}\n                          id={order._id}\n                          addToast={addToast}\n                          loadOrders={loadOrders}\n                        />\n                      )}\n                      {order.totalCost > order.totalPaid && order.status !== 4 && (\n                        <button onClick={() => handleEdit(order)} className=\"table-action-btn\">\n                          <Icon name=\"money bill alternate\" />\n                        </button>\n                      )}\n                      {order.status === 4 && <UpdateQuotation id={order._id} addToast={addToast} loadOrders={loadOrders} />}\n\n                      {(order.status === 4 || admin.roleNumber === 1) && (\n                        <Button className=\"table-action-btn\" onClick={() => showOrderUpdateModal(order._id)}>\n                          <Icon name=\"pencil alternate\" />\n                        </Button>\n                      )}\n                    </div>\n                  </TableCell>\n\n                  {/* <TableCell align=\"right\">\n                    {order.status === 4 && <input type=\"checkbox\" onChange={selectOrder(order._id)}></input>}\n                  </TableCell> */}\n                  <TableCell align=\"right\">\n                    <a href={`/orders/view/${order._id}`}>{order.orderId}</a>\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {(order.client || {}).firstName} {(order.client || {}).lastName}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {stringifyOrderStatus(t, order.status, shouldDeleteQuote || noPaymentSince30days(order))}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {order.status !== 4 && (\n                      <OrderProcess\n                        id={order._id}\n                        status={order.processStatus}\n                        onUpdate={loadOrders}\n                        paymentStatus={order.status}\n                        allowed={\n                          [1, 2].includes(admin.roleNumber)\n                            ? [...orderProcesses.keys()]\n                            : orderProcesses.map((_, i) => i).filter((s) => order.processStatus + 1 === s)\n                        }\n                      />\n                    )}\n                  </TableCell>\n                  <TableCell align=\"right\" style={{ padding: 16, width: 25 }}>{formatNumber(order.totalUnits)}</TableCell>\n                  <TableCell align=\"right\"style={{ padding: 16, width: 75 }}>{currencyFormatter.format(order.totalCost)}</TableCell>\n                  <TableCell align=\"right\"style={{ padding: 16, width: 75 }}>{currencyFormatter.format(order.totalPaid)}</TableCell>\n                  <TableCell\n                    align=\"right\"\n                    style={{ padding: 16, width: 75, color: \"red\", backgroundColor: \"pink\", fontWeight: \"bold\" }}\n                  >\n                    {sumCalc}\n                    {subtotal}\n                  </TableCell>\n                  <TableCell align=\"right\" style={{ padding: 16, width: 160 }}>\n                    <EstConclusionDate date={order.estConclusionDate} status={order.processStatus} />\n                  </TableCell>\n                  <TableCell align=\"right\">{moment(order.createdAt * 1000).format(\"DD/MM/YYYY\")}</TableCell>\n                  <TableCell align=\"right\">\n                    {order.transactions.length > 0\n                      ? moment(order.transactions.sort((a, b) => b.createdAt - a.createdAt)[0].createdAt * 1000).format(\n                          \"DD/MM/YYYY\"\n                        )\n                      : \"-\"}\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n          </TableBody>\n          <TableFooter>\n            <tr>\n              <th></th>\n              <th></th>\n              <th></th>\n              <th></th>\n              <th></th>\n              <th></th>\n              <th style={{ paddingLeft: \"200px\" }}>\n                <TableCell align=\"left\" style={{ fontSize: \"16px\" }}>\n                  {currencyFormatter.format(\n                    orders.reduce((total, order) => {\n                      var totalCost = order.totalCost;\n                      total = total + totalCost;\n                      var inTotal = Number(total.toFixed(2));\n                      return inTotal;\n                    }, 0)\n                  )}\n                </TableCell>\n              </th>\n              <th style={{ padding: \"0\" }}>\n                <TableCell align=\"left\" style={{ fontSize: \"16px\" }}>\n                  {currencyFormatter.format(\n                    orders.reduce((total, order) => {\n                      var totalPaid = order.totalPaid;\n                      total = total + totalPaid;\n                      var inTotal = Number(total.toFixed(2));\n                      return inTotal;\n                    }, 0)\n                  )}\n                </TableCell>\n              </th>\n              <th style={{ padding: \"5px\" }}>\n                <TableCell align=\"left\" style={{ fontSize: \"16px\" }}>\n                  {currencyFormatter.format(\n                    orders.reduce((total, order) => {\n                      const sumCalc = order.totalCost - order.totalPaid;\n                      total += sumCalc;\n                      return Number(total.toFixed(2));\n                    }, 0)\n                  )}\n                </TableCell>\n              </th>\n              <th></th>\n              <th></th>\n              <th></th>\n              <th></th>\n            </tr>\n            <TableRow>\n              <TableCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n                <Pagination\n                  activePage={filters.currentPage}\n                  totalPages={pages}\n                  onPageChange={(_, { activePage }) => onPageChange(activePage)}\n                />\n              </TableCell>\n            </TableRow>\n          </TableFooter>\n        </Table>\n      </TableContainer>\n      {/* Material */}\n      {/* Material */}\n      {/* <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"2\" rowSpan=\"2\">\n              {t(\"Actions\")}\n            </Table.HeaderCell>\n            <Table.HeaderCell>{t(\"ID\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Client\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Status\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Process Status\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Total Units\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Total Cost\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Total Paid\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"To Recieve\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Est. Conlusion\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Created At\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Last Pay date\")}</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {allowedOrders.map((order) => {\n            const shouldDeleteQuote = order.status === 4 && Date.now() - order.createdAt * 1000 > _30Days;\n            const sumCalc = currencyFormatter.format(order.totalCost - order.totalPaid);\n\n            return (\n              <Table.Row key={order._id}>\n                <Table.Cell>\n                  <div style={{ display: \"flex\", gridAutoFlow: \"column\", columnGap: 16 }}>\n                    {([1].includes(admin.roleNumber) || shouldDeleteQuote) && (\n                      <DeleteOrder\n                        hasPayments={order.totalPaid !== 0}\n                        id={order._id}\n                        addToast={addToast}\n                        loadOrders={loadOrders}\n                      />\n                    )}\n                    {order.totalCost > order.totalPaid && order.status !== 4 && (\n                      <button onClick={() => handleEdit(order)} className=\"table-action-btn\">\n                        <Icon name=\"money bill alternate\" />\n                      </button>\n                    )}\n                    {order.status === 4 && <UpdateQuotation id={order._id} addToast={addToast} loadOrders={loadOrders} />}\n\n                    {(order.status === 4 || admin.roleNumber === 1) && (\n                      <Button className=\"table-action-btn\" onClick={() => showOrderUpdateModal(order._id)}>\n                        <Icon name=\"pencil alternate\" />\n                      </Button>\n                    )}\n                  </div>\n                </Table.Cell>\n                <Table.Cell>\n                  {order.status === 4 && <input type=\"checkbox\" onChange={selectOrder(order._id)}></input>}\n                </Table.Cell>\n\n                <Table.Cell>\n                  <a href={`/orders/view/${order._id}`}>{order.orderId}</a>\n                </Table.Cell>\n                <Table.Cell>\n                  {(order.client || {}).firstName} {(order.client || {}).lastName}\n                </Table.Cell>\n                <Table.Cell>\n                  {stringifyOrderStatus(t, order.status, shouldDeleteQuote || noPaymentSince30days(order))}\n                </Table.Cell>\n                <Table.Cell>\n                  {order.status !== 4 && (\n                    <OrderProcess\n                      id={order._id}\n                      status={order.processStatus}\n                      onUpdate={loadOrders}\n                      paymentStatus={order.status}\n                      allowed={\n                        [1, 2].includes(admin.roleNumber)\n                          ? [...orderProcesses.keys()]\n                          : orderProcesses.map((_, i) => i).filter((s) => order.processStatus + 1 === s)\n                      }\n                    />\n                  )}\n                </Table.Cell>\n                <Table.Cell>{formatNumber(order.totalUnits)}</Table.Cell>\n                <Table.Cell>{currencyFormatter.format(order.totalCost)}</Table.Cell>\n                <Table.Cell>{currencyFormatter.format(order.totalPaid)}</Table.Cell>\n                <Table.Cell style={{ padding: 16, width: 160, color: \"red\", backgroundColor: \"#f5ebe1\", fontWeight: \"bold\" }}>\n                  {sumCalc}\n                  {subtotal}\n                </Table.Cell>\n                <Table.Cell style={{ padding: 16, width: 160 }}>\n                  <EstConclusionDate date={order.estConclusionDate} status={order.processStatus} />\n                </Table.Cell>\n                <Table.Cell>{moment(order.createdAt * 1000).format(\"DD/MM/YYYY\")}</Table.Cell>\n                <Table.Cell>\n                  {order.transactions.length > 0\n                    ? moment(order.transactions.sort((a, b) => b.createdAt - a.createdAt)[0].createdAt * 1000).format(\n                        \"DD/MM/YYYY\"\n                      )\n                    : \"-\"}\n                </Table.Cell>\n              </Table.Row>\n            );\n          })}\n        </Table.Body>\n\n        <Table.Footer>\n          <tr>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th>\n              <Table.Cell>\n                Total- R${\" \"}\n                {orders.reduce((total, order) => {\n                  var totalCost = order.totalCost;\n                  total = total + totalCost;\n                  var inTotal = Number(total.toFixed(2));\n                  return inTotal;\n                }, 0)}\n              </Table.Cell>\n            </th>\n            <th>\n              <Table.Cell>\n                Total- R${\" \"}\n                {orders.reduce((total, order) => {\n                  var totalPaid = order.totalPaid;\n                  total = total + totalPaid;\n                  var inTotal = Number(total.toFixed(2));\n                  return inTotal;\n                }, 0)}\n              </Table.Cell>\n            </th>\n            <th>\n              <Table.Cell>\n                Total- R${\" \"}\n                {orders.reduce((total, order) => {\n                  const sumCalc = order.totalCost - order.totalPaid;\n                  total += sumCalc;\n                  return total;\n                }, 0)}\n              </Table.Cell>\n            </th>\n            <th></th>\n            <th></th>\n            <th></th>\n          </tr>\n\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n              <Pagination\n                activePage={filters.currentPage}\n                totalPages={pages}\n                onPageChange={(_, { activePage }) => onPageChange(activePage)}\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table> */}\n      {collectPaymentFor && (\n        <AddOrderPaymentModal\n          addToast={addToast}\n          order={collectPaymentFor}\n          onClose={closeCollectPaymentModal}\n          afterSave={handleAfterUpdate}\n          loadOrders={loadOrders}\n        />\n      )}\n      {shouldShowChangeStatusModal && (\n        <Confirm open onCancel={() => setShouldShowChangeStatusModal(undefined)} onConfirm={updateOrderStatusProcess} />\n      )}\n    </>\n  );\n};\n\nOrderList.defaultProps = {\n  orders: [],\n  isLoading: true,\n};\n\nexport default OrderList;\n","import React, { useEffect, useState } from \"react\";\nimport { Alert, Col, Form, Input, message, Radio, Row } from \"antd\";\nimport { FormModal } from \"src/components\";\nimport NumberFormat from \"react-number-format\";\nimport { useTranslation } from \"react-i18next\";\nimport { braillePatternBlank, ruleRequired, translateFormRules } from \"src/helpers\";\n\nimport { useClient } from \"src/hooks\";\nimport { InputNumberFmtd } from \"src/components\";\n\nconst formRules = {\n  firstName: [ruleRequired],\n  lastName: [ruleRequired],\n  email: [ruleRequired],\n  address: [ruleRequired],\n  cpf: [{ type: \"string\", len: 11 }],\n  cnpj: [{ type: \"string\", len: 14 }],\n  zipCode: [ruleRequired, { type: \"string\", len: 8 }],\n};\n\nconst addressPlaceholder = `Sr. Luis Carvalho\nBoulevard das Flores 255\nSALVADOR-BA\nBRAZIL\n`;\n\nconst defaultValue = {\n  costContribution: [{ name: \"cost\", value: 0 }],\n  profitInPercentage: false,\n  identificationType: \"pf\",\n  unitType: \"unit\",\n  images: [],\n};\n\nfunction ClientFormModal({ onClose, afterSave, okText, initialValue }) {\n  const { t } = useTranslation([\"translation\"]);\n  const rules = translateFormRules(t, formRules);\n\n  const { insertedId, save, status: saveStatus } = useClient();\n  const [form] = Form.useForm();\n\n  const confirmPasswordValidator = ({ getFieldValue }) => ({\n    validator(_, value) {\n      if (!getFieldValue(\"password\") || getFieldValue(\"password\") === value) {\n        return Promise.resolve();\n      }\n      return Promise.reject(new Error(t(\"passwords do not match\")));\n    },\n  });\n\n  const handleSubmit = (values) => {\n    const payload = {\n      ...values,\n      // lets not save  identificationType if user not provided identificationNumber\n      identificationType: values.identificationNumber ? values.identificationType : undefined,\n    };\n    save(payload, initialValue?._id);\n  };\n\n  useEffect(() => {\n    if (saveStatus.isSuccess) {\n      message.success(saveStatus.message);\n      afterSave(insertedId);\n    }\n  }, [saveStatus, insertedId]);\n\n  const denormInitValue = initialValue\n    ? {\n        ...defaultValue,\n        ...initialValue,\n        identificationType: initialValue.identificationType || \"pf\",\n      }\n    : defaultValue;\n\n  return (\n    <FormModal\n      formID=\"client-add-modal\"\n      onClose={onClose}\n      okText={okText}\n      submitButtonProps={{ loading: saveStatus.isLoading }}\n      width={800}\n      organizationId={denormInitValue?.organizationId}\n    >\n      <Form\n        form={form}\n        layout=\"vertical\"\n        id=\"client-add-modal\"\n        initialValues={denormInitValue}\n        onFinish={handleSubmit}\n        validateTrigger=\"onFinish\"\n      >\n        <Row gutter={16}>\n          <Col span={12}>\n            <Form.Item name=\"firstName\" label={t(\"First Name\")} rules={rules.firstName}>\n              <Input />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item name=\"lastName\" label={t(\"Last Name\")} rules={rules.lastName}>\n              <Input />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Form.Item name=\"address\" label={t(\"Address\")} rules={rules.address}>\n          <Input.TextArea rows={5} placeholder={addressPlaceholder} />\n        </Form.Item>\n        <Row gutter={16}>\n          <Col span={4}>\n            <Form.Item name=\"identificationType\" label={braillePatternBlank} rules={rules.identificationType}>\n              <Radio.Group>\n                <Radio.Button value=\"pf\">{t(\"PF\")}</Radio.Button>\n                <Radio.Button value=\"pj\">{t(\"PJ\")}</Radio.Button>\n              </Radio.Group>\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item dependencies={[\"identificationType\"]} noStyle>\n              {({ getFieldValue }) => {\n                const isCNPJ = getFieldValue(\"identificationType\") === \"pj\";\n                return (\n                  <Form.Item\n                    name=\"identificationNumber\"\n                    label={isCNPJ ? t(\"CNPJ\") : t(\"CPF\")}\n                    rules={isCNPJ ? rules.cnpj : rules.cpf}\n                  >\n                    <InputNumberFmtd\n                      format={isCNPJ ? \"##.###.###/####-##\" : \"###.###.###-##\"}\n                      placeholder={isCNPJ ? \"00.000.000/0001-00\" : \"000.000.000-00\"}\n                      valuePropName=\"value\"\n                    />\n                  </Form.Item>\n                );\n              }}\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item name=\"zipCode\" label={t(\"Zip Code\")} rules={rules.zipCode}>\n              <InputNumberFmtd format=\"#####-###\" placeholder=\"00000-000\" valuePropName=\"value\" />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Form.Item label={t(\"Email\")} name=\"email\" rules={rules.email}>\n              <Input />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item\n              label={t(\"Landline Number\")}\n              name=\"landlineNumber\"\n              rules={rules.landlineNumber}\n              trigger=\"onValueChange\"\n              getValueFromEvent={(vs) => vs.value}\n            >\n              <NumberFormat customInput={Input} format=\"(##) ##### - ####\" placeholder=\"(00) 00000 - 0000\" />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item\n              label={t(\"Mobile Number\")}\n              name=\"mobileNumber\"\n              rules={rules.mobileNumber}\n              trigger=\"onValueChange\"\n              getValueFromEvent={(vs) => vs.value}\n            >\n              <NumberFormat customInput={Input} format=\"(##) #### - ####\" placeholder=\"(00) 0000 - 0000\" />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Form.Item name=\"password\" label={t(\"Password\")} rules={rules.password}>\n              <Input.Password />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item\n              name=\"confirmPassword\"\n              label={t(\"Confirm Password\")}\n              dependencies={[\"password\"]}\n              rules={[confirmPasswordValidator]}\n            >\n              <Input.Password />\n            </Form.Item>\n          </Col>\n        </Row>\n      </Form>\n      {saveStatus.isError && <Alert message={saveStatus.message} type=\"error\" />}\n    </FormModal>\n  );\n}\n\nexport default ClientFormModal;\n","import { Alert, Button, Col, DatePicker, Form, Input, message, Row, Select, Upload, Card } from \"antd\";\nimport React, { useEffect, useState } from \"react\";\nimport { useClientOptions, useOrder } from \"src/hooks\";\nimport currencyFormatter from \"src/helpers/currencyFormatterPrefix\";\nimport { useTranslation } from \"react-i18next\";\nimport NumberFormat from \"react-number-format\";\n\nimport moment from \"moment\";\n\nimport FormModal from \"src/components/FormModal\";\nimport ClientFormModal from \"../ClientsPage/ClientFormModal\";\nimport { InputNumberFmtd } from \"src/components\";\nimport { staticFormOptions } from \"src/helpers/options\";\nimport { braillePatternBlank, computeOrderTotal } from \"src/helpers\";\nimport { ProductSelect } from \"src/components\";\nimport SelectedProducts from \"src/components/SelectedProducts\";\nimport \"./OrderFormModal.scss\";\nimport { autocompleteClasses } from \"@material-ui/core\";\n\n//import Editor from \"./Editor\";\n\nconst paymentMethodOptions = staticFormOptions.paymentOptions.map(({ value, text }) => ({ label: text, value }));\n\nconst imageFromEvent = ({ file }) => {\n  if (file.status === \"removed\") {\n    return [];\n  }\n  if (file?.response?.message) {\n    file.uid = file?.response?.message;\n    file.url = `/uploads/${file?.response?.message}`;\n  }\n  return [file];\n};\n\nconst ruleRequired = { required: true };\nconst ruleJustRequired = [ruleRequired];\n\nconst validations = {\n  discount: [ruleRequired, { max: 40, min: 0, type: \"number\" }],\n};\n\nconst defaultValue = {\n  products: [],\n  discount: 0,\n};\n\nfunction OrderFormModal({ onClose, afterPlace, initialValue, isQuotation = false, okText }) {\n  const { t } = useTranslation([\"translation\"]);\n\n  const [shouldShowClientAddModal, setShouldShowClientAddModal] = useState(false);\n  const { save, status: saveStatus } = useOrder();\n  const { options: clientOptions, status: clientOptionsStatus, refresh: refreshClientOpts } = useClientOptions();\n\n  const [form] = Form.useForm();\n\n  const handleFinish = (payload) => {\n    const productItems = [];\n    const selectedProducts = form.getFieldValue(\"products\");\n\n    for (let id in selectedProducts) {\n      const product = selectedProducts[id];\n      if (!product.quantity) continue;\n      productItems.push({\n        productId: product.__id,\n        amount: product.quantity,\n        title: product.title,\n        price: product.price,\n        cost: product.cost,\n        comment: product.comment,\n        measurementValue: product.measurementValue,\n      });\n    }\n\n    save(initialValue?._id, {\n      ...initialValue,\n      ...payload,\n      isQuotation: isQuotation,\n      estConclusionDate: payload.estConclusionDate && payload.estConclusionDate.unix() * 1000,\n      items: productItems,\n    });\n  };\n\n  const handleProductAdd = (product) => {\n    const selectedProducts = form.getFieldValue(\"products\");\n\n    const selectedProduct = selectedProducts.findIndex((p) => p._id === product._id);\n    const selectedQuantity = selectedProduct?.quantity || 0;\n    if (product.isService || isQuotation || selectedQuantity !== product.totalUnits) {\n      if (selectedProduct === -1) {\n        const t = {\n          _id: product._id,\n          __id: product._id,\n          title: product.title,\n          price: product.price,\n          cost: product.cost,\n          quantity: 1,\n          images: product.images,\n          chargeDuration: product.chargeDuration,\n          measurementType: product.measurementType,\n          measurementValue: product.measurementValue,\n        };\n        form.setFieldsValue({ products: [t, ...selectedProducts] });\n      } else {\n        selectedProducts[selectedProduct].quantity += 1;\n        form.setFieldsValue({ products: selectedProducts });\n      }\n    }\n  };\n\n  const handleProductAddAsAnother = (product) => {\n    const selectedProducts = form.getFieldValue(\"products\");\n    const selectedQuantity = selectedProducts[product._id]?.quantity || 0;\n    if (product.isService || isQuotation || selectedQuantity !== product.totalUnits) {\n      const t = {\n        _id: Symbol(product._id),\n        __id: product._id,\n        title: product.title,\n        price: product.price,\n        cost: product.cost,\n        quantity: 1,\n        images: product.images,\n        chargeDuration: product.chargeDuration,\n        measurementType: product.measurementType,\n        measurementValue: product.measurementValue,\n      };\n\n      form.setFieldsValue({\n        products: [t, ...selectedProducts],\n      });\n    }\n  };\n\n  const handleQuantityChange = (productId, quantity, measurementValue) => {\n    const selectedProducts = form.getFieldValue(\"products\");\n    const selectedProduct = selectedProducts.find((p) => p._id === productId);\n    selectedProduct.quantity = quantity;\n    selectedProduct.measurementValue = measurementValue;\n    form.setFieldsValue({\n      products: null,\n    });\n    form.setFieldsValue({\n      products: selectedProducts,\n    });\n  };\n\n  const handleCommentChange = (productId, comment) => {\n    const selectedProducts = form.getFieldValue(\"products\");\n    const selectedProduct = selectedProducts.find((p) => p._id === productId);\n    selectedProduct.comment = comment;\n\n    // uncomment of setFieldsValue has no impact\n    // form.setFieldsValue({\n    //   products: null,\n    // });\n    form.setFieldsValue({\n      products: selectedProducts,\n    });\n  };\n\n  const handleDelete = (productId) => {\n    const selectedProducts = form.getFieldValue(\"products\");\n    const i = selectedProducts.findIndex((p) => p._id === productId);\n\n    form.setFieldsValue({\n      products: null,\n    });\n    form.setFieldsValue({\n      products: [...selectedProducts.slice(0, i), ...selectedProducts.slice(i + 1)],\n    });\n  };\n\n  const handleAddClientClick = () => {\n    setShouldShowClientAddModal(true);\n  };\n\n  const closeClientFormModal = () => setShouldShowClientAddModal(false);\n\n  const handleAddClient = (_id) => {\n    setShouldShowClientAddModal(false);\n    refreshClientOpts();\n    form.setFieldsValue({ clientId: _id });\n  };\n\n  useEffect(() => {\n    if (saveStatus.isSuccess) {\n      message.success(t(\"pedido adicionado com sucesso\"));\n      afterPlace();\n    }\n    if (saveStatus.isError) {\n      message.error(saveStatus.message);\n    }\n  }, [saveStatus, afterPlace]);\n\n  let temp = new Set();\n  const denormInitValue = initialValue\n    ? {\n        products: initialValue.items.map(({ productId, amount, ...rest }) => {\n          const _id = temp.has(productId) ? Symbol(productId) : productId;\n          temp.add(productId);\n          return {\n            _id: _id,\n            __id: productId,\n            quantity: amount,\n            ...rest,\n          };\n        }),\n        clientId: (initialValue.client || {})._id,\n        comment: initialValue.comment,\n        discount: initialValue.discount,\n        // isQuotation: initialValue.status === 4 ,\n        estConclusionDate: initialValue.estConclusionDate ? moment(initialValue.estConclusionDate) : undefined,\n      }\n    : defaultValue;\n\n  return (\n\n    <FormModal\n      className=\"order-place-form-modal\"\n      formID=\"order-place-form\"\n      okText={okText}\n      onClose={onClose}\n      submitButtonProps={{ loading: saveStatus.isLoading }}\n      width=\"100%\"\n      style={{ top: 16 }}\n      organizationId={denormInitValue?.organizationId}\n    >    \n      <Form\n        id=\"order-place-form\"\n        layout=\"vertical\"\n        form={form}\n        onFinish={handleFinish}\n        initialValues={denormInitValue}\n        preserve={false}\n        onValuesChange={console.log}\n      >\n        \n<Form.Item wrapperCol={{ span: 24 }} shouldUpdate>\n          {({ getFieldValue: f }) => (\n            <div style={{ textAlign: \"right\", fontSize: \"1.2em\", marginBottom: 15, color: \"green\", fontWeight: 700 }}>\n              {t(\"Total\")}: {currencyFormatter.format(computeOrderTotal(f(\"products\"), f(\"discount\")))}\n            </div>\n          )}\n        </Form.Item>\n       <Card style={{ minHeight: 355 }}>\n            <ProductSelect onAdd={handleProductAdd} onAddAsNew={handleProductAddAsAnother} enableOutOfStock={isQuotation} />\n          </Card>\n          <Card style={{ minHeight: \"25%\"}}>\n          <Col>\n            <Form.Item className=\"products-form-item\" rules={ruleJustRequired} shouldUpdate>\n              {({ getFieldValue }) => (\n                <SelectedProducts\n                  products={getFieldValue(\"products\")}\n                  onQuantityChange={handleQuantityChange}\n                  onCommentChange={handleCommentChange}\n                  onDelete={handleDelete}\n                />\n              )}\n            </Form.Item>\n          </Col>\n          </Card>\n\n          <Card style={{ minHeight: \"25%\"}}>\n          <Col>\n            <Form.Item name=\"clientId\" label={t(\"Client\")} rules={ruleJustRequired}>\n              <Select\n                options={clientOptions}\n                loading={clientOptionsStatus.isLoading}\n                dropdownRender={(menu) => (\n                  <div>\n                    {menu}\n                    <Button onClick={handleAddClientClick} block>\n                      + Add Client\n                    </Button>\n                  </div>\n                )}\n                filterOption={(input, option) => option.label.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                showSearch\n              />\n            </Form.Item>\n          </Col>\n          <Col>\n            <Form.Item\n              label={t(\"% Discount\")}\n              name=\"discount\"\n              trigger=\"onValueChange\"\n              getValueFromEvent={(vs) => vs.floatValue}\n              rules={validations.discount}\n            >\n              <NumberFormat\n                customInput={Input}\n                thousandSeparator=\".\"\n                decimalSeparator=\",\"\n                //disabled={initialValue?._id && !isQuotation}\n              />\n            </Form.Item>\n          </Col>\n          <Col>\n            <Form.Item label={t(\"Conclude By\")} name=\"estConclusionDate\">\n              <DatePicker format=\"DD/MM/YYYY\" style={{ width: \"100%\" }} />\n            </Form.Item>\n          </Col>\n          {!isQuotation && !initialValue?._id && (\n            <Form.Item dependencies={[\"isQuotation\"]} noStyle>\n              {({ getFieldValue }) => (\n                <>\n                  <Col>\n                    <Form.Item name=\"paid\" label={t(\"Paid Amount\")}>\n                      <InputNumberFmtd disabled={!!getFieldValue(\"isQuotation\")} />\n                    </Form.Item>\n                  </Col>\n                  <Col>\n                    <Form.Item name=\"paymentMethod\" label={t(\"Payment Method\")}>\n                      <Select options={paymentMethodOptions} disabled={!!getFieldValue(\"isQuotation\")} />\n                    </Form.Item>\n                  </Col>\n                  <Col>\n                    <Form.Item\n                      label={braillePatternBlank}\n                      name=\"proofOfPayment\"\n                      getValueFromEvent={imageFromEvent}\n                      valuePropName=\"fileList\"\n                      shouldUpdate\n                    >\n                      <Upload\n                        action=\"/api/assets/upload?entity=transaction\"\n                        accept=\"image/*, .pdf\"\n                        headers={{\n                          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                        }}\n                      >\n                        <Button disabled={!!getFieldValue(\"isQuotation\")}>{t(\"Upload Proof\")}</Button>\n                      </Upload>\n                    </Form.Item>\n                  </Col>\n                </>\n              )}\n            </Form.Item>\n          )}\n        </Card>\n        <Card title={t(\"Comment\")} bordered={false} style={{ width: \"100%\" }}>\n        <Form.Item name=\"comment\">\n          <Input.TextArea placeholder={t(\"Comment\")} style={{ width: \"100%\" }} rows={5}  /> \n          {/* <Editor />*/}\n        </Form.Item>\n        </Card>\n      </Form>\n      {saveStatus.isError && <Alert message={saveStatus.message} type=\"error\" />}\n      {shouldShowClientAddModal && (\n        <ClientFormModal afterSave={handleAddClient} onClose={closeClientFormModal} okText={`${t(\"Add\")} ${t(\"Client\")}`} />\n      )}\n    </FormModal>\n  );\n}\n\nexport default OrderFormModal;\n","import React, { useEffect } from \"react\";\n\nimport Spinner from \"./../../components/Spinner\";\nimport OrderList from \"src/components/OrderComponents/OrderList\";\nimport OrderFormModal from \"./OrderFormModal\";\nimport { Input } from \"antd\";\nimport { deleteOrder } from \"../../services/orderService\";\nimport { useState } from \"react\";\nimport moment from \"moment\";\nimport { Select,Radio,Button } from \"antd\";\nimport { useOrders, orderProcesses } from \"src/hooks\";\nimport \"./styles.css\";\nimport { useTranslation } from \"react-i18next\";\nimport OrgAwareButton from \"src/components/OrgAwareButton\";\nimport { useContext } from \"react\";\nimport { UserContext } from \"src/contexts\";\n\nimport { paymentStatuses, statuses } from \"src/hooks/useOrders\";\n\n\n\nconst _30Days = 30 * 24 * 60 * 60 * 1000;\n\n\n\nconst noPaymentSince30days = (order) => {\n  const lastTransactionOn = (order.transactions || []).sort((a, b) => b.createdAt - a.createdAt)[0]?.createdAt;\n  const lastPaymentOn = lastTransactionOn || order.createdAt;\n  return [1, 2].includes(order.status) && Date.now() - lastPaymentOn * 1000 > _30Days;\n};\n\nconst expiredQuotataionsPredicate = (order) => {\n  const shouldDeleteQuote = order.status === 4 && Date.now() - order.createdAt * 1000 > _30Days;\n  return shouldDeleteQuote;\n};\n\nconst lastWeekOpenOrdersPredicate = (order) =>\n  order.createdAt * 1000 > moment().subtract(7, \"days\").unix() && order.status === 1;\n\nfunction OrdersPage(props) {\n  const { t } = useTranslation(\"translation\");\n  const { user: admin } = useContext(UserContext);\n  const { addToast, location } = props;\n  const { data: orders, total, pages, all: allOrders, search, goto, filters, status: ordersStatus, refresh } = useOrders();\n  const [alerted, setAlerted] = useState(false);\n  const [shouldShowQuotationForm, setShouldShowQuotationForm] = useState(false);\n  const [paymentDueAlert, setPaymentDueAlert] = useState(false);\n  const [conclusionNearAlert, setConclusionNearAlert] = useState(false);\n  const [conclusionDueAlert, setConclusionDueAlert] = useState(false);\n  const [selectedOrders, setSelectedOrders] = useState([]);\n  const [showOrderCreateModal, setShowOrderCreateModal] = useState(false);\n  const [editOrderId, setEditOrderId] = useState(undefined);\n\n  const searchParams = new URLSearchParams(location.search);\n  const defaultSelectedStatus = Number(searchParams.get(\"status\"));\n  const defaultSelectedPaymentStatus = Number(searchParams.get(\"paymentStatus\"));\n  const [selectedStatus, setSelectedStatus] = useState(defaultSelectedStatus > -1 ? defaultSelectedStatus : undefined);\n  const [selectedPaymentStatus, setSelectedPaymentStatus] = useState(\n    defaultSelectedPaymentStatus > -1 ? defaultSelectedPaymentStatus : undefined\n  );\n\n  const handleSearch = (e) => {\n    search(e.target.value);\n  };\n\n  const closeOrderFormModal = () => {\n    setEditOrderId(undefined);\n    setShowOrderCreateModal(false);\n    setShouldShowQuotationForm(false);\n  };\n\n  const afterPlace = () => {\n    closeOrderFormModal();\n    refresh();\n  };\n\n  const deleteSelected = () => {\n    const p = Promise.all(selectedOrders.map((_id) => deleteOrder(_id, { deleteTrxs: false })));\n    p.then((resp) => {\n      this.props.addToast(t(\"Orders deleted successfully\"), {\n        appearance: \"success\",\n      });\n    })\n      .catch((err) => {\n        if (err.message !== \"\") {\n          this.props.addToast(t(\"Could not delete orders\") + \": \" + err.message, {\n            appearance: \"error\",\n          });\n        } else {\n          this.props.addToast(t(\"Something went wrong\"), { appearance: \"error\" });\n        }\n      })\n      .finally(() => {\n        setSelectedOrders([]);\n        refresh();\n      });\n  };\n\n  const handleFilterChange = (e) => {\n    switch (e.target.value) {\n      case \"latePayments\":\n        filters.setPredicate(noPaymentSince30days);\n        break;\n      case \"expiredQuotes\":\n        filters.setPredicate(expiredQuotataionsPredicate);\n        break;\n      default:\n        filters.setPredicate(undefined);\n    }\n  };\n\n  useEffect(() => {\n    if (ordersStatus.isSuccess) {\n      if (selectedStatus > 0 || selectedPaymentStatus > 0) {\n        filters.setPredicate(\n          ({ processStatus, status }) =>\n            (selectedStatus > 0 ? processStatus === selectedStatus : true) &&\n            (selectedPaymentStatus > 0 ? status === selectedPaymentStatus : true)\n        );\n      } else {\n        filters.setPredicate(undefined);\n      }\n    }\n  }, [selectedStatus, selectedPaymentStatus, ordersStatus]);\n\n  useEffect(() => {\n    if (!alerted) {\n      const shouldAlert = allOrders.some(expiredQuotataionsPredicate);\n\n      if (shouldAlert) {\n        addToast(t(\"You have quotations older than 30 days\"), {\n          appearance: \"warning\",\n          autoDismissTimeout: 10000,\n        });\n        setAlerted(true);\n      }\n    }\n  }, [allOrders]);\n\n  useEffect(() => {\n    if (!paymentDueAlert) {\n      const shouldAlert = allOrders.some(noPaymentSince30days);\n\n      if (shouldAlert) {\n        addToast(t(\"You have orders haven't received payment since 30 days\"), {\n          appearance: \"warning\",\n          autoDismissTimeout: 10000,\n        });\n        setPaymentDueAlert(true);\n      }\n    }\n  }, [allOrders]);\n\n  useEffect(() => {\n    if (conclusionDueAlert && conclusionNearAlert) return;\n    let shouldAlertForDue = false;\n    let shouldAlertForNear = false;\n    for (let i = 0; i < allOrders.length; i++) {\n      const order = allOrders[i];\n      if (order.estConclusionDate && ![8].includes(order.processStatus)) {\n        const diffFromToday = moment(order.estConclusionDate).diff(moment(), \"day\");\n        if (diffFromToday <= 0) {\n          shouldAlertForDue = true;\n        }\n        if (diffFromToday <= 5 && diffFromToday > 0) {\n          shouldAlertForNear = true;\n        }\n      }\n    }\n    \n    if (shouldAlertForDue) {\n      addToast(t(\"You are due to conclude order(s)\"), {\n        appearance: \"error\",\n        autoDismissTimeout: 10000,\n      });\n      setConclusionDueAlert(true);\n    }\n    if (shouldAlertForNear) {\n      addToast(t(\"You are near due to conclude order(s)\"), {\n        appearance: \"warning\",\n        autoDismissTimeout: 10000,\n      });\n      setConclusionNearAlert(true);\n    }\n  }, [allOrders]);\n\n  const isCreateDisabled =\n    (admin.isRep || admin.roleNumber === 8) && admin.maxOrders > 0\n      ? allOrders.filter(lastWeekOpenOrdersPredicate).length === admin.maxOrders\n      : false;\n\n  const selectedOrder = orders.find((o) => o._id === editOrderId);\n  const okText = selectedOrder\n    ? shouldShowQuotationForm\n      ? t(\"Update\") + \" \" + t(\"Quotation\")\n      : t(\"Update\") + \" \" + t(\"Order\")\n    : shouldShowQuotationForm\n    ? t(\"Create\") + \" \" + t(\"Quotation\")\n    : t(\"Place\") + \" \" + t(\"Order\");\n\n  return ordersStatus.isLoading ? (\n    <Spinner />\n  ) : (\n    <div className={\"container\"}>\n      <h2>{t(\"Orders\")}</h2>\n      {(showOrderCreateModal || (selectedOrder && selectedOrder.status !== 4)) && (\n        <OrderFormModal\n          addToast={props.addToast}\n          onClose={closeOrderFormModal}\n          afterPlace={afterPlace}\n          initialValue={selectedOrder}\n          okText={okText}\n        />\n      )}\n\n      {(shouldShowQuotationForm || selectedOrder?.status === 4) && (\n        <OrderFormModal\n          addToast={props.addToast}\n          onClose={closeOrderFormModal}\n          afterPlace={afterPlace}\n          initialValue={selectedOrder}\n          okText={okText}\n          isQuotation={shouldShowQuotationForm || selectedOrder.status === 4}\n        />\n      )}\n\n      <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n        <div>\n          <span style={{ marginRight: 16 }}>\n            {t(\"Total\")}: {total} / {orders.length}\n          </span>\n          <Input.Search\n            style={{ marginRight: 16, width: 200 }}\n            placeholder={t(\"Search\")}\n            onChange={handleSearch}\n            value={filters.searchText}\n            allowClear\n          />\n      \n          <Radio.Group onChange={handleFilterChange} defaultValue=\"\" style={{ marginRight: 16 }}>\n            <Radio.Button value=\"\">{t(\"All\")}</Radio.Button>\n            <Radio.Button value=\"latePayments\">{t(\"Late Payments\")}</Radio.Button>\n            <Radio.Button value=\"expiredQuotes\">{t(\"Exp. Quotations\")}</Radio.Button>\n          </Radio.Group>\n          <Select\n            defaultValue={selectedStatus}\n            onChange={setSelectedStatus}\n            style={{ width: 200, marginRight: 16 }}\n            placeholder={t(\"Status\")}\n            allowClear\n          >\n            {orderProcesses.map((status, i) => (\n              <Select.Option value={i}>{t(status)}</Select.Option>\n            ))}\n          </Select>\n          <Select\n            defaultValue={selectedPaymentStatus}\n            onChange={setSelectedPaymentStatus}\n            style={{ width: 200 }}\n            allowClear\n            placeholder={t(\"Payment Status\")}\n          >\n            {paymentStatuses.map((status, i) => (\n              <Select.Option value={i}>{t(status)}</Select.Option>\n            ))}\n          </Select>\n        </div>\n        <div>\n          {selectedOrders.length > 0 && (\n            <Button style={{ marginLeft: 16 }} onClick={deleteSelected} className=\"negative\">\n              {t(\"Delete Selected\")}\n            </Button>\n          )}\n\n          {[1, 2, 3, 4, 8].includes(admin.roleNumber) && (\n            <>\n              <OrgAwareButton\n                style={{ marginRight: 16 }}\n                onClick={() => setShouldShowQuotationForm(true)}\n                type=\"primary\"\n                disabled={isCreateDisabled}\n              >\n                {isCreateDisabled ? t(\"you reached limit\") : t(\"Create\") + \" \" + t(\"Quotation\")}\n              </OrgAwareButton>\n              <OrgAwareButton onClick={() => setShowOrderCreateModal(true)} type=\"primary\" disabled={isCreateDisabled}>\n                {isCreateDisabled ? t(\"you reached limit\") : t(\"Create\") + \" \" + t(\"Order\")}\n              </OrgAwareButton>\n            </>\n          )}\n        </div>\n      </div>\n      <OrderList\n        loadOrders={refresh}\n        filters={filters}\n        addToast={props.addToast}\n        orders={orders}\n        selectedOrders={selectedOrders}\n        setSelectedOrders={setSelectedOrders}\n        showOrderUpdateModal={setEditOrderId}\n        admin={props.admin}\n        pages={pages}\n        onPageChange={goto}\n      />\n    </div>\n  );\n}\n\nOrdersPage.defaultProps = {\n  orders: [],\n  isLoading: true,\n};\n\nexport default OrdersPage;\n","import React, { useState } from \"react\";\nimport { Button, Input } from \"antd\";\nimport { useClient, useClients, useRoles } from \"src/hooks\";\nimport { Confirm } from \"semantic-ui-react\";\nimport { useTranslation } from \"react-i18next\";\nimport { OrgAwareButton } from \"src/components\";\nimport ClientFormModal from \"./ClientFormModal\";\nimport { Pagination, Table } from \"semantic-ui-react\";\nimport { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\nimport { useEffect } from \"react\";\nimport { Span } from \"src/components\";\nimport NumberFormat from \"react-number-format\";\n\nfunction ClientsPage({ addToast }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { data: clients, total, pages, search, goto, sort, filters, status, refresh } = useClients();\n  const roles = useRoles();\n  console.log(\"roles :>> \", roles);\n  const { del, status: actionStatus } = useClient();\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(false);\n  const [selectedForEdit, setSelectedForEdit] = useState();\n  const [selectedForDelete, setSelectedForDelete] = useState();\n\n  const showAddModal = () => setShouldShowAddModal(true);\n  const closeAddModal = () => setShouldShowAddModal(false);\n\n  const handleSearch = (event) => {\n    search(event.target.value);\n  };\n\n  const closeEditModal = () => setSelectedForEdit(undefined);\n\n  const handleEdit = (item) => () => setSelectedForEdit(item);\n  const handleDelete = (id) => () => setSelectedForDelete(id);\n  const closeDeleteConfirmation = () => setSelectedForDelete();\n\n  const handleSave = () => {\n    closeAddModal();\n    closeEditModal();\n    refresh();\n  };\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        closeEditModal();\n        closeDeleteConfirmation();\n        refresh();\n      }\n    }\n  }, [actionStatus]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"list-actions\">\n        <span>\n          {t(\"Total\")}: {total}\n        </span>\n        <div style={{ marginLeft: 16, marginRight: 16 }}>\n          <Input.Search placeholder={t(\"Search\")} onChange={handleSearch} value={filters.searchText} allowClear />\n        </div>\n        <OrgAwareButton type=\"primary\" onClick={showAddModal}>\n          {t(\"Add\")} {t(\"Client\")}\n        </OrgAwareButton>\n      </div>\n\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>{t(\"Actions\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"ID\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"First Name\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Last Name\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Email\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Mobile Number\")}</Table.HeaderCell>\n            <Table.HeaderCell>\n              {t(\"CPF\")} / {t(\"CNPJ\")}\n            </Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Address\")}</Table.HeaderCell>\n            <Table.HeaderCell>{t(\"Zip Code\")}</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {clients.map((record) => (\n            <Table.Row key={record._id}>\n              <Table.Cell>\n                <>\n                  <Button\n                    className=\"margin-right\"\n                    icon={<DeleteOutlined />}\n                    type=\"danger\"\n                    onClick={handleDelete(record._id)}\n                    size=\"small\"\n                    ghost\n                  />\n                  <Button className=\"margin-right\" icon={<EditOutlined />} onClick={handleEdit(record)} size=\"small\" />\n                </>\n              </Table.Cell>\n              <Table.Cell>{record._id}</Table.Cell>\n              <Table.Cell>{record.firstName}</Table.Cell>\n              <Table.Cell>{record.lastName}</Table.Cell>\n              <Table.Cell>{record.email}</Table.Cell>\n              <Table.Cell>\n                <NumberFormat customInput={Span} defaultValue={record.mobileNumber} format=\"(##) #### - ####\" readOnly />\n              </Table.Cell>\n              <Table.Cell>\n                <NumberFormat\n                  customInput={Span}\n                  defaultValue={record.identificationNumber}\n                  format={record.identificationType === \"pj\" ? \"##.###.###/####-##\" : \"###.###.###-##\"}\n                  readOnly\n                />\n              </Table.Cell>\n              <Table.Cell style={{ whiteSpace: \"pre\" }}>{record.address}</Table.Cell>\n              <Table.Cell>\n                <NumberFormat customInput={Span} defaultValue={record.zipCode} format=\"#####–###\" readOnly />\n              </Table.Cell>\n            </Table.Row>\n          ))}\n        </Table.Body>\n\n        <Table.Footer>\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n              <Pagination\n                activePage={filters.currentPage}\n                totalPages={pages}\n                onPageChange={(_, { activePage }) => goto(activePage)}\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n\n      {(shouldShowAddModal || selectedForEdit) && (\n        <ClientFormModal\n          afterSave={handleSave}\n          onClose={() => {\n            closeAddModal();\n            closeEditModal();\n          }}\n          okText={`${selectedForEdit ? t(\"Update\") : t(\"Add\")} ${t(\"Client\")}`}\n          initialValue={selectedForEdit}\n        />\n      )}\n\n      {selectedForDelete && (\n        <Confirm\n          open\n          content={t(\"Are you sure you want to delete\") + \" ?\"}\n          onCancel={closeDeleteConfirmation}\n          onConfirm={() => del(selectedForDelete)}\n          cancelButton={t(\"No\")}\n          confirmButton={t(\"Delete\")}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default ClientsPage;\n","import React, { useEffect, useState } from \"react\";\nimport { Button, Row, Col, Input, Radio, Form, Modal, Upload, ConfigProvider, DatePicker, Checkbox, Select } from \"antd\";\nimport moment from \"moment\";\nimport { getOrderStatuses } from \"../../services/orderService\";\nimport NumberFormat from \"react-number-format\";\nimport { useFetch } from \"src/hooks\";\nimport { useDepartmentOptions, useOrganizations } from \"src/hooks\";\n\nimport { FormList } from \"src/components\";\n\nconst ruleRequired = { required: true };\n\nconst validations = {\n  name: [ruleRequired],\n  email: [ruleRequired, { type: \"email\" }],\n  password: [ruleRequired],\n  organizationId: [ruleRequired],\n  phoneNumber: [ruleRequired, { len: 11 }],\n  role: [ruleRequired],\n};\n\nconst defaultValues = {\n  documents: [{ name: \"\", url: \"\" }],\n  departmentIds: [],\n  salary: { \"13thDates\": [] },\n  organizationIds: [],\n};\n\nconst imageFromEvent = ({ file }) => {\n  if (file.status === \"removed\") {\n    return [];\n  }\n  if (file?.response?.message) {\n    file.uid = file?.response?.message;\n    file.url = `/uploads/${file?.response?.message}`;\n  }\n  return [file];\n};\n\nfunction useRoles() {\n  return useFetch(\"/api/admins/roles\");\n}\n\nconst nonAdminOneOrgValidator = (rule, value) => {\n  return value.length !== 1 ? Promise.reject(\"non-superadmins can only have one org\") : Promise.resolve();\n};\n\nfunction UserFormModal({ onClose, okText, okButtonProps, onSave, initialValues }) {\n  const [form] = Form.useForm();\n  const [orderStatuses, setOrderStatuses] = useState([]);\n  const [{ data: roles } = { data: [] }] = useRoles();\n  const { options: departmentOptions } = useDepartmentOptions();\n  const [organizations] = useOrganizations();\n\n  const roleOptions = roles.map(({ roleNumber, name }) => ({\n    label: name,\n    value: roleNumber,\n  }));\n  const organizationOptions = organizations.map(({ _id, title }) => ({\n    label: title,\n    value: _id,\n  }));\n\n  const handleSubmit = (payload) => {\n    onSave({\n      ...payload,\n      salary: {\n        ...payload.salary,\n        \"13thDates\": payload.salary[\"13thDates\"].map((dateStr) => moment(dateStr, \"DD/MM/YYYY\").unix()),\n      },\n      documents: payload.documents.map(({ name, url }) => ({\n        name,\n        url: url[0]?.uid,\n      })),\n    });\n  };\n\n  const handleValuesChange = (changed) => {\n    if (changed[\"salary13thDate\"]) {\n      console.log(form.getFieldValue([\"salary\", \"13thDates\"]));\n      form.setFieldsValue({\n        salary13thDate: \"\",\n        salary: {\n          \"13thDates\": [...form.getFieldValue([\"salary\", \"13thDates\"]), changed[\"salary13thDate\"].format(\"DD/MM/YYYY\")],\n        },\n      });\n    }\n    if (changed.organizationIds) {\n      form.setFieldsValue({ branchIds: [] });\n    }\n  };\n\n  useEffect(() => {\n    getOrderStatuses().then((res) => {\n      setOrderStatuses(Object.entries(res).map(([k, v]) => ({ value: Number(k), label: v })));\n    });\n  }, []);\n  const denormInitValue = initialValues\n    ? {\n        ...initialValues,\n        password: \"\",\n        departmentIds: initialValues.departmentIds || [],\n        allowedStatuses: initialValues.allowedStatuses || [],\n        organizationIds: initialValues.organizationIds || [],\n        branchIds: initialValues.branchIds || [],\n        documents: initialValues.documents || [],\n        salary: {\n          ...initialValues.salary,\n          \"13thDates\": ((initialValues.salary || {})[\"13thDates\"] || []).map((d) => moment(d).format(\"DD/MM/YYYY\")),\n        },\n      }\n    : defaultValues;\n\n  const branchOptions = organizations.reduce(\n    (acc, { branches, _id: organization_id }) =>\n      acc.concat(\n        (branches || []).map(({ _id, title }) => ({\n          value: _id,\n          label: title,\n          organizationId: organization_id,\n        }))\n      ),\n    []\n  );\n\n  console.log(\"denormInitValue :>> \", denormInitValue);\n\n  return (\n    <ConfigProvider componentSize=\"middle\">\n      <Modal\n        title={okText}\n        onClose={onClose}\n        visible\n        okText={okText}\n        okButtonProps={{\n          form: \"user-add-modal\",\n          htmlType: \"submit\",\n          ...okButtonProps,\n        }}\n        onCancel={onClose}\n        width={1124}\n        maskClosable={false}\n        keyboard={false}\n      >\n        <Form\n          layout=\"vertical\"\n          id=\"user-add-modal\"\n          form={form}\n          onValuesChange={handleValuesChange}\n          initialValues={denormInitValue}\n          onFinish={handleSubmit}\n          size=\"middle\"\n        >\n          <Row gutter={16}>\n            <Col span={4}>\n              <Form.Item label=\"Nome\" name=\"firstName\" rules={validations.firstName}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={4}>\n              <Form.Item label=\"Sobre Nome\" name=\"lastName\" rules={validations.lastName}>\n                <Input />\n              </Form.Item>\n            </Col>\n            <Col span={6}>\n              <Form.Item label=\"Email\" name=\"email\" rules={validations.email}>\n                <Input type=\"email\" />\n              </Form.Item>\n            </Col>\n            <Col span={6}>\n              <Form.Item label=\"Senha\" name=\"password\" rules={initialValues ? undefined : validations.password}>\n                <Input.Password />\n              </Form.Item>\n            </Col>\n            <Col span={4}>\n              <Form.Item\n                label=\"Tel.\"\n                name=\"landlineNumber\"\n                rules={validations.landlineNumber}\n                trigger=\"onValueChange\"\n                getValueFromEvent={(vs) => vs.value}\n              >\n                <NumberFormat customInput={Input} format=\"(##) ##### - ####\" placeholder=\"(00) 00000 - 0000\" />\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row gutter={16}>\n            <Col span={4}>\n              <Form.Item label=\"Perfil\" name=\"roleNumber\" rules={validations.role}>\n                <Select options={roleOptions} />\n              </Form.Item>\n            </Col>\n            <Col span={10}>\n              <Form.Item noStyle dependencies={[\"roleNumber\"]}>\n                {({ getFieldValue }) => (\n                  <Form.Item\n                    label=\"Empresa\"\n                    name=\"organizationIds\"\n                    rules={[\n                      ...(getFieldValue(\"roleNumber\") === 1 && 8 ? [] : [ruleRequired]),\n                      ...(getFieldValue(\"roleNumber\") !== 1 && 8\n                        ? [\n                            {\n                              validator: nonAdminOneOrgValidator,\n                              message: \"Apenas Super Admin e Vendedores podem participar de mais de 1 empresa\",\n                            },\n                          ]\n                        : []),\n                    ]}\n                  >\n                    <Select mode=\"multiple\" options={organizationOptions} />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n            <Col span={10}>\n              <Form.Item dependencies={[\"organizationIds\", \"roleNumber\"]} noStyle>\n                {({ getFieldValue }) => (\n                  <Form.Item\n                    name=\"branchIds\"\n                    label=\"Filial\"\n                    rules={getFieldValue(\"roleNumber\") === 3 ? [ruleRequired] : undefined}\n                  >\n                    <Select\n                      mode=\"multiple\"\n                      options={branchOptions.filter(({ organizationId }) =>\n                        getFieldValue(\"organizationIds\").includes(organizationId)\n                      )}\n                      disabled={getFieldValue(\"roleNumber\") !== 3}\n                    />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row gutter={16}>\n            <Col span={3}>\n              <Form.Item dependencies={[\"roleNumber\"]} noStyle>\n                {({ getFieldValue }) => (\n                  <Form.Item\n                    className=\"ant-form-item-inline\"\n                    label=\"É vendendor?\"\n                    name=\"isRep\"\n                    rules={validations.isRep}\n                    valuePropName=\"checked\"\n                  >\n                    <Checkbox disabled={getFieldValue(\"roleNumber\") !== 3} />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n            <Col span={5}>\n              <Form.Item dependencies={[\"roleNumber\", \"isRep\"]} noStyle>\n                {({ getFieldValue }) => (\n                  <Row gutter={16}>\n                    <Col span={12}>\n                      <Form.Item\n                        label=\"% por venda\"\n                        name=\"commission\"\n                        rules={validations.commission}\n                        trigger=\"onValueChange\"\n                        getValueFromEvent={(vs) => vs.floatValue}\n                      >\n                        <NumberFormat\n                          customInput={Input}\n                          thousandSeparator=\".\"\n                          decimalSeparator=\",\"\n                          disabled={!(getFieldValue(\"roleNumber\") === 8 || getFieldValue(\"isRep\"))}\n                        />\n                      </Form.Item>\n                    </Col>\n                    <Col span={12}>\n                      <Form.Item\n                        label=\"Max. pedidos 7 dias\"\n                        name=\"maxOrders\"\n                        rules={validations.commission}\n                        trigger=\"onValueChange\"\n                        getValueFromEvent={(vs) => vs.floatValue}\n                      >\n                        <NumberFormat\n                          customInput={Input}\n                          thousandSeparator=\".\"\n                          decimalSeparator=\",\"\n                          disabled={!(getFieldValue(\"roleNumber\") === 8 || getFieldValue(\"isRep\"))}\n                        />\n                      </Form.Item>\n                    </Col>\n                  </Row>\n                )}\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item dependencies={[\"roleNumber\", \"organizationIds\"]} noStyle>\n                {({ getFieldValue }) => (\n                  <Form.Item label=\"Departamentos\" name=\"departmentIds\" rules={validations.departmentIds}>\n                    <Select\n                      mode=\"multiple\"\n                      options={departmentOptions.filter(\n                        ({ organizationId }) => organizationId === getFieldValue(\"organizationIds\")[0]\n                      )}\n                      disabled={getFieldValue(\"roleNumber\") !== 3}\n                    />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item dependencies={[\"roleNumber\"]} noStyle>\n                {({ getFieldValue }) => (\n                  <Form.Item label=\"Status Pedidos\" name=\"allowedStatuses\" rules={validations.allowedStatuses}>\n                    <Select mode=\"multiple\" options={orderStatuses} disabled={getFieldValue(\"roleNumber\") !== 3} />\n                  </Form.Item>\n                )}\n              </Form.Item>\n            </Col>\n          </Row>\n\n          <Row gutter={16}>\n            <Col span={4}>\n              <Form.Item\n                label=\"Salário\"\n                name={[\"salary\", \"salary\"]}\n                rules={validations.salary}\n                trigger=\"onValueChange\"\n                getValueFromEvent={(vs) => vs.floatValue}\n              >\n                <NumberFormat customInput={Input} thousandSeparator=\".\" decimalSeparator=\",\" />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item label=\"Frequencia\" name={[\"salary\", \"frequency\"]} rules={validations.frequency}>\n                <Radio.Group>\n                  <Radio.Button value=\"daily\">Dia</Radio.Button>\n                  <Radio.Button value=\"weekly\">Semana</Radio.Button>\n                  <Radio.Button value=\"15days\">15 Dias</Radio.Button>\n                  <Radio.Button value=\"monthly\">Mês</Radio.Button>\n                </Radio.Group>\n              </Form.Item>\n            </Col>\n            <Col span={3}>\n              <Form.Item\n                className=\"ant-form-item-inline\"\n                label=\"13° Salário\"\n                name={[\"salary\", \"13th\"]}\n                rules={validations[\"13thSalary\"]}\n                valuePropName=\"checked\"\n              >\n                <Checkbox />\n              </Form.Item>\n            </Col>\n            <Col span={9}>\n              <Form.Item dependencies={[[\"salary\", \"13th\"]]} noStyle>\n                {({ getFieldValue }) => (\n                  <Row>\n                    <Col span={18}>\n                      <Form.Item label=\"13° Data\" name={[\"salary\", \"13thDates\"]}>\n                        <Select mode=\"tags\" disabled={getFieldValue([\"salary\", \"13th\"]) !== true} />\n                      </Form.Item>\n                    </Col>\n                    <Col span={6}>\n                      <Form.Item label={\"\\u2800\"} name=\"salary13thDate\">\n                        <DatePicker disabled={getFieldValue([\"salary\", \"13th\"]) !== true} />\n                      </Form.Item>\n                    </Col>\n                  </Row>\n                )}\n              </Form.Item>\n            </Col>\n          </Row>\n          <FormList label=\"Arquivos\" name=\"documents\">\n            {(field) => (\n              <>\n                <Form.Item name={[field.name, \"name\"]} fieldKey={[field.fieldKey, \"name\"]} rules={[ruleRequired]}>\n                  <Input placeholder=\"File Name\" />\n                </Form.Item>\n                <Form.Item\n                  name={[field.name, \"url\"]}\n                  fieldKey={[field.fieldKey, \"url\"]}\n                  rules={validations.frontImageUrl}\n                  getValueFromEvent={imageFromEvent}\n                >\n                  <Upload\n                    action=\"/assets/upload?entity=user\"\n                    accept=\"image/*,.pdf\"\n                    headers={{\n                      Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                    }}\n                  >\n                    <Button>Enviar</Button>\n                  </Upload>\n                </Form.Item>\n              </>\n            )}\n          </FormList>\n        </Form>\n      </Modal>\n    </ConfigProvider>\n  );\n}\n\nexport default UserFormModal;\n","import React, { useEffect, useMemo } from \"react\";\n\nimport { Button, Confirm, Input, Pagination, Table } from \"semantic-ui-react\";\n\nimport { useState } from \"react\";\nimport UserFormModal from \"./UserFormModal\";\nimport useFetch from \"../../helpers/useFetch\";\nimport useList from \"src/helpers/useList\";\nimport NumberFormat from \"react-number-format\";\nconst searchFields = \"*\";\n\nconst Span = ({ value }) => <span>{value}</span>;\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => (a === \"status change\" ? `failed to change status of ${n}` : `failed to ${a} ${n}`),\n};\n\nfunction useUser() {\n  const [[id, payload, method], setPayload] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"add\" && payload) return [\"/api/admins\", { method: \"POST\", body: JSON.stringify(payload) }];\n    if (method === \"update\" && id && payload) return [`/api/admins/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && id) return [`/api/admins/${id}`, { method: \"DELETE\" }];\n\n    if (method === \"status change\" && id && payload)\n      return [`/api/admins/${id}/status`, { method: \"POST\", body: JSON.stringify(payload) }];\n    return [undefined, undefined];\n  }, [payload, method, id]);\n  const [, status] = useFetch(...opts);\n\n  const add = (payload) => setPayload([undefined, payload, \"add\"]);\n  const edit = (payload, id) => setPayload([id, payload, \"update\"]);\n  const del = (id) => setPayload([id, undefined, \"delete\"]);\n\n  status.action = method;\n  status.message = msgTemplate[status.code] ? msgTemplate[status.code](\"user\", method) : \"\";\n\n  return [add, edit, del, status];\n}\n\nfunction useUsers() {\n  return useList(\"/api/admins\", searchFields);\n}\n\nfunction AdminsPage(props) {\n  const [add, edit, del, actionStatus] = useUser();\n  const [users, { total, pages }, search, goto, , filters, , refresh] = useUsers();\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(false);\n  const [selectedForEdit, setSelectedForEdit] = useState();\n  const [selectedForDelete, setSelectedForDelete] = useState();\n  const closeEditModal = () => setSelectedForEdit(undefined);\n  const handleEdit = (i) => () => setSelectedForEdit(i);\n\n  const handleDelete = (id) => () => setSelectedForDelete(id);\n  const closeDeleteConfirmation = () => setSelectedForDelete(undefined);\n\n  const handleSearch = (event) => {\n    search(event.target.value);\n  };\n\n  const clearSearch = () => {\n    search(\"\");\n  };\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      props.addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        closeAddModal();\n        closeEditModal();\n        closeDeleteConfirmation();\n        refresh();\n      }\n    }\n  }, [actionStatus]);\n\n  const showAddModal = () => setShouldShowAddModal(true);\n  const closeAddModal = () => setShouldShowAddModal(false);\n\n  return (\n    <div className=\"container\">\n      <div>\n        <h2 style={{ display: \"inline\", marginRight: 16 }}>Admins</h2>\n        <span>Total admins: {total}</span>\n        <div class=\"ui action input\" style={{ marginLeft: 16 }}>\n          <Input type=\"text\" placeholder=\"Search...\" onChange={handleSearch} value={filters.searchText} />\n          <button class=\"ui icon button\" onClick={clearSearch}>\n            <i class=\"delete icon\"></i>\n          </button>\n        </div>\n        <div style={{ float: \"right\" }}>\n          <Button onClick={showAddModal} primary>\n            Add User\n          </Button>\n        </div>\n      </div>\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Actions</Table.HeaderCell>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>First Name</Table.HeaderCell>\n            <Table.HeaderCell>Last Name</Table.HeaderCell>\n            <Table.HeaderCell>Email</Table.HeaderCell>\n            <Table.HeaderCell>Landline Number</Table.HeaderCell>\n            <Table.HeaderCell>Role</Table.HeaderCell>\n            <Table.HeaderCell>Organization</Table.HeaderCell>\n            <Table.HeaderCell>Documents</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {users.map((user) => (\n            <Table.Row key={user._id}>\n              <Table.Cell>\n                <Button icon=\"edit\" basic onClick={handleEdit(user)} size=\"mini\" />\n                <Button icon=\"trash alternate\" negative basic onClick={handleDelete(user._id)} size=\"mini\" />\n              </Table.Cell>\n              <Table.Cell>{user._id}</Table.Cell>\n              <Table.Cell>{user.firstName}</Table.Cell>\n              <Table.Cell>{user.lastName}</Table.Cell>\n              <Table.Cell>{user.email}</Table.Cell>\n              <Table.Cell>\n                {<NumberFormat customInput={Span} defaultValue={user.landlineNumber} format=\"(##) ##### - ####\" readOnly />}\n              </Table.Cell>\n              <Table.Cell>{(user.role || {}).name}</Table.Cell>\n              <Table.Cell>{user.organizations.map(({ title }) => title).join(\",\")}</Table.Cell>\n              <Table.Cell>\n                {(user.documents || []).map(({ name, url }) => (\n                  <>\n                    <a href={url} target=\"_blank\">\n                      {name}\n                    </a>\n                    <br />\n                  </>\n                ))}\n              </Table.Cell>\n            </Table.Row>\n          ))}\n        </Table.Body>\n\n        <Table.Footer>\n          <Table.Row>\n            <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n              <Pagination\n                activePage={filters.currentPage}\n                totalPages={pages}\n                onPageChange={(_, { activePage }) => goto(activePage)}\n              />\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n      {shouldShowAddModal && <UserFormModal okText={__(\"Add User\")} onClose={closeAddModal} onSave={add} />}\n      {selectedForEdit && (\n        <UserFormModal\n          onSave={(payload) => edit(payload, selectedForEdit._id)}\n          onClose={closeEditModal}\n          initialValues={selectedForEdit}\n          okButtonProps={{ disabled: actionStatus.isLoading }}\n          okText={__(\"Update User\")}\n        />\n      )}\n      {selectedForDelete && (\n        <Confirm\n          open\n          content=\"Deseja mesmo remover o Usuário?\"\n          onCancel={closeDeleteConfirmation}\n          onConfirm={() => del(selectedForDelete)}\n          cancelButton=\"Não\"\n          confirmButton=\"Sim, Remover\"\n        />\n      )}\n    </div>\n  );\n}\n\nexport default AdminsPage;\n","import React from \"react\";\nimport { Button, Card, Confirm, Table } from \"semantic-ui-react\";\nimport { getOrder, getOrderPayments, deleteTransaction } from \"../../../services/orderService\";\nimport { formatDate, formatNumber, stringifyOrderStatus } from \"../../../helpers/formatters\";\nimport moment from \"moment\";\nimport QRCode from \"qrcode.react\";\nimport currencyFormatter from \"../../../helpers/currencyFormatterPrefix\";\nimport { staticFormOptions } from \"../../../helpers/options\";\nimport AddOrderPaymentModal from \"src/components/OrderComponents/AddOrderPaymentModal\";\nimport { Link } from \"@reach/router\";\nimport QRModal from \"src/components/QRModal\";\nimport OrganizationAddr from \"src/components/OrganizationAddr\";\nimport { withTranslation } from \"react-i18next\";\nimport { measurementValueDisplay, nf } from \"src/helpers\";\n\nimport { Descriptions, Breadcrumb } from 'antd';\nimport 'antd/dist/antd.css';\n\nimport { HomeOutlined, UserOutlined } from '@ant-design/icons';\n\nclass OrderViewPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      order: { items: [] },\n      trxs: [],\n      transactionToEdit: undefined,\n      transactionToDelete: undefined,\n      shouldShowQR: false,\n    };\n  }\n\n  fetchTransactions = () => {\n    getOrderPayments(this.props.id)\n      .then((resp) => this.setState({ trxs: resp.data }, () => console.log(this.state)))\n      .catch((err) =>\n        this.props.addToast(\"Could not fetch related transactions\", {\n          appearance: \"error\",\n        })\n      );\n  };\n\n  fetchOrderAndTransactions = () => {\n    getOrder(this.props.id)\n      .then((resp) => this.setState({ order: resp }))\n      .catch((err) => this.props.addToast(\"Could not fetch order\", { appearance: \"error\" }));\n\n    this.fetchTransactions();\n  };\n\n  componentDidMount() {\n    this.fetchOrderAndTransactions();\n  }\n\n  handleEdit = (transaction) => () => {\n    this.setState({ transactionToEdit: transaction });\n  };\n\n  handleDelete = (transactionId) => () => {\n    this.setState({ transactionToDelete: transactionId });\n  };\n\n  handleConfirmDelete = () => {\n    const { t } = this.props;\n    deleteTransaction(this.state.order._id, this.state.transactionToDelete)\n      .then((resp) => {\n        this.props.addToast(t(\"Transaction\") + \" \" + t(\"deleted successfully\"), {\n          appearance: \"success\",\n        });\n        this.closeDeleteConfirmation();\n        this.fetchOrderAndTransactions();\n      })\n      .catch((err) => {\n        this.props.addToast(t(\"Could not delete\") + \" \" + t(\"transaction\"), {\n          appearance: \"error\",\n        });\n        this.closeDeleteConfirmation();\n      });\n  };\n\n  closeTransactionEditModal = () => {\n    this.setState({ transactionToEdit: undefined });\n  };\n\n  handleAfterTransactionSave = () => {\n    this.setState({ transactionToEdit: undefined }, this.fetchOrderAndTransactions);\n  };\n\n  closeDeleteConfirmation = () => {\n    this.setState({ transactionToDelete: undefined });\n  };\n\n  showQR = () => {\n    this.setState({ shouldShowQR: true });\n  };\n  hideQR = () => {\n    this.setState({ shouldShowQR: false });\n  };\n\n\n\n  prepareTransactionsTable = (trxs) => {\n    const { t } = this.props;\n    return (\n      <Table.Body>\n        {trxs.map((trx) => (\n          <Table.Row key={trx._id}>\n            <Table.Cell className=\"noprint\">\n              {[1, 2].includes(this.props.admin.roleNumber) && (\n                <>\n                  <Button icon=\"edit\" basic onClick={this.handleEdit(trx)} size=\"mini\" />\n                  <Button icon=\"trash alternate\" negative basic onClick={this.handleDelete(trx._id)} size=\"mini\" />\n                </>\n              )}\n            </Table.Cell>\n            <Table.Cell>{moment(trx.createdAt * 1000).format(\"DD/MM/YYYY\")}</Table.Cell>\n            <Table.Cell>\n              {staticFormOptions.paymentOptions.find(({ value }) => value === trx.method)?.text}\n              <br />\n              {trx.method === 4 && trx.chequeId && <Link to={`/cheques`}>({trx.chequeId})</Link>}\n            </Table.Cell>\n            <Table.Cell>{currencyFormatter.format(trx.amount)}</Table.Cell>\n            <Table.Cell>\n              {trx.fileLink && (\n                <a target=\"_blank\" href={`/assets/${trx.fileLink}`}>\n                  📎 {t(\"attachment\")}\n                </a>\n              )}\n            </Table.Cell>\n            <Table.Cell>{trx.comment}</Table.Cell>\n          </Table.Row>\n        ))}\n      </Table.Body>\n    );\n  };\n\n  render() {\n    const { order } = this.state;\n    const { items: products } = order;\n    const { t } = this.props;\n\n    const totalWithoutDiscount = products.reduce((acc, p) => {\n      return p.measurementValue.reduce((acc, v) => acc * v, 1) * p.price * p.amount + acc;\n    }, 0);\n\n    return (\n      <div style={{ display: \"grid\"}}>\n        <div className=\"container\">\n        <div className=\"noprint\">    <Breadcrumb>\n    <Breadcrumb.Item href=\"/\">\n      <HomeOutlined />\n    </Breadcrumb.Item>\n    <Breadcrumb.Item href=\"/orders\">\n      <UserOutlined />\n      <span>{t(\"Orders\")}</span>\n    </Breadcrumb.Item>\n    <Breadcrumb.Item>{t(\"Detalhes\")}</Breadcrumb.Item>\n    </Breadcrumb>\n    </div>\n        <Button primary className=\"noprint\" style={{ marginBottom: 16, float: \"right\" }} onClick={() => window.print()}>\n            <i class=\"print icon\"></i>\n            {t(\"Print\")}\n          </Button>\n          <QRModal className=\"noprint\" style={{ marginBottom: 16, float: \"right\" }} fileName={this.state.order?._id} />      \n    <Descriptions title={t(\"Invoice\")}bordered>\n \n\n    <Descriptions.Item><OrganizationAddr organization={this.state.order.organization} /></Descriptions.Item>\n\n    <Descriptions.Item>\n    {t(\"Order ID\")}:&nbsp;<strong>{order.orderId}:</strong>&nbsp;&nbsp;{t(\"Total Items\")}:&nbsp;<strong>{formatNumber(order.totalUnits)}</strong> \n    <br></br>{t(\"Created At\")}:&nbsp;<strong>{formatDate(order.createdAt)}</strong>\n    <br></br>{t(\"Created By\")} {order.user?.firstName + \" \" + order.user?.lastName}\n    <br></br>{t(\"Last Pay date\")}:&nbsp;<strong>\n                  {this.state.trxs.length > 0\n                    ? moment(this.state.trxs.sort((a, b) => b.createdAt - a.createdAt)[0].createdAt * 1000).format(\"DD/MM/YYYY\")\n                    : \"-\"}</strong>\n    </Descriptions.Item>\n    \n    <Descriptions.Item>{t(\"Bill To\")}<h5><strong>{this.state.order.client?.firstName + \" \" + this.state.order.client?.lastName}</strong></h5>{this.state.order.client?.address}<br></br>{this.state.order.client?.cellNumber}\n    <strong>{stringifyOrderStatus(t, order.status)}</strong>\n    </Descriptions.Item>\n    </Descriptions>\n    <br></br>\n\n          <Table celled className=\"noprint\">\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell>{t(\"Property\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Value\")}</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n\n            <Table.Body>\n            \n              <Table.Row>\n                <Table.Cell></Table.Cell>\n                <Table.Cell></Table.Cell>\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n                <Table.Cell>{t(\"Total Cost\")}</Table.Cell>\n                <Table.Cell>{currencyFormatter.format(order.totalCost)}</Table.Cell>\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n                <Table.Cell>{t(\"Total Paid\")}</Table.Cell>\n                <Table.Cell>{currencyFormatter.format(order.totalPaid)}</Table.Cell>\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n                <Table.Cell>{t(\"Comment\")}</Table.Cell>\n                <Table.Cell>{order.comment}</Table.Cell>\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n                <Table.Cell>{t(\"Est. Conclusion Date\")}</Table.Cell>\n                <Table.Cell>{order.estConclusionDate ? moment(order.estConclusionDate).format(\"DD/MM/YYYY\") : \"-\"}</Table.Cell>\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n                <Table.Cell>{t(\"Client\")}</Table.Cell>\n                <Table.Cell>{order.client && order.client.firstName + \" \" + order.client.lastName}</Table.Cell>\n              </Table.Row>\n              <Table.Row className=\"noprint\">\n                <Table.Cell>{t(\"Documents\")}</Table.Cell>\n                <Table.Cell>\n                  {(order.documents || []).map((url) => (\n                    <>\n                      <a href={url} target=\"_blank\">\n                        {url}\n                      </a>\n                      <br />\n                    </>\n                  ))}\n                </Table.Cell>\n              </Table.Row>\n            </Table.Body>\n          </Table>\n\n          <h4>{t(\"Products\")}</h4>\n          <Table celled>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell>{t(\"Title\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Comment\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Unit Price\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Dimensions\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Quantity\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Total\")}</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            <Table.Body>\n              {this.state.order.items.map((product) => (\n                <Table.Row key={product.productId}>\n                  <Table.Cell>{product.title}</Table.Cell>\n                  <Table.Cell>{product.comment}</Table.Cell>\n                  <Table.Cell>{currencyFormatter.format(product.price)}</Table.Cell>\n                  <Table.Cell>{measurementValueDisplay(product.measurementValue)}</Table.Cell>\n                  <Table.Cell>{nf(product.amount)}</Table.Cell>\n                  <Table.Cell>\n                    {currencyFormatter.format(\n                      product.measurementValue.reduce((acc, v) => acc * v, 1) * product.amount * product.price\n                    )}\n                  </Table.Cell>\n                </Table.Row>\n              ))}\n\n              <Table.Row>\n                <Table.Cell colspan=\"5\" textAlign=\"right\">\n                  <strong>{t(\"Gross Total\")}</strong>\n                </Table.Cell>\n                <Table.Cell>\n                  <strong>{currencyFormatter.format(totalWithoutDiscount)}</strong>\n                </Table.Cell>\n              </Table.Row>\n\n              <Table.Row>\n                <Table.Cell colspan=\"5\" textAlign=\"right\">\n                  {t(\"Discount\")}\n                </Table.Cell>\n                <Table.Cell>\n                  - {currencyFormatter.format(totalWithoutDiscount - order.totalCost)} ({this.state.order.discount}%)\n                </Table.Cell>\n              </Table.Row>\n\n              <Table.Row>\n                <Table.Cell colspan=\"5\" textAlign=\"right\">\n                  <strong>{t(\"Total\")}</strong>\n                </Table.Cell>\n                <Table.Cell>\n                  <strong>{currencyFormatter.format(this.state.order.totalCost)}</strong>\n                </Table.Cell>\n              </Table.Row>\n            </Table.Body>\n          </Table>\n\n          <h4>{t(\"Transactions\")}</h4>\n          <Table celled>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell className=\"noprint\">{t(\"Actions\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Date\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Method\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Amount\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Proof\")}</Table.HeaderCell>\n                <Table.HeaderCell>{t(\"Comment\")}</Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            {this.prepareTransactionsTable(this.state.trxs)}\n          </Table>\n          {this.state.transactionToEdit && (\n            <AddOrderPaymentModal\n              order={this.state.order}\n              addToast={this.props.addToast}\n              initialValues={this.state.transactionToEdit}\n              loadOrders={this.fetchTransactions}\n              onClose={this.closeTransactionEditModal}\n              afterSave={this.handleAfterTransactionSave}\n            />\n          )}\n          {this.state.transactionToDelete && (\n            <Confirm\n              open\n              content={t(\"Are you sure you want to delete\") + \" \" + t(\"transaction\") + \" ?\"}\n              onCancel={this.closeDeleteConfirmation}\n              onConfirm={this.handleConfirmDelete}\n              cancelButton={t(\"No\")}\n              confirmButton={t(\"Yes\")}\n            />\n          )}\n          <QRCode  style={{ textAlign: \"center\", marginTop: 5 }} className=\"printonly\" id=\"qr-canvas\" value={window.location.href} size={50}/>\n        </div>\n        \n        <div className=\"noprint\" style={{ padding: \"20px 5%\" }}>\n          {this.props.admin._id === this.state.order.user?._id &&\n            this.state.order.user?.roleNumber === 1 &&\n            [2, 3, 8].includes(this.state.order.status) && (\n              <Card>\n                <Card.Content>\n                  <Card.Header content={t(\"Your Commission\")} />\n                  <Card.Description\n                    content={\n                      <div style={{ textAlign: \"center\", marginTop: 16 }}>\n                        <span\n                          style={{\n                            color: \"#508cfe\",\n                            fontSize: 24,\n                            fontWeight: \"bold\",\n                            marginRight: 8,\n                          }}\n                        >\n                          {currencyFormatter.format((this.state.order.user?.commission * this.state.order.totalCost) / 100)}\n                        </span>\n                        <span>({`${this.state.order.user?.commission} %`})</span>\n                      </div>\n                    }\n                  />\n                </Card.Content>\n              </Card>\n            )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withTranslation(\"translation\")(OrderViewPage);\n","import React from \"react\";\nimport { Form } from \"semantic-ui-react\";\n\nconst isNumericInput = (event) => {\n  const key = event.keyCode;\n  return (\n    (key >= 48 && key <= 57) || // Allow number line\n    (key >= 96 && key <= 105) // Allow number pad\n  );\n};\n\nconst isModifierKey = (event) => {\n  const key = event.keyCode;\n  return (\n    event.shiftKey === true ||\n    key === 35 ||\n    key === 36 || // Allow Shift, Home, End\n    key === 8 ||\n    key === 9 ||\n    key === 13 ||\n    key === 46 || // Allow Backspace, Tab, Enter, Delete\n    (key > 36 && key < 41) || // Allow left, up, right, down\n    // Allow Ctrl/Command + A,C,V,X,Z\n    ((event.ctrlKey === true || event.metaKey === true) &&\n      (key === 65 || key === 67 || key === 86 || key === 88 || key === 90))\n  );\n};\n\nconst NUM_LENGTH = 11;\nconst enforceFormat = (event) => {\n  // Input must be of a valid number format or a modifier key, and not longer than ten digits\n  if (!isNumericInput(event) && !isModifierKey(event)) {\n    event.preventDefault();\n  }\n};\n\nconst formatEVToPhone = (event) => {\n  if (isModifierKey(event)) {\n    return;\n  }\n\n  event.target.value = formatToPhone(event.target.value);\n};\nconst formatToPhone = (number) => {\n  const input = number.replace(/\\D/g, \"\").substring(0, NUM_LENGTH); // First ten digits of input only\n  const area = input.substring(0, 2);\n  const middle = input.substring(2, 7);\n  const last = input.substring(7, NUM_LENGTH);\n\n  if (input.length > 7) {\n    return `(${area}) ${middle} - ${last}`;\n  } else if (input.length > 2) {\n    return `(${area}) ${middle}`;\n  } else if (input.length > 0) {\n    return `(${area}`;\n  }\n};\n\nconst InputNumber = ({ onChange, defaultValue, ...props }) => {\n  const handleChange = (e) => {\n    onChange(\n      Number(e.target.value.replace(/\\D/g, \"\").substring(0, NUM_LENGTH))\n    );\n  };\n  return (\n    <Form.Input\n      placeholder=\"(00) 00000 - 0000\"\n      onKeyDown={enforceFormat}\n      onKeyUp={formatEVToPhone}\n      onChange={handleChange}\n      maxLength={17}\n      defaultValue={\n        defaultValue ? formatToPhone(defaultValue.toString()) : undefined\n      }\n      {...props}\n    />\n  );\n};\n\nexport default InputNumber;\n\n//https://stackoverflow.com/a/30058928/6748719\n","import React from \"react\";\nimport { Upload } from \"antd\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\n\nfunction ImageUpload({ onUpload, fileList: inFileList, ...rest }) {\n  const [fileList, setFileList] = useState([]);\n\n  const handleChange = ({ fileList, file }) => {\n    setFileList(fileList);\n    if (file.status === \"done\") {\n      onUpload(file.response);\n    }\n  };\n\n  useEffect(() => {\n    setFileList(inFileList);\n  }, [inFileList]);\n\n  return (\n    <Upload\n      accept=\".jpg, .jpeg, .png\"\n      listType=\"picture-card\"\n      fileList={fileList}\n      onChange={handleChange}\n      headers={{ Authorization: \"Bearer \" + localStorage.getItem(\"token\") }}\n      {...rest}\n    >\n      {fileList.length === 0 && (\n        <div>\n          <PlusOutlined />\n          <div style={{ marginTop: 8 }}>Upload logo</div>\n        </div>\n      )}\n    </Upload>\n  );\n}\n\nexport default ImageUpload;\n","import React, { useState } from \"react\";\nimport { Button, Divider, Form, Icon, Modal } from \"semantic-ui-react\";\nimport { isTextValid } from \"../../../helpers/validations\";\nimport InputNumber from \"../../InputNumber\";\nimport { useEffect } from \"react\";\nimport ImageUpload from \"../../ImageUpload\";\nimport { useMemo } from \"react\";\n\nconst OrganizationForm = ({ org = {}, submit, addToast, componentName, loadOrgs }) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [title, setTitle] = useState(org.title);\n  const [isTitleValid, setIsTitleValid] = useState(true);\n  const [logoUrl, setLogoPath] = useState(org?.logoUrl);\n  const [description, setDescription] = useState(org.description);\n  const [isDescriptionValid, setIsDescriptionValid] = useState(true);\n  const [branches, setBranches] = useState(org.branches || []);\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleFormSubmit = async () => {\n    const isValid = isDescriptionValid && isTitleValid;\n    if (!isValid || isLoading) {\n      return;\n    }\n    setIsLoading(true);\n    await submit({ title, description, branches, logoUrl })\n      .then((resp) => {\n        addToast(`Organization ${org.title ? \"updated\" : \"created\"} successfully`, { appearance: \"success\" });\n        window.location.reload(); // refreshes organizaionts in dropdown in header\n      })\n      .catch((err) => {\n        addToast(err.message, { appearance: \"error\" });\n      });\n    setIsLoading(false);\n    handleCloseModal();\n  };\n\n  const toggleModalState = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  const handleCloseModal = () => {\n    loadOrgs();\n    toggleModalState();\n\n    setTitle(\"\");\n    setIsTitleValid(true);\n    setDescription(\"\");\n    setIsDescriptionValid(true);\n  };\n\n  const addBranchItem = () => {\n    setBranches([...branches, { id: branches.length }]);\n  };\n  const updateBranchItem = (propValue, propName, index) => {\n    const newBranches = branches;\n    newBranches[index][propName] = propValue;\n    console.log(\"newBranches :>> \", newBranches);\n    setBranches(newBranches);\n  };\n\n  useEffect(() => {\n    setIsDescriptionValid(isTextValid(description, 5, 0));\n  }, [description]);\n\n  const defaultFileList = useMemo(() => {\n    return logoUrl\n      ? [\n          {\n            uid: \"0\",\n            name: \"logo.png\",\n            status: \"done\",\n            headers: {\n              Authorization: \"Bearer \" + localStorage.getItem(\"token\"),\n            },\n            url: logoUrl,\n          },\n        ]\n      : [];\n  }, [logoUrl]);\n  return (\n    <Modal\n      trigger={\n        <Button onClick={toggleModalState} className={componentName === \"Edit\" ? \"table-action-btn\" : \"generic-create-btn\"}>\n          {\" \"}\n          {componentName === \"Edit\" ? <Icon name=\"pencil\" /> : <span>{componentName}</span>}\n        </Button>\n      }\n      closeIcon\n      open={isModalOpen}\n      onClose={handleCloseModal}\n    >\n      <Modal.Header>{componentName} a organization</Modal.Header>\n      <Modal.Content>\n        <Form name=\"createOrgForm\" size=\"large\">\n          <Form.Input\n            fluid\n            placeholder=\"Titulo\"\n            label=\"Titulo\"\n            value={title}\n            error={!isTitleValid}\n            onChange={(ev) => setTitle(ev.target.value)}\n            onBlur={() => setIsTitleValid(isTextValid(title, 3, 0))}\n          />\n          <Form.TextArea\n            fluid\n            placeholder=\"Descrição\"\n            label=\"Descrição\"\n            value={description}\n            error={!isDescriptionValid}\n            onChange={(ev) => setDescription(ev.target.value)}\n          />\n          <ImageUpload\n            onUpload={({ message }) => setLogoPath(message)}\n            action=\"/assets/upload?entity=organization\"\n            accept=\".jpg, .jpeg\"\n            name=\"file\"\n            fileList={defaultFileList}\n          />\n          <Divider />\n          {branches.map((branch, index) => (\n            <React.Fragment key={branch._id}>\n              <Form.Group widths=\"equal\" key={branch._id}>\n                <Form.Input\n                  fluid\n                  placeholder=\"Titulo\"\n                  label={\"Branch # \" + index + \" title\"}\n                  value={branch.title}\n                  error={!isTextValid(title, 3, 0)}\n                  onChange={(ev) => updateBranchItem(ev.target.value, \"title\", index)}\n                  onBlur={() => setIsTitleValid(isTextValid(title, 3, 0))}\n                />\n\n                <InputNumber\n                  label=\"Phone Number\"\n                  onChange={(value) => updateBranchItem(value, \"phoneNumber\", index)}\n                  defaultValue={branch.phoneNumber}\n                />\n              </Form.Group>\n              <Form.TextArea\n                fluid\n                placeholder=\"Descrição\"\n                label={\"Branch # \" + index + \" description\"}\n                defaultValue={branch.description}\n                error={!isTextValid(branch.description, 3, 0)}\n                onChange={(ev) => updateBranchItem(ev.target.value, \"description\", index)}\n                // onBlur={() => setIsDescriptionValid(isTextValid(description))}\n              />\n            </React.Fragment>\n          ))}\n          <Form.Button fluid onClick={addBranchItem}>\n            Add a branch\n          </Form.Button>\n\n          <Button onClick={handleFormSubmit} color=\"teal\" fluid size=\"small\" loading={isLoading} primary>\n            Submit\n          </Button>\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nexport default OrganizationForm;\n","import React from \"react\";\nimport { Button, List, Pagination, Table } from \"semantic-ui-react\";\nimport OrganizationForm from \"../CreateOrganizationForm\";\nimport { updateOrganization } from \"../../../services/organizationsService\";\n\nconst OrganizationList = ({ orgs, filters, pages, onPageChange, addToast, loadOrgs, handleDelete }) => {\n  return (\n    <Table celled>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>Actions</Table.HeaderCell>\n          <Table.HeaderCell>OrganizationID</Table.HeaderCell>\n          <Table.HeaderCell>ID</Table.HeaderCell>\n          <Table.HeaderCell>Titulo</Table.HeaderCell>\n          <Table.HeaderCell>Descrição</Table.HeaderCell>\n          <Table.HeaderCell>Branches </Table.HeaderCell>\n        </Table.Row>\n      </Table.Header>\n\n      <Table.Body>\n        {orgs.map((org) => (\n          <Table.Row>\n            <Table.Cell>\n              <Button\n                style={{ marginRight: 16 }}\n                icon=\"trash alternate\"\n                negative\n                basic\n                onClick={handleDelete(org._id)}\n                size=\"mini\"\n              />\n              <OrganizationForm\n                org={org}\n                submit={(req) => updateOrganization(org._id, req)}\n                addToast={addToast}\n                componentName={\"Edit\"}\n                loadOrgs={loadOrgs}\n              />\n            </Table.Cell>\n            <Table.Cell>{org._id}</Table.Cell>\n            <Table.Cell>{org.organizationId}</Table.Cell>\n            <Table.Cell>{org.title}</Table.Cell>\n            <Table.Cell>{org.description}</Table.Cell>\n\n            <Table.Cell>\n              <List bulleted>{org.branches && org.branches.map((branch) => <List.Item>{branch.title}</List.Item>)}</List>\n            </Table.Cell>\n          </Table.Row>\n        ))}\n      </Table.Body>\n\n      <Table.Footer>\n        <Table.Row>\n          <Table.HeaderCell colSpan=\"20\" style={{ textAlign: \"right\" }}>\n            <Pagination\n              activePage={filters.currentPage}\n              totalPages={pages}\n              onPageChange={(_, { activePage }) => onPageChange(activePage)}\n            />\n          </Table.HeaderCell>\n        </Table.Row>\n      </Table.Footer>\n    </Table>\n  );\n};\n\nexport default OrganizationList;\n","import React from \"react\";\nimport { Modal } from \"antd\";\nimport { ExclamationCircleOutlined } from \"@ant-design/icons\";\n\nconst { confirm } = Modal;\n\nfunction confirmCallback(title, okText, cb) {\n  confirm({\n    title: title,\n    icon: <ExclamationCircleOutlined />,\n    okText: okText,\n    cancelText: \"No\",\n    onOk() {\n      cb();\n    },\n  });\n}\n\nexport default confirmCallback;\n","import React, { useEffect } from \"react\";\nimport { createOrganization } from \"../../services/organizationsService\";\nimport OrganizationList from \"../../components/OrganizationComponents/OrganizationList\";\nimport OrganizationForm from \"../../components/OrganizationComponents/CreateOrganizationForm\";\nimport { useOrganization } from \"src/hooks\";\nimport { Input } from \"semantic-ui-react\";\nimport useList from \"src/helpers/useList\";\nimport confirmCallback from \"src/components/confirmCallback\";\n\nconst searchFields = \"*\";\n\nfunction useOrganizations() {\n  return useList(\"/api/v2/organizations\", searchFields);\n}\n\nfunction OrganizationsPage(props) {\n  const [organizations, { total, pages }, search, goto, sort, filters, status, refresh] = useOrganizations();\n  const { del, status: actionStatus } = useOrganization();\n  const handleSearch = (event) => {\n    search(event.target.value);\n  };\n\n  const handleDelete = (_id) => () => {\n    confirmCallback(\"This will delete everything related to organization. Do you want to continue ?\", \"Delete\", () => del(_id));\n  };\n\n  const clearSearch = () => {\n    search(\"\");\n  };\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      props.addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        // clears org dropdown, if current selected org deleted\n        localStorage.removeItem(\"organizationId\");\n        window.location.reload();\n      }\n    }\n  }, [actionStatus]);\n\n  return (\n    <div className=\"container\">\n      <h2>Organizations</h2>\n      <OrganizationForm addToast={props.addToast} loadOrgs={refresh} componentName={\"Create\"} submit={createOrganization} />\n      <div>\n        <span>Total organizations: {total}</span>\n        <div class=\"ui action input\" style={{ marginLeft: 16 }}>\n          <Input type=\"text\" placeholder=\"Search...\" onChange={handleSearch} value={filters.searchText} />\n          <button class=\"ui icon button\" onClick={clearSearch}>\n            <i class=\"delete icon\"></i>\n          </button>\n        </div>\n      </div>\n\n      <OrganizationList\n        orgs={organizations}\n        addToast={props.addToast}\n        filters={filters}\n        loadOrgs={refresh}\n        pages={pages}\n        onPageChange={goto}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n}\n\nexport default OrganizationsPage;\n","export default new Intl.NumberFormat(\"pt-BR\", {\n  style: \"currency\",\n  currency: \"BRL\",\n}).format;\n","import React from \"react\";\nimport { Col, Form, Modal, Row, Upload, Button, Select, Input } from \"antd\";\nimport { useNewCheques } from \"src/hooks\";\n\nimport currencyFormatterPrefix from \"src/helpers/currencyFormatterPrefix\";\nimport { useMemo } from \"react\";\nimport NumberFormat from \"react-number-format\";\nimport { useTranslation } from \"react-i18next\";\n\nconst ruleRequired = { required: true };\nconst validations = {\n  method: [ruleRequired],\n  amount: [ruleRequired, { min: 1, type: \"number\" }],\n};\n\nconst imageFromEvent = ({ fileList }) => {\n  const file = fileList.slice(-1)[0];\n  if (file?.status === \"removed\") {\n    return fileList.slice(0, -1);\n  }\n\n  if (file?.response?.message) {\n    file.uid = file?.response?.message;\n    file.url = file?.response?.message;\n    file.name = file?.response?.message;\n  }\n  return fileList;\n};\n\nfunction MakePaymentModal({ okText, onClose, onSave, initialValues }) {\n  const { t } = useTranslation([\"translation\"]);\n  const [form] = Form.useForm();\n  const [cheques, chequesStatus] = useNewCheques();\n  const handleSubmit = (payload) => {\n    onSave({\n      ...payload,\n      chequeIds: payload.chequeIds,\n    });\n  };\n\n  const chequeAmountValidator = (rule, value) => {\n    const chequeTotal = cheques.reduce((acc, c) => (value.includes(c._id) ? acc + c.amount : acc + 0), 0);\n    const amount = form.getFieldValue(\"amount\");\n    if (amount > chequeTotal) {\n      return Promise.reject(\"\");\n    }\n    return Promise.resolve();\n  };\n\n  const chequeOptions = cheques.map(({ _id, no, amount }) => ({\n    label: `${no} (${currencyFormatterPrefix.format(amount)})`,\n    value: _id,\n  }));\n\n  const denormInitialValues = useMemo(() => {\n    return {\n      amount: initialValues?.amount,\n    };\n  }, [initialValues]);\n\n  return (\n    <Modal\n      title={okText}\n      onClose={onClose}\n      visible\n      okText={okText}\n      okButtonProps={{\n        form: \"make-payment-modal\",\n        htmlType: \"submit\",\n      }}\n      onCancel={onClose}\n      width={800}\n      maskClosable={false}\n      keyboard={false}\n    >\n      <Form layout=\"vertical\" id=\"make-payment-modal\" onFinish={handleSubmit} initialValues={denormInitialValues} form={form}>\n        <Row gutter={16}>\n          <Col span={6}>\n            <Form.Item\n              label={t(\"Amount\")}\n              name=\"amount\"\n              rules={validations.amount}\n              trigger=\"onValueChange\"\n              getValueFromEvent={(vs) => vs.floatValue}\n            >\n              <NumberFormat customInput={Input} thousandSeparator=\".\" decimalSeparator=\",\" />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item label={t(\"Method of Payment\")} name=\"method\" rules={validations.method}>\n              <Select>\n                <Select.Option value=\"cheque\">{t(\"Cheque\")}</Select.Option>\n                <Select.Option value=\"cash\">{t(\"Cash\")}</Select.Option>\n                <Select.Option value=\"credit card\">{t(\"Credit Card\")}</Select.Option>\n                <Select.Option value=\"debit card\">{t(\"Debit Card\")}</Select.Option>\n                <Select.Option value=\"boleto\">{t(\"Boleto\")}</Select.Option>\n                <Select.Option value=\"deposit\">{t(\"Deposit\")}</Select.Option>\n              </Select>\n            </Form.Item>\n          </Col>\n          <Col span={10}>\n            <Form.Item dependencies={[\"method\", \"amount\"]} noStyle>\n              {({ getFieldValue }) => (\n                <Form.Item\n                  label={t(\"Cheques\")}\n                  name=\"chequeIds\"\n                  rules={\n                    getFieldValue(\"method\") === \"cheque\"\n                      ? [\n                          {\n                            validator: chequeAmountValidator,\n                            message: t(\"cheque total should be >= expense amount\"),\n                          },\n                        ]\n                      : undefined\n                  }\n                >\n                  <Select\n                    mode=\"multiple\"\n                    options={chequeOptions}\n                    loading={chequesStatus.isLoading}\n                    disabled={getFieldValue(\"method\") !== \"cheque\"}\n                    allowClear\n                  ></Select>\n                </Form.Item>\n              )}\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row>\n          <Col span={12}>\n            <Form.Item\n              label={t(\"Receipt\")}\n              name=\"receipts\"\n              getValueFromEvent={imageFromEvent}\n              valuePropName=\"fileList\"\n              shouldUpdate\n            >\n              <Upload\n                action=\"/api/assets/upload?entity=expense\"\n                accept=\"image/*\"\n                headers={{\n                  Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                }}\n              >\n                <Button size=\"small\">{t(\"upload\")}</Button>\n              </Upload>\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item\n              label={t(\"Invoice\")}\n              name=\"invoices\"\n              getValueFromEvent={imageFromEvent}\n              valuePropName=\"fileList\"\n              shouldUpdate\n            >\n              <Upload\n                action=\"/api/assets/upload?entity=expense\"\n                accept=\"image/*\"\n                headers={{\n                  Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                }}\n              >\n                <Button size=\"small\">{t(\"upload\")}</Button>\n              </Upload>\n            </Form.Item>\n          </Col>\n        </Row>\n      </Form>\n    </Modal>\n  );\n}\n\nexport default MakePaymentModal;\n","import { Descriptions, Button, Table } from \"antd\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { Link } from \"@reach/router\";\n\nimport NSHandler from \"src/components/NSHandler\";\nimport currencyFormatterPrefix from \"src/helpers/currencyFormatterPrefix\";\nimport formatMoney from \"src/helpers/formatMoney\";\nimport { formatDate } from \"src/helpers/formatters\";\nimport { useAPI } from \"src/helpers/useFetch\";\nimport MakePaymentModal from \"./MakePaymentModal\";\nimport { EXPENSE_FREQUENCY, EXPENSE_TYPE } from \"../ExpenseList/constants\";\n\nfunction useGetExpense(id) {\n  return useAPI(`/api/expenses/${id}`);\n}\n\nfunction useExpensePayments(id) {\n  const [{ data: payments } = { data: [] }, status, refresh] = useAPI(`/api/expenses/${id}/payments`);\n  return [payments, status, refresh];\n}\n\nconst msgTemplate = {\n  SUCCESS: (n, a) => `${n} ${a}${!a.endsWith(\"e\") ? \"e\" : \"\"}d successfully!`,\n  ERROR: (n, a) => (a === \"status change\" ? `failed to change status of ${n}` : `failed to ${a} ${n}`),\n};\n\nconst URLsWithDate = ({ urls }) =>\n  (urls || []).map(({ createdAt, url }) => (\n    <a key={url} style={{ display: \"block\" }} href={url} alt=\"invoice\" target=\"_blank\">\n      {formatDate(createdAt)}\n    </a>\n  ));\n\nconst URLAnchors = ({ urls }) =>\n  (urls || []).map(({ url }) => (\n    <a key={url} style={{ display: \"block\" }} href={url} alt=\"invoice\" target=\"_blank\">\n      {url}\n    </a>\n  ));\n\nconst ChequeAnchor = ({ no, amount }) => (\n  <Link to=\"/cheques\">\n    {no} ({currencyFormatterPrefix.format(amount)})\n  </Link>\n);\n\nconst ChequeAnchors = ({ cheques = [] }) =>\n  cheques.map(({ no, amount }) => (\n    <>\n      <ChequeAnchor no={no} amount={amount} />\n      <br />\n    </>\n  ));\nfunction useExpensePayment(expenseId) {\n  const [[id, payload, method], setState] = useState([]);\n  const opts = useMemo(() => {\n    if (method === \"add\" && payload)\n      return [`/api/expenses/${expenseId}/payments`, { method: \"POST\", body: JSON.stringify({ ...payload, expenseId }) }];\n    if (method === \"update\" && expenseId && id && payload)\n      return [`/api/expenses/${expenseId}/payments/${id}`, { method: \"PUT\", body: JSON.stringify(payload) }];\n    if (method === \"delete\" && expenseId && id) return [`/api/expenses/${expenseId}/payments/${id}`, { method: \"DELETE\" }];\n\n    return [undefined, undefined];\n  }, [payload, expenseId, method, id]);\n  const [, status] = useAPI(...opts);\n\n  const add = (payload) => setState([undefined, payload, \"add\"]);\n  const edit = (payload, id) => setState([id, payload, \"update\"]);\n  const del = (id) => setState([id, undefined, \"delete\"]);\n\n  const reset = () => setState([]);\n\n  if (method) {\n    status.action = method;\n    status.message = msgTemplate[status.code] ? msgTemplate[status.code](\"payment\", method) : \"\";\n  }\n\n  return { add, edit, del, reset, status };\n}\n\nfunction ExpenseDetail({ addToast, id }) {\n  const { t } = useTranslation([\"translation\"]);\n\n  const [expense, status] = useGetExpense(id);\n  const [payments, paymentsStatus, refreshPayments] = useExpensePayments(id);\n  const { add, status: actionStatus } = useExpensePayment(id);\n  const [shouldShowMakePaymentModal, setShouldShowMakePaymentModal] = useState(false);\n  const showMakePaymentModal = () => setShouldShowMakePaymentModal(true);\n  const closeMakePaymentModal = () => setShouldShowMakePaymentModal(false);\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        closeMakePaymentModal();\n        refreshPayments();\n      }\n    }\n  }, [actionStatus]);\n\n  const shouldDisablePayment =\n    expense && payments.length > 0 ? expense.frequency === \"custom\" && expense.numTimes <= payments.length : false;\n  return (\n    <div className=\"container\">\n      <NSHandler status={status}>\n        {() => (\n          <Descriptions title={expense.name} bordered style={{ marginBottom: 32 }}>\n            <Descriptions.Item label={t(\"Type\")}>{EXPENSE_TYPE[expense.type]}</Descriptions.Item>\n            <Descriptions.Item label={t(\"Fixed\")}>{expense.fixed ? \"True\" : \"False\"}</Descriptions.Item>\n            <Descriptions.Item label={t(\"Issue Date\")}>{formatDate(expense.issueDate)}</Descriptions.Item>\n            <Descriptions.Item label={t(\"Due Date\")}>{formatDate(expense.dueDate)}</Descriptions.Item>\n            <Descriptions.Item label={t(\"Frequency\")}>{EXPENSE_FREQUENCY[expense.frequency]}</Descriptions.Item>\n            {expense.frequency === \"custom\" && (\n              <Descriptions.Item label={t(\"Num Of Times\")}>{expense.numTimes}</Descriptions.Item>\n            )}\n            <Descriptions.Item label={t(\"Amount\")}>\n              {expense.frequency === \"custom\"\n                ? `${formatMoney(expense.amount)} * ${expense.numTimes} = ${formatMoney(expense.amount * expense.numTimes)}`\n                : formatMoney(expense.amount)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Late Fee\")}>{formatMoney(expense.lateFee)}</Descriptions.Item>\n            {expense.moneySourceId && (\n              <Descriptions.Item label={t(\"Source of Money\")}>{expense.moneySourceId}</Descriptions.Item>\n            )}\n            <Descriptions.Item></Descriptions.Item>\n            <Descriptions.Item span={3} label={t(\"Description\")} className=\"whitespace-pre\">\n              {expense.description}\n            </Descriptions.Item>\n          </Descriptions>\n        )}\n      </NSHandler>\n      <NSHandler status={paymentsStatus}>\n        {() => (\n          <>\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"flex-end\",\n                marginBottom: 16,\n              }}\n            >\n              <Button onClick={showMakePaymentModal} disabled={shouldDisablePayment}>\n                {t(\"Make Payment\")}\n              </Button>\n            </div>\n            <Table dataSource={payments} rowKey=\"_id\">\n              <Table.Column title={t(\"Date\")} dataIndex=\"createdAt\" render={formatDate}></Table.Column>\n              <Table.Column title={t(\"Method\")} dataIndex=\"method\"></Table.Column>\n              <Table.Column title={t(\"Amount\")} dataIndex=\"amount\" render={currencyFormatterPrefix.format}></Table.Column>\n              <Table.Column\n                title={t(\"Cheque\")}\n                dataIndex=\"cheques\"\n                render={(cheques) => <ChequeAnchors cheques={cheques} />}\n              ></Table.Column>\n              <Table.Column\n                title={t(\"Invoice\")}\n                dataIndex=\"invoices\"\n                render={(urls) => <URLsWithDate urls={urls} />}\n              ></Table.Column>\n              <Table.Column\n                title={t(\"Receipt\")}\n                dataIndex=\"receipts\"\n                render={(urls) => <URLsWithDate urls={urls} />}\n              ></Table.Column>\n            </Table>\n          </>\n        )}\n      </NSHandler>\n      {shouldShowMakePaymentModal && (\n        <MakePaymentModal onSave={add} onClose={closeMakePaymentModal} okText={t(\"Make Payment\")} initialValues={expense} />\n      )}\n    </div>\n  );\n}\n\nexport default ExpenseDetail;\n","import React from \"react\";\nimport { Form, Row, Col } from \"antd\";\nimport { InputNumberFmtd } from \"src/components\";\nimport { useTranslation } from \"react-i18next\";\nimport { cf, nf } from \"src/helpers\";\nimport { Link } from \"@reach/router\";\nimport { OrgAwareButton } from \"src/components\";\n\nconst computeVolume = (values) => {\n  const heightAverage =\n    (values.frontLeftHeight +\n      values.frontRightHeight +\n      values.midLeftHeight +\n      values.midRightHeight +\n      values.rearLeftHeight +\n      values.rearRightHeight) /\n    6;\n  const lengthAverage = (values.leftLength + values.rightLength) / 2;\n  return heightAverage * lengthAverage * values.width;\n};\n\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n};\n\nconst tailLayout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 8 },\n};\n\nconst defaultValues = {\n  frontLeftHeight: 0,\n  frontRightHeight: 0,\n  midLeftHeight: 0,\n  midRightHeight: 0,\n  rearLeftHeight: 0,\n  rearRightHeight: 0,\n  leftLength: 0,\n  rightLength: 0,\n  width: 0,\n  pricePerVolume: 0,\n};\n\nconst CreateExpenseLink = ({ values }) => {\n  const { t } = useTranslation([\"translation\"]);\n  const expenseDescription = `${t(\"Front Left Height\")}: ${nf(values.frontLeftHeight)}\n${t(\"Front Right Height\")}: ${nf(values.frontRightHeight)}\n${t(\"Mid Left Height\")}: ${nf(values.midLeftHeight)}\n${t(\"Mid Right Height\")}: ${nf(values.midRightHeight)}\n${t(\"Rear Left Height\")}: ${nf(values.rearLeftHeight)}\n${t(\"Rear Right Height\")}: ${nf(values.rearRightHeight)}\n${t(\"Left Length\")}: ${nf(values.leftLength)}\n${t(\"Right Length\")}: ${nf(values.rightLength)}\n${t(\"Width\")}: ${nf(values.width)}\n${t(\"Price Per Volume\")}: ${cf(values.pricePerVolume)}\n`;\n  const searchParams = new URLSearchParams({\n    create: true,\n    name: \"Woods Buy\",\n    description: expenseDescription,\n    numTimes: 1,\n    frequency: \"custom\",\n    amount: Number((computeVolume(values) * values.pricePerVolume).toFixed(2)),\n    type: \"purchase\",\n    fixed: true,\n  });\n  const urlpath = `/expenses?${searchParams.toString()}`;\n\n  return (\n    <Link className=\"margin-left\" to={urlpath} target=\"_blank\" component={OrgAwareButton}>\n      {t(\"Create Expense\")}\n    </Link>\n  );\n};\n\nconst Total = ({ values }) => {\n  console.log(\"values :>> \", values);\n  const volume = computeVolume(values);\n\n  return (\n    <div style={{ fontSize: \"1.2em\" }}>\n      Total: {nf(volume)} x {cf(values.pricePerVolume)} = {cf(volume * values.pricePerVolume)}{\" \"}\n      <CreateExpenseLink values={values} />\n    </div>\n  );\n};\n\nfunction WoodCalculator() {\n  const { t } = useTranslation([\"translation\"]);\n\n  return (\n    <Form {...layout} initialValues={defaultValues} className=\"margin\">\n      <h2>{t(\"Calc. M3\")}</h2>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label={t(\"Front Left Height\")} name=\"frontLeftHeight\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label={t(\"Front Right Height\")} name=\"frontRightHeight\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label={t(\"Mid Left Height\")} name=\"midLeftHeight\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label={t(\"Mid Right Height\")} name=\"midRightHeight\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label={t(\"Rear Left Height\")} name=\"rearLeftHeight\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label={t(\"Rear Right Height\")} name=\"rearRightHeight\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Row gutter={16}>\n        <Col span={12}>\n          <Form.Item label={t(\"Left Length\")} name=\"leftLength\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n        <Col span={12}>\n          <Form.Item label={t(\"Right Length\")} name=\"rightLength\">\n            <InputNumberFmtd />\n          </Form.Item>\n        </Col>\n      </Row>\n      <Form.Item label={t(\"Width\")} name=\"width\" {...tailLayout}>\n        <InputNumberFmtd />\n      </Form.Item>\n      <Form.Item label={t(\"Price Per Volume\")} name=\"pricePerVolume\" {...tailLayout}>\n        <InputNumberFmtd />\n      </Form.Item>\n      <Form.Item wrapperCol={{ offset: 4 }} shouldUpdate>\n        {({ getFieldsValue }) => <Total values={getFieldsValue()} />}\n      </Form.Item>\n    </Form>\n  );\n}\n\nexport default WoodCalculator;\n","import React, { useContext } from \"react\";\nimport { Alert, Col, Form, Modal, Row, DatePicker, InputNumber, Divider, Input, Card } from \"antd\";\nimport { useClientOptions, useStaffOptions, useTask, useOrderOptions, useVehicleOptions, useVehicle } from \"src/hooks\";\nimport { useEffect } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport { Select } from \"src/components\";\nimport { useTranslation } from \"react-i18next\";\nimport moment from \"moment\";\n//import TextEditor from \"../OrdersPage/Editor\";\n\nconst ruleRequired = { required: true };\n\nconst validations = {\n  title: [ruleRequired],\n  estConclusionDate: [ruleRequired],\n  startDate: [ruleRequired],\n  assigneeId: [ruleRequired],\n  leaderId: [ruleRequired],\n  // vehicleId: [ruleRequired],\n};\nfunction onChange(value) {\n  console.log(\"changed\", value);\n}\n\nfunction TaskFormModal({ onClose, okText, okButtonProps, afterSave, initialValue }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { save, status } = useTask(initialValue?._id);\n  const organizationId = useContext(OrganizationContext);\n  const { data: userOptions } = useStaffOptions(initialValue?.organizationId || organizationId);\n  const { data: orderOptions } = useOrderOptions();\n  const { data: clientOptions } = useClientOptions();\n  //const { data: vehicleOptions } = useVehicleOptions();\n  const [form] = Form.useForm();\n\n  const handleSubmit = (formValues) => {\n    const payload = {\n      ...initialValue,\n      ...formValues,\n      startDate: formValues.startDate.unix(),\n      estConclusionDate: formValues.estConclusionDate.unix(),\n    };\n\n    save(initialValue?._id, payload);\n  };\n\n  const handleValuesChange = (values) => {\n    if (values.leaderId) {\n      form.setFieldsValue({ helperIds: [] });\n    }\n    if (values.orderId) {\n      form.setFieldsValue({ clientId: orderOptions.find(({ value }) => value === values.orderId)?.clientId });\n    } else if (values.hasOwnProperty(\"orderId\")) {\n      // clear clicked\n      form.setFieldsValue({ clientId: undefined });\n    }\n  };\n\n  useEffect(() => {\n    if (status.isSuccess) {\n      onClose();\n      afterSave();\n    }\n  }, [status, afterSave, onClose]);\n\n  const denormInitialValue = initialValue\n    ? {\n        ...initialValue,\n        startDate: moment.unix(initialValue.startDate),\n        estConclusionDate: moment.unix(initialValue.estConclusionDate),\n      }\n    : undefined;\n\n  const { Option, OptGroup } = Select;\n\n  function handleChange(value) {\n    console.log(`selected ${value}`);\n  }\n\n  return (\n    <Modal\n      visible\n      onCancel={onClose}\n      title={okText}\n      onClose={onClose}\n      okText={okText}\n      okButtonProps={{\n        form: \"task-create-modal\",\n        htmlType: \"submit\",\n        ...okButtonProps,\n      }}\n      width={800}\n      maskClosable={false}\n      keyboard={false}\n    >\n      <Form\n        form={form}\n        layout=\"vertical\"\n        id=\"task-create-modal\"\n        initialValues={denormInitialValue}\n        onFinish={handleSubmit}\n        onValuesChange={handleValuesChange}\n      >\n        <Form.Item label={t(\"Title\")} name=\"title\" rules={validations.name}>\n          <Input />\n        </Form.Item>\n\n        <Form.Item label={t(\"Work Address\")} name=\"workAddress\">\n          <Input.TextArea rows={4} />\n        </Form.Item>\n\n        <Form.Item label={t(\"Driver\")} name=\"driver\">\n          <Select options={userOptions} />\n        </Form.Item>\n\n        <Form.Item label={t(\"Vehicle\")} name=\"vehicle\">\n          <Input />\n        </Form.Item>\n        <div className=\"site-card-wrapper\">\n          <Row gutter={16}>\n            <Col span={12}>\n              <Card bordered={false}>\n                <Form.Item label={t(\"Start Date\")} name=\"startDate\" rules={validations.startDate}>\n                  <DatePicker format=\"DD/MM/YYYY\" />\n                </Form.Item>\n              </Card>\n            </Col>\n            <Col span={12}>\n              <Card bordered={false}>\n                <Form.Item label={t(\"Conlusion Date\")} name=\"estConclusionDate\" rules={validations.estConclusionDate}>\n                  <DatePicker format=\"DD/MM/YYYY\" />\n                </Form.Item>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n        <Form.Item label={t(\"Leader\")} name=\"leaderId\" rules={validations.leaderId}>\n          <Select options={userOptions} />\n        </Form.Item>\n\n        <Form.Item noStyle dependencies={[\"leaderId\"]}>\n          {({ getFieldValue }) => (\n            <Form.Item label={t(\"Helpers\")} name=\"helperIds\" rules={validations.helperIds}>\n              <Select options={userOptions.filter(({ value }) => value !== getFieldValue(\"leaderId\"))} mode=\"multiple\" />\n            </Form.Item>\n          )}\n        </Form.Item>\n\n        <Form.Item label={t(\"Lunch\")} name=\"lunch\">\n          <Input />\n        </Form.Item>\n\n        <Form.Item label={t(\"Host\")} name=\"host\">\n          <Input />\n        </Form.Item>\n\n        <Form.Item label={__(\"Order\")} name=\"orderId\" rules={validations.orderId}>\n          <Select options={orderOptions} />\n        </Form.Item>\n\n        <Form.Item noStyle dependencies={[\"orderId\"]}>\n          {({ getFieldValue }) => (\n            <Form.Item label={__(\"Client\")} name=\"clientId\" rules={validations.clientId}>\n              <Select options={clientOptions} disabled /*={!!getFieldValue(\"orderId\")}*/ />\n            </Form.Item>\n          )}\n        </Form.Item>\n\n        <Form.Item label={t(\"Rute\")} name=\"rute\">\n          <Input.TextArea rows={4} /> \n           {/*<TextEditor />*/}\n        </Form.Item>\n        <Form.Item label={t(\"Obs\")} name=\"obs\">\n          <Input.TextArea rows={4} />\n          {/* <TextEditor /> */}\n        </Form.Item>\n        <Form.Item label={t(\"Description\")} name=\"description\" rules={validations.description}>\n           <Input.TextArea rows={4} /> \n          {/*<TextEditor />*/}\n        </Form.Item>\n      </Form>\n      {status.isError && <Alert message={status.message} type=\"error\" />}\n    </Modal>\n  );\n}\n\nexport default TaskFormModal;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"@reach/router\";\nimport { useTaskList, useTask } from \"src/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { Input, Table, Button } from \"antd\";\nimport NSHandler from \"src/components/NSHandler\";\nimport TaskFormModal from \"./TaskFormModal\";\nimport OrgAwareButton from \"src/components/OrgAwareButton\";\nimport moment from \"moment\";\n\nimport { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\nimport { deleteConfirm } from \"src/helpers\";\n\nconst timestampToDateStr = (t) => (t ? moment.unix(t).format(\"DD/MM/YYYY\") : undefined);\n\nfunction TaskList({ addToast }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { status: actionStatus, del } = useTask();\n  const { data: tasks, total, pages, goto, search, filters, status: tasksStatus, refresh } = useTaskList();\n\n  const [selectedForEdit, setSelectedForEdit] = useState();\n  const [selectedForDelete, setSelectedForDelete] = useState();\n  const [shouldShowCreateModal, setShouldShowCreateModal] = useState(false);\n\n  const showCreateModal = () => setShouldShowCreateModal(true);\n  const closeCreateModal = () => setShouldShowCreateModal(false);\n\n  const closeEditModal = () => setSelectedForEdit(undefined);\n\n  const handleEdit = (item) => () => setSelectedForEdit(item);\n\n  const handleSearch = (e) => search(e.target.value);\n\n  const afterSave = () => {\n    refresh();\n  };\n\n  const handleFormModalClose = () => {\n    closeCreateModal();\n    closeEditModal();\n  };\n\n  const handleDelete = (id) => () => deleteConfirm({ onOk: () => del(id), afterClose: refresh });\n  const closeDeleteConfirmation = () => setSelectedForDelete(undefined);\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        closeEditModal();\n        closeDeleteConfirmation();\n        refresh();\n      }\n    }\n  }, [actionStatus]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"list-actions\">\n        <span>\n          {t(\"Total\")}: {total}\n        </span>\n        <div style={{ marginLeft: 16, marginRight: 16 }}>\n          <Input.Search placeholder={t(\"Search\")} onChange={handleSearch} value={filters.searchText} allowClear />\n        </div>\n        <OrgAwareButton type=\"primary\" onClick={showCreateModal}>\n          {t(\"Create Task\")}\n        </OrgAwareButton>\n      </div>\n      <NSHandler status={tasksStatus}>\n        {() => (\n          <Table dataSource={tasks} rowKey=\"_id\">\n            <Table.Column\n              title={t(\"Action\")}\n              key=\"action\"\n              render={(_, record) => (\n                <>\n                  <Button\n                    className=\"margin-right\"\n                    icon={<DeleteOutlined />}\n                    type=\"danger\"\n                    onClick={handleDelete(record._id)}\n                    size=\"small\"\n                    ghost\n                  />\n                  <Button className=\"margin-right\" icon={<EditOutlined />} onClick={handleEdit(record)} size=\"small\" />\n                </>\n              )}\n            />\n            <Table.Column\n              key=\"title\"\n              dataIndex=\"\"\n              title={t(\"Title\")}\n              render={(task) => (\n                <Link to={`/tasks/${task._id}`}>\n                  <b>{task.title}</b>\n                </Link>\n              )}\n            ></Table.Column>\n            <Table.Column key=\"description\" dataIndex=\"description\" title={t(\"Description\")} />\n            <Table.Column key=\"startDate\" dataIndex=\"startDate\" title={t(\"Start Date\")} render={timestampToDateStr} />\n            <Table.Column\n              key=\"estConclusionDate\"\n              dataIndex=\"estConclusionDate\"\n              title={t(\"Conlusion Date\")}\n              render={timestampToDateStr}\n            />\n            <Table.Column\n              key=\"assignee\"\n              dataIndex=\"assignee\"\n              render={({ firstName, lastName }) => `${firstName} ${lastName}`}\n              title={t(\"Assignee\")}\n            />\n            <Table.Column\n              key=\"leader\"\n              title={t(\"Leader\")}\n              dataIndex=\"leader\"\n              render={({ firstName, lastName }) => `${firstName} ${lastName}`}\n            />\n            <Table.Column\n              key=\"helpers\"\n              dataIndex=\"helpers\"\n              title={t(\"Helpers\")}\n              render={(v) => v.map(({ firstName, lastName }) => `${firstName} ${lastName}`).join(\",\")}\n            />\n            <Table.Column\n              key=\"order\"\n              title={__(\"Order ID\")}\n              dataIndex=\"order\"\n              render={({ orderId = \"\" } = {}) => `${orderId}`}\n            />\n            <Table.Column\n              key=\"client\"\n              dataIndex=\"client\"\n              title={t(\"Client\")}\n              render={({ firstName = \"\", lastName = \"\", address } = {}) => `${firstName} ${lastName} / ${address}`}\n            />\n          </Table>\n        )}\n      </NSHandler>\n      {(shouldShowCreateModal || selectedForEdit) && (\n        <TaskFormModal\n          afterSave={afterSave}\n          onClose={handleFormModalClose}\n          initialValue={selectedForEdit}\n          okText={`${selectedForEdit ? t(\"Update\") : t(\"Create\")} ${t(\"Task\")}`}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default TaskList;\n","import React, { useContext } from \"react\";\nimport { Alert, Col, Form, Input, Modal, Row, DatePicker } from \"antd\";\nimport { useClientOptions, useStaffOptions, useVehicle, useOrderOptions } from \"src/hooks\";\nimport { useEffect } from \"react\";\nimport { OrganizationContext } from \"src/contexts\";\nimport { Select } from \"src/components\";\nimport { useTranslation } from \"react-i18next\";\nimport moment from \"moment\";\n//import Editor from \"./editor\";\n\nconst ruleRequired = { required: true };\n\nconst validations = {\n // title: [ruleRequired],\n // estConclusionDate: [ruleRequired],\n // startDate: [ruleRequired],\n // assigneeId: [ruleRequired],\n // leaderId: [ruleRequired],\n};\n\nfunction VehicleFormModal({ onClose, okText, okButtonProps, afterSave, initialValue }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { save, status } = useVehicle(initialValue?._id);\n  const organizationId = useContext(OrganizationContext);\n  const { data: userOptions } = useStaffOptions(initialValue?.organizationId || organizationId);\n  const { data: taskOptions } = useOrderOptions();\n  const { data: clientOptions } = useClientOptions();\n  const [form] = Form.useForm();\n\n  const handleSubmit = (formValues) => {\n    const payload = {\n      ...initialValue,\n      ...formValues,\n      startDate: formValues.startDate.unix(),\n      estConclusionDate: formValues.estConclusionDate.unix(),\n    };\n\n    save(initialValue?._id, payload);\n  };\n\n  const handleValuesChange = (values) => {\n    if (values.leaderId) {\n      form.setFieldsValue({ helperIds: [] });\n    }\n    if (values.taskId) {\n      form.setFieldsValue({ clientId: taskOptions.find(({ value }) => value === values.taskId)?.clientId });\n    } else if (values.hasOwnProperty(\"taskId\")) {\n      // clear clicked\n      form.setFieldsValue({ clientId: undefined });\n    }\n  };\n\n  useEffect(() => {\n    if (status.isSuccess) {\n      onClose();\n      afterSave();\n    }\n  }, [status, afterSave, onClose]);\n\n  const denormInitialValue = initialValue\n    ? {\n        ...initialValue,\n        startDate: moment.unix(initialValue.startDate),\n        estConclusionDate: moment.unix(initialValue.estConclusionDate),\n      }\n    : undefined;\n\n  return (\n    <Modal\n      visible\n      onCancel={onClose}\n      title={okText}\n      onClose={onClose}\n      okText={okText}\n      okButtonProps={{\n        form: \"vehicle-create-modal\",\n        htmlType: \"submit\",\n        ...okButtonProps,\n      }}\n      width={800}\n      maskClosable={false}\n      keyboard={false}\n    >\n      <Form\n        form={form}\n        layout=\"vertical\"\n        id=\"vehicle-create-modal\"\n        initialValues={denormInitialValue}\n        onFinish={handleSubmit}\n        onValuesChange={handleValuesChange}\n      >\n        <Form.Item label={t(\"Title\")} name=\"title\">\n          <Input />\n        </Form.Item>\n        <Form.Item label={t(\"Type\")} name=\"type\">\n          <Input />\n        </Form.Item>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Form.Item label={t(\"Purchase Date\")} name=\"purchaseDate\">\n              <DatePicker format=\"DD/MM/YYYY\" />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item label={t(\"Purchase Price\")} name=\"purchasePrice\">\n            <Input />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row gutter={16}>\n          <Col span={8}>\n            <Form.Item label={t(\"Purchase Km\")} name=\"purchaseKm\">\n            <Input />\n            </Form.Item>\n          </Col>\n          <Col span={8}>\n            <Form.Item label={t(\"Km Now\")} name=\"kmNow\">\n            <Input />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Form.Item noStyle dependencies={[\"driverId\"]}>\n          {({ getFieldValue }) => (\n            <Form.Item label={t(\"Drivers\")} name=\"driverId\" >\n              <Select options={userOptions.filter(({ value }) => value !== getFieldValue(\"vinNumber\"))} mode=\"multiple\" />\n            </Form.Item>\n          )}\n        </Form.Item>\n        <Form.Item label={t(\"Last Manutences\")} name=\"lastManutences\">\n        <DatePicker format=\"DD/MM/YYYY\" />\n        </Form.Item>\n\n          <Form.Item label={t(\"Actual Price\")} name=\"actualPrice\">\n            <Input />\n        </Form.Item>\n\n        <Form.Item label={t(\"Description\")} name=\"description\">\n          <Input.TextArea rows={4} />\n        </Form.Item>\n        <Form.Item label={__(\"Obs\")} name=\"obs\">\n            <Input.TextArea rows={4} />\n            </Form.Item>\n      </Form>\n      {status.isError && <Alert message={status.message} type=\"error\" />}\n    </Modal>\n  );\n}\n\nexport default VehicleFormModal;\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"@reach/router\";\nimport { useVehicleList, useVehicle } from \"src/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport { Input, Table, Button } from \"antd\";\nimport NSHandler from \"src/components/NSHandler\";\nimport VehicleFormModal from \"./VehicleFormModal\";\nimport OrgAwareButton from \"src/components/OrgAwareButton\";\nimport moment from \"moment\";\n\nimport { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\nimport { deleteConfirm } from \"src/helpers\";\n\nconst timestampToDateStr = (t) => (t ? moment.unix(t).format(\"DD/MM/YYYY\") : undefined);\n\nfunction VehicleList({ addToast }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { status: actionStatus, del } = useVehicle();\n  const { data: vehicles, total, pages, goto, search, filters, status: vehiclesStatus, refresh } = useVehicleList();\n\n  const [selectedForEdit, setSelectedForEdit] = useState();\n  const [selectedForDelete, setSelectedForDelete] = useState();\n  const [shouldShowCreateModal, setShouldShowCreateModal] = useState(false);\n\n  const showCreateModal = () => setShouldShowCreateModal(true);\n  const closeCreateModal = () => setShouldShowCreateModal(false);\n\n  const closeEditModal = () => setSelectedForEdit(undefined);\n\n  const handleEdit = (item) => () => setSelectedForEdit(item);\n\n  const handleSearch = (e) => search(e.target.value);\n\n  const afterSave = () => {\n    refresh();\n  };\n\n  const handleFormModalClose = () => {\n    closeCreateModal();\n    closeEditModal();\n  };\n\n  const handleDelete = (id) => () => deleteConfirm({ onOk: () => del(id), afterClose: refresh });\n  const closeDeleteConfirmation = () => setSelectedForDelete(undefined);\n\n  useEffect(() => {\n    if (actionStatus.isError || actionStatus.isSuccess) {\n      addToast(actionStatus.message, {\n        appearance: actionStatus.toString().toLowerCase(),\n      });\n\n      if (actionStatus.isSuccess) {\n        closeEditModal();\n        closeDeleteConfirmation();\n        refresh();\n      }\n    }\n  }, [actionStatus]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"list-actions\">\n        <span>\n          {t(\"Total\")}: {total}\n        </span>\n        <div style={{ marginLeft: 16, marginRight: 16 }}>\n          <Input.Search placeholder={t(\"Search\")} onChange={handleSearch} value={filters.searchText} allowClear />\n        </div>\n        <OrgAwareButton type=\"primary\" onClick={showCreateModal}>\n          {t(\"Create\")} {t(\"Vehicle\")}\n        </OrgAwareButton>\n      </div>\n      <NSHandler status={vehiclesStatus}>\n        {() => (\n          <Table dataSource={vehicles} rowKey=\"_id\">\n            <Table.Column\n              title={t(\"Action\")}\n              key=\"action\"\n              render={(_, record) => (\n                <>\n                  <Button\n                    className=\"margin-right\"\n                    icon={<DeleteOutlined />}\n                    type=\"danger\"\n                    onClick={handleDelete(record._id)}\n                    size=\"small\"\n                    ghost\n                  />\n                  <Button className=\"margin-right\" icon={<EditOutlined />} onClick={handleEdit(record)} size=\"small\" />\n                </>\n              )}\n            />\n            <Table.Column\n              key=\"title\"\n              dataIndex=\"\"\n              title={t(\"Title\")}\n              render={(vehicle) => <Link to={`/vehicles/${vehicle._id}`}><b>{vehicle.title}</b></Link>}\n            ></Table.Column>\n            <Table.Column key=\"description\" dataIndex=\"description\" title={t(\"Description\")} />\n            <Table.Column key=\"purchaseDate\" dataIndex=\"purchaseDate\" title={t(\"Purchase Date\")} render={timestampToDateStr} />\n            <Table.Column\n              key=\"lastManutences\"\n              dataIndex=\"lastManutences\"\n              title={t(\"Last Manutences Date\")}\n              render={timestampToDateStr}\n            />\n            <Table.Column\n              key=\"assignee\"\n              dataIndex=\"assignee\"\n              render={({ firstName, lastName }) => `${firstName} ${lastName}`}\n              title={t(\"Assignee\")}\n            />\n            <Table.Column\n              key=\"driver\"\n              title={t(\"Driver\")}\n              dataIndex=\"driver\"\n              render={({ firstName, lastName }) => `${firstName} ${lastName}`}\n            />\n             <Table.Column\n              key=\"type\"\n              dataIndex=\"type\"\n              title={t(\"Type\")}\n              // render={(v) => v.map(({ type}) => `${firstName} ${lastName}`).join(\",\")}\n            />\n            \n            <Table.Column\n              key=\"kmNow\"\n              dataIndex=\"kmNow\"\n              title={t(\"Actual Km\")}\n             // render={({ firstName = \"\", lastName = \"\", address } = {}) => `${firstName} ${lastName} / ${address}`}\n            />\n          </Table>\n        )}\n      </NSHandler>\n      {(shouldShowCreateModal || selectedForEdit) && (\n        <VehicleFormModal\n          afterSave={afterSave}\n          onClose={handleFormModalClose}\n          initialValue={selectedForEdit}\n          okText={`${selectedForEdit ? t(\"Update\") : t(\"Create\")} ${t(\"Vehicle\")}`}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default VehicleList;\n","import { Descriptions, Button, Table, Card, Col, Row } from \"antd\";\nimport React from \"react\";\nimport { PrinterOutlined } from \"@ant-design/icons\";\nimport { useTranslation } from \"react-i18next\";\nimport NSHandler from \"src/components/NSHandler\";\nimport moment from \"moment\";\nimport { useVehicle } from \"src/hooks\";\nimport QRCode from \"qrcode.react\";\nimport { OrganizationAddr } from \"src/components\";\nimport { getName, measurementValueDisplay, nf } from \"src/helpers\";\n\nfunction VehiclePrintView({ vehicle }) {\n  return (\n    <div className=\"printonly printonly-flex space-between\">\n      <OrganizationAddr organization={vehicle.organization} />\n      <QRCode id=\"qr-canvas\" value={window.location.href} size={100} />\n    </div>\n  );\n}\n\nfunction VehicleDetail({ id }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { data: vehicle, getStatus: status } = useVehicle(id);\n\n  const gridStyle = {\n    width: '100%',\n    textAlign: 'center',\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"text-right margin-bottom noprint\">\n        <Button icon={<PrinterOutlined />} onClick={() => window.print()}>\n        {t(\"Print\")}\n        </Button>\n      </div>\n      <NSHandler status={status}>\n        {() => (\n          <>\n            <VehiclePrintView vehicle={vehicle} />\n    <div className=\"site-card-wrapper\">\n    <Card style={gridStyle} title={t(\"Vehicle Details\")+ vehicle.task.taskId}>\n    <Row gutter={16}>\n      <Col span={8}>\n        <Card title={t(\"About the Vehicle\")} bordered={false}>\n        <h3>{getName(vehicle.type)}</h3> \n        {vehicle.description}<br></br>\n        {vehicle.kmNow}<br></br>\n        {vehicle.driver}<br></br>\n            <b>#: {vehicle.registrationNumber}</b>\n        </Card>\n      </Col>\n      <Col span={8}>\n        <Card title={t(\"Obs\")} bordered={false}>\n        {getName(vehicle.obs)}\n        </Card>\n      </Col>\n      <Col span={8}>\n      <Card title={t(\"Last Manutences\")} bordered={false}>\n        <h3>{getName(vehicle.lastManutences)}</h3> \n            <b>{vehicle.assignee} </b>\n        </Card>\n      </Col>\n    </Row>\n    </Card>\n  </div>\n              <Descriptions size=\"small\" bordered style={{ marginBottom: 32 }}>\n              <Descriptions.Item label={t(\"Purchase Price\")} span={1.5}>\n                {moment.unix(vehicle.purchasePrice)}\n              </Descriptions.Item>\n              <Descriptions.Item label={t(\"Purchase Date\")} span={1.5}>\n                {moment.unix(vehicle.purchaseDate).format(\"DD/MM/YYYY\")}\n              </Descriptions.Item>\n              <Descriptions.Item label={t(\"Vin number\")}>\n                {getName(vehicle.vinNumber)}\n              </Descriptions.Item>\n              <Descriptions.Item label={t(\"Purchase Km\")}span={2}>\n                {vehicle.purchaseKm}\n              </Descriptions.Item>\n              </Descriptions>\n\n              <Descriptions size=\"small\" bordered style={{ marginBottom: 32 }}>\n              <Descriptions.Item label={t(\"Vehicle\")}>\n                {getName(vehicle.actualPrice)}\n              </Descriptions.Item>\n              \n              </Descriptions>\n            \n          </>\n        )}\n      </NSHandler>\n    </div>\n  );\n}\n\nexport default VehicleDetail;\n","import React from \"react\";\nimport { Table } from \"antd\";\nimport NSHandler from \"src/components/NSHandler\";\nimport { useOrders } from \"src/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport currencyFormatter from \"../../helpers/currencyFormatterPrefix\";\nimport { getName, listOptsFromQueryParams, measurementValueDisplay } from \"src/helpers\";\nimport moment from \"moment\";\n\nconst cf = currencyFormatter.format;\n\nfunction ProductTable({ products }) {\n  const { t } = useTranslation([\"translation\"]);\n  return (\n    <Table dataSource={products} showHeader={false} size=\"small\" pagination={false}>\n      <Table.Column dataIndex=\"title\" title={t(\"Title\")} width=\"40%\"></Table.Column>\n      <Table.Column\n        dataIndex=\"measurementValue\"\n        title={t(\"Dimensions\")}\n        width=\"30%\"\n        render={measurementValueDisplay}\n      ></Table.Column>\n      <Table.Column render={(p) => `(${p.amount} x ${cf(p.price)})`}></Table.Column>\n    </Table>\n  );\n}\n\nconst getOrderTotal = (products) => cf(products.reduce((acc, p) => acc + p.amount * p.price, 0));\n\nfunction OrderTable() {\n  const { t } = useTranslation([\"translation\"]);\n  const { all: data, status } = useOrders(listOptsFromQueryParams());\n\n  return (\n    <NSHandler status={status}>\n      {() => (\n        <Table dataSource={data} pagination={false} bordered size=\"small\">\n          <Table.Column dataIndex=\"orderId\" title={t(\"ID\")}></Table.Column>\n          <Table.Column\n            dataIndex=\"createdAt\"\n            title={t(\"Created At\")}\n            width=\"100px\"\n            render={(t) => moment(t * 1000).format(\"DD/MM/YY\")}\n          ></Table.Column>\n          <Table.Column\n            dataIndex=\"items\"\n            title={`${__(\"Products\")} | ${__(\"Dimensions\")} | ${__(\"Quantity\")} * ${__(\"Price\")}`}\n            render={(products) => <ProductTable products={products} />}\n          ></Table.Column>\n          <Table.Column dataIndex=\"items\" title={t(\"Total\")} render={getOrderTotal}></Table.Column>\n          <Table.Column dataIndex=\"client\" title={t(\"Client\")} render={getName}></Table.Column>\n          <Table.Column dataIndex=\"_status\" title={t(\"Status\")} width=\"100px\"></Table.Column>\n          <Table.Column dataIndex=\"_processStatus\" title={t(\"Process Status\")} width=\"120px\"></Table.Column>\n        </Table>\n      )}\n    </NSHandler>\n  );\n}\n\nexport default OrderTable;\n","import React from \"react\";\nimport { Table } from \"antd\";\nimport NSHandler from \"src/components/NSHandler\";\nimport { useProductList, useProductProfits } from \"src/hooks\";\nimport { useTranslation } from \"react-i18next\";\nimport currencyFormatterPrefix from \"../../helpers/currencyFormatterPrefix\";\nimport { filtersFromQueryParams, nf } from \"src/helpers\";\n\nconst getTotalUnits = (p) => (p.isService ? undefined : nf(p.totalUnits));\n\nconst cf = currencyFormatterPrefix.format;\n\nfunction ProductTable() {\n  const { t } = useTranslation([\"translation\"]);\n  const globalFilters = filtersFromQueryParams();\n  const { all: data, status } = useProductList(globalFilters);\n  const { data: productProfitMap, status: productProfitsStatus } = useProductProfits(globalFilters);\n\n  const profitRenderer = (productId) => cf(productProfitMap[productId]);\n\n  return (\n    <NSHandler status={[status, productProfitsStatus]}>\n      {() => (\n        <Table dataSource={data} pagination={false} bordered size=\"small\">\n          <Table.Column dataIndex=\"title\" title={t(\"Title\")}></Table.Column>\n          <Table.Column dataIndex=\"description\" title={t(\"Description\")}></Table.Column>\n          <Table.Column title={t(\"Total Units\")} render={getTotalUnits}></Table.Column>\n          <Table.Column dataIndex=\"cost\" title={t(\"Cost\")} render={cf}></Table.Column>\n          <Table.Column dataIndex=\"price\" title={t(\"Price\")} render={cf}></Table.Column>\n          <Table.Column dataIndex=\"status\" title={t(\"Status\")}></Table.Column>\n          <Table.Column dataIndex=\"_id\" title={t(\"Profit\")} render={profitRenderer}></Table.Column>\n        </Table>\n      )}\n    </NSHandler>\n  );\n}\n\nexport default ProductTable;\n","import React from \"react\";\nimport { Table } from \"antd\";\nimport NSHandler from \"src/components/NSHandler\";\nimport { useTaskList } from \"src/hooks\";\nimport moment from \"moment\";\nimport { useTranslation } from \"react-i18next\";\nimport { getName, listOptsFromQueryParams } from \"src/helpers\";\n\nfunction TaskTable() {\n  const { t } = useTranslation([\"translation\"]);\n  const { all: data, status } = useTaskList(listOptsFromQueryParams());\n\n  return (\n    <NSHandler status={status}>\n      {() => (\n        <Table dataSource={data} pagination={false} bordered size=\"small\">\n          <Table.Column dataIndex=\"title\" title={t(\"Title\")}></Table.Column>\n          <Table.Column dataIndex=\"description\" title={t(\"Description\")}></Table.Column>\n          <Table.Column\n            dataIndex=\"startDate\"\n            title={t(\"Start Date\")}\n            render={(t) => moment.unix(t).format(\"DD/MM/YYYY\")}\n          ></Table.Column>\n          <Table.Column\n            dataIndex=\"estConclusionDate\"\n            title={t(\"Est. Conclusion Date\")}\n            render={(t) => moment.unix(t).format(\"DD/MM/YYYY\")}\n          ></Table.Column>\n          <Table.Column dataIndex={[\"order\", \"orderId\"]} title={__(\"Order ID\")}></Table.Column>\n          <Table.Column dataIndex=\"client\" title={__(\"Client\")} render={getName}></Table.Column>\n          <Table.Column dataIndex=\"assignee\" title={__(\"Assignee\")} render={getName}></Table.Column>\n          <Table.Column dataIndex=\"leader\" title={__(\"Leader\")} render={getName}></Table.Column>\n          <Table.Column dataIndex=\"helpers\" title={t(\"Helpers\")} render={(hs) => hs.map(getName).join(\",\")}></Table.Column>\n        </Table>\n      )}\n    </NSHandler>\n  );\n}\n\nexport default TaskTable;\n","import React from \"react\";\nimport { Table } from \"antd\";\nimport NSHandler from \"src/components/NSHandler\";\nimport { useExpenses } from \"src/hooks\";\nimport moment from \"moment\";\nimport { useTranslation } from \"react-i18next\";\nimport { cf, listOptsFromQueryParams } from \"src/helpers\";\nimport { GET_EXPENSE_TYPE_LABEL, GET_EXPENSE_FREQUENCY_LABEL } from \"../ExpenseList/constants\";\n\nfunction TaskTable() {\n  const { t } = useTranslation([\"translation\"]);\n  const { all: data, status } = useExpenses(listOptsFromQueryParams());\n\n  return (\n    <NSHandler status={status}>\n      {() => (\n        <Table dataSource={data} pagination={false} bordered size=\"small\">\n          <Table.Column dataIndex=\"name\" title={t(\"Title\")}></Table.Column>\n          <Table.Column dataIndex=\"type\" title={t(\"Type\")} render={GET_EXPENSE_TYPE_LABEL}></Table.Column>\n          <Table.Column\n            dataIndex=\"issueDate\"\n            title={t(\"Issue Date\")}\n            render={(t) => moment.unix(t).format(\"DD/MM/YYYY\")}\n          ></Table.Column>\n          <Table.Column\n            dataIndex=\"dueDate\"\n            title={t(\"Due Date\")}\n            render={(t) => moment.unix(t).format(\"DD/MM/YYYY\")}\n          ></Table.Column>\n          <Table.Column dataIndex=\"frequency\" title={t(\"Frequency\")} render={GET_EXPENSE_FREQUENCY_LABEL}></Table.Column>\n          <Table.Column dataIndex=\"amount\" title={t(\"Amount\")} render={cf}></Table.Column>\n        </Table>\n      )}\n    </NSHandler>\n  );\n}\n\nexport default TaskTable;\n","import React from \"react\";\nimport { Table } from \"antd\";\nimport { useTranslation } from \"react-i18next\";\nimport NSHandler from \"src/components/NSHandler\";\nimport { nf, cf, filtersFromQueryParams } from \"src/helpers\";\nimport { useDepartmentProfits, useAPI } from \"src/hooks\";\n\nfunction DepartmentEarnings() {\n  const { t } = useTranslation([\"translation\"]);\n  const [departments = [], departmentsStatus] = useAPI(`/api/products-stats${window.location.search}`);\n  const { data: departmentProfitMap, status: departmentProfitsStatus } = useDepartmentProfits(filtersFromQueryParams());\n\n  const profitRenderer = (departmentId) => cf(departmentProfitMap[departmentId] || 0);\n\n  return (\n    <NSHandler status={[departmentsStatus, departmentProfitsStatus]}>\n      {() => (\n        <Table dataSource={departments} pagination={false} bordered size=\"small\">\n          <Table.Column dataIndex={[\"department\", \"title\"]} title={t(\"Title\")}></Table.Column>\n          <Table.Column dataIndex=\"total\" title={t(\"Products\")} render={nf}></Table.Column>\n          <Table.Column dataIndex=\"worthCost\" title={`${t(\"Worth\")} ${t(\"Cost\")}`} render={cf}></Table.Column>\n          <Table.Column dataIndex=\"worthPrice\" title={`${t(\"Worth\")} ${t(\"Price\")}`} render={cf}></Table.Column>\n          <Table.Column dataIndex={[\"department\", \"_id\"]} title={__(\"Profit\")} render={profitRenderer}></Table.Column>\n        </Table>\n      )}\n    </NSHandler>\n  );\n}\n\nexport default DepartmentEarnings;\n","import { Button, Descriptions } from \"antd\";\nimport React from \"react\";\nimport OrderTable from \"./OrderTable\";\nimport ProductTable from \"./ProductTable\";\nimport { PrinterOutlined } from \"@ant-design/icons\";\nimport NSHandler from \"src/components/NSHandler\";\nimport TaskTable from \"./TaskTable\";\nimport ExpenseTable from \"./ExpenseTable\";\nimport { useTranslation } from \"react-i18next\";\nimport DepartmentEarnings from \"./DepartmentEarnings\";\nimport { useAPI } from \"src/hooks\";\nimport { cf, nf } from \"src/helpers\";\n\nfunction Stats() {\n  const { t } = useTranslation([\"translation\"]);\n  const [data = {}, orderStatsStatus] = useAPI(`/api/orders-stats${window.location.search}`);\n  const [dashboard = {}, dashboardStatus] = useAPI(`/api/dashboard${window.location.search}`);\n\n  let totalRevenue = 0;\n  let totalCost = 0;\n  let totalQuantity = 0;\n  let totalCollected = 0;\n  let totalNeedsToCollect = 0;\n  let profit = 0;\n  let realProfit = 0;\n  if (orderStatsStatus.isSuccess && dashboardStatus.isSuccess) {\n    totalRevenue = data.open.revenue + data.closed.revenue + data.partial.revenue;\n    totalCost = data.open.cost + data.closed.cost + data.partial.cost;\n    totalQuantity = data.open.orders + data.closed.orders + data.partial.orders;\n    totalCollected = data.closed.revenue + data.partial.collected;\n    totalNeedsToCollect = data.open.revenue + (data.partial.revenue - data.partial.collected);\n    profit = data.partial.revenue + data.closed.revenue - data.partial.cost - data.closed.cost;\n    realProfit = profit - dashboard.totalexpenses;\n  }\n  return (\n    <NSHandler status={orderStatsStatus}>\n      {() => (\n        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", columnGap: 16 }}>\n          <Descriptions title={t(\"Placed Orders\")} bordered size=\"small\">\n            <Descriptions.Item label={t(\"Profit\")} span={3}>\n              {cf(totalRevenue - totalCost)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Placed Orders\")} span={3}>\n              {nf(totalQuantity)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Revenue\")} span={1.5}>\n              {cf(totalRevenue)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Cost\")} span={1.5}>\n              {cf(totalCost)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Collected\")} span={1.5}>\n              {cf(totalCollected)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Yet to collect\")} span={1.5}>\n              {cf(totalNeedsToCollect)}\n            </Descriptions.Item>\n          </Descriptions>\n          <Descriptions title={t(\"Real Profits\")} bordered size=\"small\">\n            <Descriptions.Item label={t(\"Real Profits\")} span={3}>\n              {cf(realProfit)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Profit\")} span={1.5}>\n              {cf(profit)}\n            </Descriptions.Item>\n            <Descriptions.Item label={t(\"Expense\")} span={1.5}>\n              {cf(dashboard.totalexpenses)}\n            </Descriptions.Item>\n          </Descriptions>\n        </div>\n      )}\n    </NSHandler>\n  );\n}\n\nfunction PrintEverything() {\n  const { t } = useTranslation([\"translation\"]);\n\n  return (\n    <>\n      <Stats />\n      <h3 style={{ margin: \"16px 0\" }}>{t(\"Departments\")}</h3>\n      <DepartmentEarnings />\n      <h3 style={{ margin: \"16px 0\" }}>{t(\"Orders\")}</h3>\n      <OrderTable />\n      <h3 style={{ margin: \"16px 0\" }}>{t(\"Products\")}</h3>\n      <ProductTable />\n      <h3 style={{ margin: \"16px 0\" }}>{t(\"Expenses\")}</h3>\n      <ExpenseTable />\n      /*<h3 style={{ margin: \"16px 0\" }}>{t(\"Tasks\")}</h3>\n      <TaskTable /> \n      */\n      <Button\n        className=\"noprint\"\n        icon={<PrinterOutlined />}\n        type=\"primary\"\n        style={{ position: \"fixed\", bottom: 16, right: 16 }}\n        onClick={() => window.print()}\n      >\n        {t(\"Print\")}\n      </Button>\n    </>\n  );\n}\n\nexport default PrintEverything;\n","import React from \"react\";\nimport { Form, Input, Button, message } from \"antd\";\nimport NumberFormat from \"react-number-format\";\nimport { useAPI } from \"src/helpers/useFetch\";\nimport { useEffect } from \"react\";\nimport { navigate } from \"@reach/router\";\nimport { useState } from \"react\";\nimport { useMemo } from \"react\";\nimport \"./styles.scss\";\n\nconst ruleRequired = { required: true };\n\nconst validations = {\n  name: [ruleRequired],\n  password: [ruleRequired],\n  phoneNumber: [ruleRequired, { len: 11 }],\n  email: [ruleRequired, { type: \"email\" }],\n};\n\nfunction useOnboard() {\n  const [payload, setPayload] = useState();\n  const args = useMemo(() => (payload ? [\"/api/onboard\", { method: \"POST\", body: JSON.stringify(payload) }] : []), [payload]);\n  const [{ onboarded } = {}, status] = useAPI(...args);\n  return { onboarded, onboard: setPayload, status };\n}\n\nfunction InitialOnboarding({ setOnboarded }) {\n  const [{ onboarded } = {}] = useAPI(\"/api/check-onboarded\");\n  const { onboarded: onboardedNew, onboard, status: onboardStatus } = useOnboard();\n\n  useEffect(() => {\n    if (onboarded) {\n      setOnboarded(true);\n    }\n  }, [onboarded]);\n\n  useEffect(() => {\n    if (onboardedNew) {\n      setOnboarded(true);\n    }\n  }, [onboardedNew]);\n\n  useEffect(() => {\n    if (onboardStatus.isError) {\n      message.error(onboardStatus.message || \"failed to onboard\");\n    }\n    if (onboardStatus.isSuccess) {\n      message.success(\"super admin onboarded successfully\");\n      navigate(\"/login\");\n    }\n  }, [onboardStatus]);\n\n  return (\n    <div className=\"onboard-form-container\">\n      <Form className=\"onboard-form\" id=\"onboard-form\" layout=\"vertical\" size=\"large\" onFinish={onboard}>\n        <Form.Item label=\"Super Admin Name\" name=\"firstName\" rules={validations.name}>\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Email\" name=\"email\" rules={validations.email}>\n          <Input />\n        </Form.Item>\n        <Form.Item label=\"Password\" name=\"password\" rules={validations.password}>\n          <Input.Password />\n        </Form.Item>\n        <Form.Item\n          label=\"Phone No\"\n          name=\"landlineNumber\"\n          trigger=\"onValueChange\"\n          getValueFromEvent={(vs) => vs.value}\n          rules={validations.phoneNumber}\n        >\n          <NumberFormat customInput={Input} format=\"(##) ##### - ####\" placeholder=\"(00) 00000 - 0000\" />\n        </Form.Item>\n        <div className=\"text-right\">\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </div>\n      </Form>\n    </div>\n  );\n}\n\nexport default InitialOnboarding;\n","import React, { useEffect } from \"react\";\nimport { Alert, Form, Input, message, Select } from \"antd\";\nimport { FormModal } from \"src/components\";\nimport { useTranslation } from \"react-i18next\";\nimport { ruleRequired, translateFormRules } from \"src/helpers\";\nimport { useDepartmentOptions, useBrand } from \"src/hooks\";\n\nconst formRules = {\n  title: [ruleRequired],\n  departments: [ruleRequired],\n};\n\nfunction BrandFormModal({ initialValue, afterSave, onClose, okText }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { save, status } = useBrand(initialValue?._id);\n  const { options: departmentOptions, status: departmentOptionsStatus } = useDepartmentOptions();\n  const handleSubmit = (values) => {\n    save(initialValue?._id, values);\n  };\n\n  useEffect(() => {\n    if (status.isSuccess) {\n      message.success(status.message);\n      afterSave();\n    }\n  }, [status, afterSave, onClose]);\n\n  const rules = translateFormRules(t, formRules);\n\n  return (\n    <FormModal formID=\"brand-add-modal\" onClose={onClose} okText={okText}>\n      <Form layout=\"vertical\" id=\"brand-add-modal\" initialValues={initialValue} onFinish={handleSubmit}>\n        <Form.Item name=\"title\" label={t(\"Title\")} rules={rules.title}>\n          <Input />\n        </Form.Item>\n\n        <Form.Item name=\"description\" label={t(\"Description\")} rules={rules.description}>\n          <Input.TextArea rows={4} />\n        </Form.Item>\n      </Form>\n      {status.isError && <Alert message={status.message} type=\"error\" />}\n    </FormModal>\n  );\n}\n\nexport default BrandFormModal;\n","import React, { useEffect, useState } from \"react\";\nimport { Confirm } from \"semantic-ui-react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useBrands, useBrand } from \"src/hooks\";\nimport { NSHandler, OrgAwareButton } from \"src/components\";\nimport { Table, Input } from \"antd\";\nimport BrandFormModal from \"./BrandFormModal\";\nimport { editDeleteRenderer } from \"src/helpers\";\nimport \"./styles.css\";\n\nfunction BrandList(props) {\n  const { t } = useTranslation([\"translation\"]);\n  const { all: brands, total, pages, search, goto, sort, filters, status, refresh } = useBrands();\n  const { del, status: delStatus } = useBrand();\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(false);\n  const [selectedForEdit, setSelectedForEdit] = useState(undefined);\n  const [selectedForDelete, setSelectedForDelete] = useState(undefined);\n\n  const showAddModal = () => setShouldShowAddModal(true);\n  const closeAddModal = () => setShouldShowAddModal(false);\n  const closeEditModal = () => setSelectedForEdit(undefined);\n  const closeDeleteConfirm = () => setSelectedForDelete(undefined);\n\n  const handleSearch = (e) => search(e.target.value);\n\n  const afterSave = () => {\n    handleFormModalClose();\n    refresh();\n  };\n\n  const handleFormModalClose = () => {\n    closeAddModal();\n    closeEditModal();\n  };\n\n  useEffect(() => {\n    if (delStatus.isSuccess) {\n      closeDeleteConfirm();\n      refresh();\n    }\n  }, [delStatus, refresh]);\n\n  return (\n    <div className=\"container\">\n      <h2>{t(\"Brands\")}</h2>\n      <div className=\"list-actions\">\n        <span>\n          {t(\"Total\")}: {total}\n        </span>\n        <div style={{ marginLeft: 16, marginRight: 16 }}>\n          <Input.Search placeholder={t(\"Search\")} onChange={handleSearch} value={filters.searchText} allowClear />\n        </div>\n        <OrgAwareButton type=\"primary\" onClick={showAddModal}>\n          {t(\"Add\")} {t(\"Brand\")}\n        </OrgAwareButton>\n      </div>\n\n      <NSHandler status={status}>\n        {() => (\n          <Table dataSource={brands} rowKey=\"_id\" bordered>\n            <Table.Column\n              key=\"actions\"\n              title={t(\"Actions\")}\n              render={editDeleteRenderer(setSelectedForEdit, setSelectedForDelete)}\n            ></Table.Column>\n            <Table.Column dataIndex=\"_id\" title={t(\"ID\")}></Table.Column>\n            <Table.Column dataIndex=\"title\" title={t(\"Title\")}></Table.Column>\n            <Table.Column dataIndex=\"description\" title={t(\"Description\")}></Table.Column>\n          </Table>\n        )}\n      </NSHandler>\n\n      {(shouldShowAddModal || selectedForEdit) && (\n        <BrandFormModal\n          afterSave={afterSave}\n          onClose={handleFormModalClose}\n          initialValue={selectedForEdit}\n          okText={`${selectedForEdit ? t(\"Update\") : t(\"Add\")} ${t(\"Brand\")}`}\n        />\n      )}\n\n      {selectedForDelete && (\n        <Confirm\n          open\n          content={t(\"Are you sure you want to delete\") + \" ?\"}\n          onCancel={() => setSelectedForDelete()}\n          onConfirm={() => del(selectedForDelete)}\n          cancelButton={t(\"No\")}\n          confirmButton={t(\"Delete\")}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default BrandList;\n","import React, { useEffect } from \"react\";\nimport { Alert, Button, Form, Input, message } from \"antd\";\nimport { FormModal } from \"src/components\";\nimport { useTranslation } from \"react-i18next\";\nimport { ruleRequired, translateFormRules } from \"src/helpers\";\nimport { useDepartment } from \"src/hooks\";\n\nimport { MinusCircleOutlined } from \"@ant-design/icons\";\n\nconst formRules = {\n  title: [ruleRequired],\n  departments: [ruleRequired],\n  categoryTitle: [ruleRequired],\n  subCategoryTitle: [ruleRequired],\n};\n\nfunction DepartmentFormModal({ initialValue, afterSave, onClose, okText }) {\n  const { t } = useTranslation([\"translation\"]);\n  const { save, status } = useDepartment(initialValue?._id);\n\n  const handleSubmit = (values) => {\n    save(values, initialValue?._id);\n  };\n\n  useEffect(() => {\n    if (status.isSuccess) {\n      message.success(status.message);\n      afterSave();\n    }\n  }, [status, afterSave, onClose]);\n\n  const rules = translateFormRules(t, formRules);\n\n  return (\n    <FormModal formID=\"department-form-modal\" onClose={onClose} okText={okText} style={{ top: 16 }}>\n      <Form layout=\"vertical\" id=\"department-form-modal\" initialValues={initialValue} onFinish={handleSubmit}>\n        <Form.Item name=\"title\" label={t(\"Title\")} rules={rules.title}>\n          <Input />\n        </Form.Item>\n\n        <Form.Item name=\"description\" label={t(\"Description\")} rules={rules.description}>\n          <Input.TextArea rows={4} />\n        </Form.Item>\n\n        {!initialValue?._id && (\n          <>\n            <div style={{ paddingBottom: 8 }}>{t(\"Categories\")}</div>\n            <Form.List name=\"categories\">\n              {(fields, { add, remove }) => (\n                <>\n                  {fields.map((field) => (\n                    <div key={field.key}>\n                      <div className=\"categories-form-item-wrapper\">\n                        <Form.Item\n                          name={[field.name, \"title\"]}\n                          fieldKey={[field.fieldKey, \"title\"]}\n                          rules={rules.categoryTitle}\n                        >\n                          <Input />\n                        </Form.Item>\n                        <Form.Item\n                          name={[field.name, \"description\"]}\n                          fieldKey={[field.fieldKey, \"description\"]}\n                          rules={rules.categoryDescription}\n                        >\n                          <Input.TextArea rows={1} />\n                        </Form.Item>\n                        <Button type=\"danger\" ghost icon={<MinusCircleOutlined />} onClick={() => remove(field.name)}></Button>\n                      </div>\n                      <Form.List name={[field.name, \"subcategories\"]}>\n                        {(fields, { add, remove }) => (\n                          <div\n                            style={{\n                              marginLeft: 16,\n                              borderBottom: \"1px dashed #d9d9d9\",\n                              borderLeft: \"1px dashed #d9d9d9\",\n                              paddingLeft: 16,\n                              marginBottom: 16,\n                            }}\n                          >\n                            {fields.map((subfield) => (\n                              <div className=\"subcategories-form-item-wrapper\" key={subfield.key}>\n                                <Form.Item\n                                  name={[subfield.name, \"title\"]}\n                                  fieldKey={[subfield.fieldKey, \"title\"]}\n                                  rules={rules.subCategoryTitle}\n                                >\n                                  <Input />\n                                </Form.Item>\n                                <Form.Item\n                                  name={[subfield.name, \"description\"]}\n                                  fieldKey={[subfield.fieldKey, \"description\"]}\n                                  rules={rules.subCategoryDescription}\n                                >\n                                  <Input.TextArea rows={1} />\n                                </Form.Item>\n                                <Button\n                                  type=\"danger\"\n                                  ghost\n                                  icon={<MinusCircleOutlined />}\n                                  onClick={() => remove(subfield.name)}\n                                ></Button>\n                              </div>\n                            ))}\n                            <Button className=\"add-btn\" type=\"link\" onClick={() => add()}>\n                              + {t(\"Add\")} {t(\"Sub Category\")}\n                            </Button>\n                          </div>\n                        )}\n                      </Form.List>\n                    </div>\n                  ))}\n                  <Button className=\"add-btn\" type=\"link\" onClick={() => add()}>\n                    + {t(\"Add\")} {t(\"Category\")}\n                  </Button>\n                </>\n              )}\n            </Form.List>\n          </>\n        )}\n      </Form>\n      {status.isError && <Alert message={status.message} type=\"error\" />}\n    </FormModal>\n  );\n}\n\nexport default DepartmentFormModal;\n","import React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDepartments, useDepartment } from \"src/hooks\";\nimport { NSHandler, OrgAwareButton } from \"src/components\";\nimport { Table, Input, message } from \"antd\";\nimport DepartmentFormModal from \"./DepartmentFormModal\";\nimport { editDeleteRenderer } from \"src/helpers\";\nimport { Confirm } from \"semantic-ui-react\";\n\nimport \"./styles.scss\";\n\nfunction DepartmentList() {\n  const { t } = useTranslation([\"translation\"]);\n  const { all: departments, total, search, filters, status, refresh } = useDepartments();\n  const [shouldShowAddModal, setShouldShowAddModal] = useState(false);\n  const [selectedForEdit, setSelectedForEdit] = useState(undefined);\n  const [selectedForDelete, setSelectedForDelete] = useState(undefined);\n  const { del, status: delStatus } = useDepartment();\n\n  const showAddModal = () => setShouldShowAddModal(true);\n  const closeAddModal = () => setShouldShowAddModal(false);\n  const closeEditModal = () => setSelectedForEdit(undefined);\n\n  const handleSearch = (e) => search(e.target.value);\n\n  const afterSave = () => {\n    handleFormModalClose();\n    refresh();\n  };\n\n  const handleFormModalClose = () => {\n    closeAddModal();\n    closeEditModal();\n  };\n\n  useEffect(() => {\n    if (delStatus.isSuccess) {\n      setSelectedForDelete(undefined);\n      refresh();\n      message.success(delStatus.message);\n    }\n  }, [delStatus]);\n\n  const departmentsTree = departments.map((department) => ({\n    ...department,\n    categories: (department.categories || []).map((category) => ({\n      ...category,\n      key: category.title,\n      children: (category.subcategories || []).map((subcategory) => ({\n        ...subcategory,\n        isLeaf: true,\n        key: `${category.title} ${subcategory.title}`,\n      })),\n    })),\n  }));\n\n  console.log(\"departmentsTree :>> \", departmentsTree);\n\n  return (\n    <div className=\"container\">\n      <h2>{t(\"Departments\")}</h2>\n      <div className=\"list-actions\">\n        <span>\n          {t(\"Total\")}: {total}\n        </span>\n        <div style={{ marginLeft: 16, marginRight: 16 }}>\n          <Input.Search placeholder={t(\"Search\")} onChange={handleSearch} value={filters.searchText} allowClear />\n        </div>\n        <OrgAwareButton type=\"primary\" onClick={showAddModal}>\n          {t(\"Add\")} {t(\"Department\")}\n        </OrgAwareButton>\n      </div>\n\n      <NSHandler status={status}>\n        {() => (\n          <Table dataSource={departmentsTree} rowKey=\"_id\" bordered>\n            <Table.Column\n              key=\"actions\"\n              title={t(\"Actions\")}\n              render={editDeleteRenderer(setSelectedForEdit, setSelectedForDelete)}\n            ></Table.Column>\n            <Table.Column dataIndex=\"_id\" title={t(\"ID\")}></Table.Column>\n            <Table.Column dataIndex=\"title\" title={t(\"Title\")}></Table.Column>\n            <Table.Column dataIndex=\"description\" title={t(\"Description\")}></Table.Column>\n          </Table>\n        )}\n      </NSHandler>\n\n      {(shouldShowAddModal || selectedForEdit) && (\n        <DepartmentFormModal\n          afterSave={afterSave}\n          onClose={handleFormModalClose}\n          initialValue={selectedForEdit}\n          okText={`${selectedForEdit ? t(\"Update\") : t(\"Add\")} ${t(\"Department\")}`}\n        />\n      )}\n\n      {selectedForDelete && (\n        <Confirm\n          open\n          content={t(\"Are you sure you want to delete\") + \" ?\"}\n          onCancel={() => setSelectedForDelete()}\n          onConfirm={() => del(selectedForDelete)}\n          cancelButton={t(\"No\")}\n          confirmButton={t(\"Delete\")}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default DepartmentList;\n","import React from \"react\";\nimport { Form, Input } from \"antd\";\nimport FormModal from \"src/components/FormModal\";\nimport { usePermissions } from \"src/hooks\";\n\nconst FORM_ID = \"role-add-form-modal\";\n\nfunction RoleFormModal({ okText, onClose }) {\n  const { data: permissions, status } = usePermissions();\n  const initialValue = { permissions };\n  console.log(\"initialValue :>> \", initialValue);\n  return (\n    <FormModal\n      className={FORM_ID}\n      formID={FORM_ID}\n      okText={okText}\n      onClose={onClose}\n      // submitButtonProps={{ loading: saveStatus.isLoading }}\n      width=\"100%\"\n      style={{ top: 16 }}\n      organizationId={initialValue?.organizationId}\n    >\n      <Form id={FORM_ID} initialValues={initialValue}>\n        <Form.Item label={__(\"Title\")} name=\"title\">\n          <Input></Input>\n        </Form.Item>\n        <Form.List name=\"permissions\">{console.log}</Form.List>\n      </Form>\n    </FormModal>\n  );\n}\n\nexport default RoleFormModal;\n","import React, { useState } from \"react\";\nimport { Table as AntdTable, Button } from \"antd\";\nimport RoleFormModal from \"./RoleFormModal\";\n\nconst columns = [\n  { title: __(\"Role\"), dataIndex: \"title\", key: \"title\" },\n  { title: __(\"Permissions\"), dataIndex: \"permissions\", key: \"permissions\" },\n];\n\nfunction Table({ data, status, columns }) {\n  return <AntdTable dataSource={data} columns={columns} />;\n}\n\nfunction RolesAndPermissions() {\n  const [shouldShowAddModal, setShouldShowModal] = useState(false);\n  const showAddModal = () => setShouldShowModal(true);\n  const closeAddModal = () => setShouldShowModal(false);\n\n  return (\n    <div>\n      <Button onClick={showAddModal} type=\"primary\">\n        {__(\"Add\")} {__(\"Role\")}\n      </Button>\n      <Table data={[]} columns={columns} />\n      {shouldShowAddModal && <RoleFormModal />}\n    </div>\n  );\n}\n\nexport default RolesAndPermissions;\n","import React, { useCallback, useMemo } from \"react\";\n\nimport { navigate, Router } from \"@reach/router\";\nimport Login from \"../LoginPage\";\nimport ProductsPage from \"../ProductsPage\";\nimport SubcategoriesPage from \"../SubcategoriesPage\";\nimport CategoriesPage from \"../CategoriesPage\";\nimport { ProtectedRoute } from \"src/components\";\nimport ChequeList from \"../ChequeList\";\nimport ExpenseList from \"../ExpenseList\";\nimport Dashboard from \"../Dashboard/index\";\nimport Header from \"../../components/Header\";\nimport NotFound from \"../../components/NotFound\";\n\nimport ModelsPage from \"../ModelsPage\";\nimport ProductViewPage from \"src/components/ProductComponents/ProductView\";\nimport OrdersPage from \"../OrdersPage\";\nimport ClientsPage from \"../ClientsPage\";\nimport AdminsPage from \"../AdminsPage\";\nimport OrderViewPage from \"src/components/OrderComponents/OrderView\";\nimport OrganizationsPage from \"../OrganizationsPage\";\nimport ExpenseDetail from \"src/containers/ExpenseDetail\";\nimport WoodCalculator from \"src/containers/WoodCalculator\";\nimport TaskList from \"src/containers/TaskList\";\nimport TaskDetail from \"src/containers/TaskDetail\";\nimport VehicleList from \"src/containers/VehicleList\";\nimport VehicleDetail from \"src/containers/VehicleDetail\";\nimport PrintEverything from \"src/containers/PrintEverything\";\nimport { useState } from \"react\";\nimport { OrganizationContext, UserContext } from \"src/contexts\";\nimport { useEffect } from \"react\";\nimport InitialOnboarding from \"../InitialOnboarding\";\n\nimport BrandList from \"src/containers/BrandList\";\nimport DepartmentList from \"src/containers/DepartmentList\";\nimport RolesAndPermissions from \"src/containers/RolesAndPermissions\";\nimport { useAPI } from \"src/hooks\";\nimport { ConfigProvider } from \"antd\";\nimport enUS from \"antd/es/locale/en_US\";\nimport ptBR from \"antd/es/locale/pt_BR\";\nimport i18n from \"i18next\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction ResetCache() {\n  useEffect(() => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"onboarded\");\n    localStorage.removeItem(\"organizationId\");\n    localStorage.removeItem(\"locale\");\n  }, []);\n  return <div>DONE</div>;\n}\n\nconst localeFileMap = { \"en-US\": enUS, \"pt-BR\": ptBR };\n\nconst defaultGlobalFormConfig = {\n  validateMessages: {\n    required: \"field is required\",\n  },\n};\n\nconst decodeJWT = (token) => {\n  try {\n    return JSON.parse(atob(token.split(\".\")[1]));\n  } catch (e) {\n    console.error(e);\n    return undefined;\n  }\n};\n\nconst getInitialState = () => localStorage.getItem(\"token\");\nconst getOnboardedFromLS = () => !!localStorage.getItem(\"onboarded\");\n\nconst Routing = () => {\n  const { t } = useTranslation(\"translation\");\n  const [organizationId, setOrganizationId] = useState(localStorage.getItem(\"organizationId\") ?? undefined);\n  const [token, setToken] = useState(getInitialState);\n  const [locale, setLocale] = useState(localStorage.getItem(\"locale\") || \"pt-BR\");\n  const [{ onboarded: onboardedFromAPI = false } = {}, onboardedStatus] = useAPI(\n    getOnboardedFromLS() ? undefined : \"/api/check-onboarded\"\n  );\n\n  const onboarded = useMemo(() => getOnboardedFromLS() || onboardedFromAPI, [onboardedFromAPI]);\n\n  const handleLogin = useCallback((token) => {\n    localStorage.setItem(\"token\", token);\n    setToken(token);\n  }, []);\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    setToken();\n  };\n\n  const { user } = useMemo(() => (token ? decodeJWT(token) : {}), [token]);\n\n  const authContext = useMemo(() => {\n    return { ...(token ? { token, user } : {}), logout };\n  }, [token, user]);\n\n  useEffect(() => {\n    if (organizationId) {\n      localStorage.setItem(\"organizationId\", organizationId);\n    } else {\n      localStorage.removeItem(\"organizationId\");\n    }\n  }, [organizationId]);\n\n  useEffect(() => {\n    if (onboardedStatus.isSuccess) {\n      localStorage.setItem(\"onboarded\", onboardedFromAPI);\n    }\n  }, [onboardedStatus, onboardedFromAPI]);\n\n  useEffect(() => {\n    if (!onboarded && onboardedStatus.isSuccess) {\n      navigate(\"/onboard\");\n    }\n  }, [onboarded, onboardedStatus]);\n\n  useEffect(() => {\n    i18n.changeLanguage(locale);\n    localStorage.setItem(\"locale\", locale);\n  }, [locale]);\n\n  useEffect(() => {\n    if (!token) {\n      navigate(\"/login\");\n    }\n  }, [token]);\n\n  const shouldShowNavigation = new URLSearchParams(window.location.search).get(\"nav\") !== \"false\";\n\n  const globalFormConfig = useMemo(\n    () => ({\n      ...defaultGlobalFormConfig,\n      validateMessages: Object.fromEntries(\n        Object.entries(defaultGlobalFormConfig.validateMessages).map(([k, msg]) => [k, t(msg)])\n      ),\n    }),\n    [t]\n  );\n\n  return (\n    <UserContext.Provider value={authContext}>\n      <OrganizationContext.Provider value={organizationId}>\n        <ConfigProvider form={globalFormConfig} locale={localeFileMap[locale]}>\n          <div className=\"fill\">\n            {token && shouldShowNavigation && (\n              <header className=\"noprint\">\n                <Header\n                  admin={user}\n                  logout={logout}\n                  onOrganizationChange={setOrganizationId}\n                  onLocaleChange={setLocale}\n                  locale={locale}\n                />\n              </header>\n            )}\n            <main className=\"fill\">\n              <Router id=\"router\">\n                <Login path=\"login\" onLogin={handleLogin} />\n                <ResetCache path=\"reset-cache\" />\n                <InitialOnboarding path=\"/onboard\" />\n                <ProtectedRoute path=\"/\" component={Dashboard} />\n                <ProtectedRoute path=\"/products\" component={ProductsPage} />\n\n                <ProtectedRoute path=\"/products/view/:id\" component={ProductViewPage} />\n\n                <ProtectedRoute path=\"/departments\" component={DepartmentList} />\n                <ProtectedRoute path=\"/categories\" component={CategoriesPage} />\n                <ProtectedRoute path=\"/subcategories\" component={SubcategoriesPage} />\n                <ProtectedRoute path=\"/brands\" component={BrandList} />\n                <ProtectedRoute path=\"/models\" component={ModelsPage} />\n                <ProtectedRoute path=\"/orders\" component={OrdersPage} />\n                <ProtectedRoute path=\"/orders/view/:id\" admin={user} component={OrderViewPage} />\n                <ProtectedRoute path=\"/clients\" component={ClientsPage} />\n\n                {[1, 2, 3].includes(user?.roleNumber) && (\n                <>\n                <ProtectedRoute path=\"/cheques\" component={ChequeList} />\n                <ProtectedRoute path=\"/expenses\" component={ExpenseList} />\n                <ProtectedRoute path=\"/expenses/:id\" component={ExpenseDetail} />\n                </>\n                )}\n                <ProtectedRoute path=\"/tasks\" component={TaskList} />\n                <ProtectedRoute path=\"/tasks/:id\" component={TaskDetail} />            \n                {[1, 2].includes(user?.roleNumber) && (\n                  <>\n                    <ProtectedRoute path=\"/orgs\" component={OrganizationsPage} />\n                    <ProtectedRoute path=\"/wood-price-calculator\" component={WoodCalculator} />\n                    <ProtectedRoute path=\"/roles-permissions\" component={RolesAndPermissions} />\n                    <ProtectedRoute path=\"/vehicles\" component={VehicleList} />\n                    <ProtectedRoute path=\"/vehicles/:id\" component={VehicleDetail} />\n                    </>\n                )}\n                 {[1, 2, 3].includes(user?.roleNumber) && (\n                  <>\n                    <ProtectedRoute path=\"/admins\" component={AdminsPage} />\n                    <ProtectedRoute path=\"/print-everything\" component={PrintEverything} />\n                  </>\n                )}\n\n                {[1, 2, 3].includes(user?.roleNumber) && (\n                  <>\n                    <ProtectedRoute exact path=\"/wood-price-calculator\" component={WoodCalculator} />\n                  </>\n                )}\n\n                {/* redirect to login won't work without those*/}\n                {/* <PrivateRoute exact path=\"/orgs\" component={() => null} />\n                <PrivateRoute exact path=\"/admins\" component={() => null} /> */}\n                <NotFound default />\n              </Router>\n            </main>\n          </div>\n        </ConfigProvider>\n      </OrganizationContext.Provider>\n    </UserContext.Provider>\n  );\n};\n\nexport default Routing;\n","import React from \"react\";\n\nimport Routing from \"./containers/Routing\";\n\nimport \"./App.css\";\nimport { Suspense } from \"react\";\nimport { Spin } from \"antd\";\n\nconst App = () => (\n  <Suspense fallback={<Spin />}>\n    <Routing />\n  </Suspense>\n);\n\nexport default App;\n","import React, { useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/reset.scss\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"./styles/common.scss\";\n\nimport \"./i18n\";\n\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// const T = ({children}) => {\n//   const [loaded, setLoaded] = useState(false)\n\n//   useEffect(())\n\n// }\n"],"sourceRoot":""}